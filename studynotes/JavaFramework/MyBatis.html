<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.9" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.36" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://doc.zzq8.cn/studynotes/JavaFramework/MyBatis.html"><meta property="og:site_name" content="Zz"><meta property="og:description" content="MyBatis 2022/1/13 è‡ªå·±å¾ˆä¹…ä»¥å‰å­¦äº†è¿™ä¸€å¥—ä½†å­¦çš„ä¸ç³»ç»Ÿï¼Œç°åœ¨èŠ±3-4å¤©é‡æ–°è¿‡ä¸€éï¼Œå¹¶å½’çº³æ€»ç»“ä¸ºç¬”è®°ã€‚ from: XD MyBatis æ¡†æ¶ï¼š MyBatis æœ¬æ˜¯ apache çš„ä¸€ä¸ªå¼€æºé¡¹ç›® iBatis, 2010 å¹´è¿™ä¸ªé¡¹ç›®ç”± apache software foundation è¿ç§»åˆ°äº† google codeï¼Œå¹¶ä¸”æ”¹åä¸º M..."><meta property="og:type" content="article"><meta property="og:image" content="https://image.zzq8.cn/img/202201121135959.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-05-18T10:21:56.000Z"><meta property="article:modified_time" content="2024-05-18T10:21:56.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"","image":["https://image.zzq8.cn/img/202201121135959.png","https://images.zzq8.cn/img/202201121637104.png","https://images.zzq8.cn/img/202201130929856.png","https://images.zzq8.cn//img/202201131728029.png","https://images.zzq8.cn//img/202201131123930.png","https://images.zzq8.cn/img/202201131605840.png","https://images.zzq8.cn/img/202201131609347.png","https://images.zzq8.cn/img/202201131618205.png","https://images.zzq8.cn/img/202201131729864.png","https://images.zzq8.cn/img/202201131730320.png","https://images.zzq8.cn/img/202201131730556.png","https://images.zzq8.cn/img/202201131731716.png","https://images.zzq8.cn/img/202201131731701.png","https://images.zzq8.cn/img/202201131731577.png","https://images.zzq8.cn/img/202201131731779.png"],"dateModified":"2024-05-18T10:21:56.000Z","author":[]}</script><title>Zz</title><meta name="description" content="MyBatis 2022/1/13 è‡ªå·±å¾ˆä¹…ä»¥å‰å­¦äº†è¿™ä¸€å¥—ä½†å­¦çš„ä¸ç³»ç»Ÿï¼Œç°åœ¨èŠ±3-4å¤©é‡æ–°è¿‡ä¸€éï¼Œå¹¶å½’çº³æ€»ç»“ä¸ºç¬”è®°ã€‚ from: XD MyBatis æ¡†æ¶ï¼š MyBatis æœ¬æ˜¯ apache çš„ä¸€ä¸ªå¼€æºé¡¹ç›® iBatis, 2010 å¹´è¿™ä¸ªé¡¹ç›®ç”± apache software foundation è¿ç§»åˆ°äº† google codeï¼Œå¹¶ä¸”æ”¹åä¸º M...">
    <link rel="preload" href="/assets/style-DdgbutwI.css" as="style"><link rel="stylesheet" href="/assets/style-DdgbutwI.css">
    <link rel="modulepreload" href="/assets/app-Qhk47erD.js"><link rel="modulepreload" href="/assets/MyBatis.html-Blfned7x.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-7rfeD8B6.js" as="script"><link rel="prefetch" href="/assets/2023å¹´æ€»ç»“.html-CXuoH8yv.js" as="script"><link rel="prefetch" href="/assets/æ‰¾å·¥ä½œæœ‰æ„Ÿ.html-DSNrt-xQ.js" as="script"><link rel="prefetch" href="/assets/index.html-BtsJJvBK.js" as="script"><link rel="prefetch" href="/assets/disable.html-D6tWqlur.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-D9r4FNxB.js" as="script"><link rel="prefetch" href="/assets/layout.html-DnPkzSnW.js" as="script"><link rel="prefetch" href="/assets/markdown.html-Bd3hroXD.js" as="script"><link rel="prefetch" href="/assets/page.html-CcdA-kPD.js" as="script"><link rel="prefetch" href="/assets/TODO.html-N2NtbXY2.js" as="script"><link rel="prefetch" href="/assets/Tradingview.html-DTYcW_oj.js" as="script"><link rel="prefetch" href="/assets/DistributedLock.html-C1L3NhwQ.js" as="script"><link rel="prefetch" href="/assets/HttpRequest.html-DfqDQlbt.js" as="script"><link rel="prefetch" href="/assets/JWT.html-BL9keXCR.js" as="script"><link rel="prefetch" href="/assets/Nginx.html-Bek8HmbC.js" as="script"><link rel="prefetch" href="/assets/è®¡ç½‘é—®é¢˜ï¼ˆå¾…è§£å†³ï¼‰.html-CEoxmqJ8.js" as="script"><link rel="prefetch" href="/assets/Advanced.html-CHH4K7zG.js" as="script"><link rel="prefetch" href="/assets/Basic.html-DzfRmG_E.js" as="script"><link rel="prefetch" href="/assets/ElasticSearch.html-BMvdYiCa.js" as="script"><link rel="prefetch" href="/assets/JUC.html-BNjkp7I8.js" as="script"><link rel="prefetch" href="/assets/JVM.html-B5XzQ437.js" as="script"><link rel="prefetch" href="/assets/SpringBoot.html-DF-SN0sn.js" as="script"><link rel="prefetch" href="/assets/SpringCloud.html-C63vXrUB.js" as="script"><link rel="prefetch" href="/assets/SpringIntegration.html-CCffe6M_.js" as="script"><link rel="prefetch" href="/assets/SpringSecurity.html-Cx864alc.js" as="script"><link rel="prefetch" href="/assets/Java æ ¸å¿ƒæŠ€æœ¯é¢è¯•ç²¾è®².html-2ZJ0PORU.js" as="script"><link rel="prefetch" href="/assets/JavaSE.html-DLfBDMR9.js" as="script"><link rel="prefetch" href="/assets/KnowledgePlanet-JavaGuide.html-8bq-1zrw.js" as="script"><link rel="prefetch" href="/assets/Lambda.html-3lrEF-sf.js" as="script"><link rel="prefetch" href="/assets/Steam.html-BOZMc1D4.js" as="script"><link rel="prefetch" href="/assets/å°šç¡…è°·ç»å…¸Javaé¢è¯•é¢˜ç¬¬ä¸€å­£.html-Co4bd6mA.js" as="script"><link rel="prefetch" href="/assets/LinuxRef.html-Cj1BGHI5.js" as="script"><link rel="prefetch" href="/assets/Linuxç¯å¢ƒéƒ¨ç½²(JREã€MySQLã€Nginx).html-CgYPjruD.js" as="script"><link rel="prefetch" href="/assets/RabbitMQ.html-_nIh12jR.js" as="script"><link rel="prefetch" href="/assets/Redis.html-FujKaHLG.js" as="script"><link rel="prefetch" href="/assets/RedisAdvanced.html-MdAMfr5M.js" as="script"><link rel="prefetch" href="/assets/RuoYi.html-B1VN_z-Q.js" as="script"><link rel="prefetch" href="/assets/MySQLå®æˆ˜45è®².html-GtPFWcqr.js" as="script"><link rel="prefetch" href="/assets/Mysqlç´¢å¼•_åšé¢˜æ€»ç»“.html-CuS4z9So.js" as="script"><link rel="prefetch" href="/assets/5am-Project.html-3-GHnofg.js" as="script"><link rel="prefetch" href="/assets/Clash.html-BwCvr9TE.js" as="script"><link rel="prefetch" href="/assets/Git_SVN.html-idLU5M0Z.js" as="script"><link rel="prefetch" href="/assets/GitHub Actions.html-f7lkyHJD.js" as="script"><link rel="prefetch" href="/assets/MacOS.html-CZwUAlbb.js" as="script"><link rel="prefetch" href="/assets/Maven.html-CPv64u4O.js" as="script"><link rel="prefetch" href="/assets/Regexr.html-D4Az8_4a.js" as="script"><link rel="prefetch" href="/assets/StudyList.html-CZHyJx11.js" as="script"><link rel="prefetch" href="/assets/VuePress Theme Hope.html-CZzW_o-R.js" as="script"><link rel="prefetch" href="/assets/WTG (WindowsToGo).html-eQbigywQ.js" as="script"><link rel="prefetch" href="/assets/Windows_Software.html-DfHZ03BH.js" as="script"><link rel="prefetch" href="/assets/idea_windows å¿«æ·é”®åŠä½¿ç”¨æŠ€å·§.html-auNd8dzy.js" as="script"><link rel="prefetch" href="/assets/Books.html-DgchnHEH.js" as="script"><link rel="prefetch" href="/assets/FirstYear.html-BHKDKb-F.js" as="script"><link rel="prefetch" href="/assets/upupor.html-B6f6Sw-H.js" as="script"><link rel="prefetch" href="/assets/å¿«æ’ï¼ˆåˆ†æ²»æ€æƒ³ï¼‰.html-BHfvf2Ov.js" as="script"><link rel="prefetch" href="/assets/è®¡ç»„åŸ.html-CujL0xpv.js" as="script"><link rel="prefetch" href="/assets/å°šä¸Šä¼˜é€‰_Abandon.html-EtIdYe9n.js" as="script"><link rel="prefetch" href="/assets/2020 ç¨‹åºå‘˜æ‰¾å·¥ä½œæŒ‡å—.html-BAAykU46.js" as="script"><link rel="prefetch" href="/assets/ç¨‹åºå‘˜å¦‚ä½•é«˜æ•ˆå­¦ä¹ ï¼ˆä»¥ Java ä¸ºä¾‹ï¼‰.html-DncCFiAm.js" as="script"><link rel="prefetch" href="/assets/Chromeä¹¦ç­¾è¢«åŠ«æŒ.html-BIAWOFxN.js" as="script"><link rel="prefetch" href="/assets/Kali ç ´è§£ WIFI.html-DW6_E58t.js" as="script"><link rel="prefetch" href="/assets/ShareListæŒ‚è½½é˜¿é‡Œäº‘ç›˜.html-DenPCdeH.js" as="script"><link rel="prefetch" href="/assets/Windows To Go Uç›˜.html-2_jDrgle.js" as="script"><link rel="prefetch" href="/assets/docsifyå¿«é€Ÿéƒ¨ç½²ä¼˜ç¾çš„åœ¨çº¿æ–‡æ¡£.html-Dcz9jQYR.js" as="script"><link rel="prefetch" href="/assets/å¤©å¤©éƒ½åœ¨ç”¨çš„è½¯ç¡¬ä»¶.html-DC7gO6ui.js" as="script"><link rel="prefetch" href="/assets/Spring.html-geAAwpsp.js" as="script"><link rel="prefetch" href="/assets/404.html-BdE4jB3m.js" as="script"><link rel="prefetch" href="/assets/index.html-BNz1J07-.js" as="script"><link rel="prefetch" href="/assets/index.html-APyA0SGy.js" as="script"><link rel="prefetch" href="/assets/index.html-4LoxDDSc.js" as="script"><link rel="prefetch" href="/assets/index.html-atgjZmp2.js" as="script"><link rel="prefetch" href="/assets/index.html-BMbD7yNa.js" as="script"><link rel="prefetch" href="/assets/index.html-JWFR65SU.js" as="script"><link rel="prefetch" href="/assets/index.html-Dq1nfQtA.js" as="script"><link rel="prefetch" href="/assets/index.html-02rzEUKF.js" as="script"><link rel="prefetch" href="/assets/index.html-B31FKFOF.js" as="script"><link rel="prefetch" href="/assets/index.html-CUH1TVgj.js" as="script"><link rel="prefetch" href="/assets/index.html-DMtUsRLw.js" as="script"><link rel="prefetch" href="/assets/index.html-Dmx_zHXg.js" as="script"><link rel="prefetch" href="/assets/index.html-BEWfDnm-.js" as="script"><link rel="prefetch" href="/assets/index.html-eNuhbwbF.js" as="script"><link rel="prefetch" href="/assets/index.html-DE_qMqM1.js" as="script"><link rel="prefetch" href="/assets/index.html-B2wH9cUm.js" as="script"><link rel="prefetch" href="/assets/index.html-D6x-8r_v.js" as="script"><link rel="prefetch" href="/assets/index.html-CN4OJKL7.js" as="script"><link rel="prefetch" href="/assets/index.html-BP1vbeHr.js" as="script"><link rel="prefetch" href="/assets/index.html-BTUi0xXt.js" as="script"><link rel="prefetch" href="/assets/index.html-uNf3unSm.js" as="script"><link rel="prefetch" href="/assets/index.html-B3kwVivk.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-SzV8tJDW.js" as="script"><link rel="prefetch" href="/assets/style-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/assets/docsearch-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/assets/index-Ds2TtRM5.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="/logo.png" alt><!----><span class="vp-site-name hide-in-pad">Zz</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link active" href="/studynotes/" aria-label="ä»£ç ç¬”è®°"><span class="font-icon icon fa-fw fa-sm fas fa-code" style=""></span>ä»£ç ç¬”è®°<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/demo/" aria-label="æµ®ç”Ÿæ‚è®°"><span class="font-icon icon fa-fw fa-sm fas fa-fish-fins" style=""></span>æµ®ç”Ÿæ‚è®°<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="èµ„æºå®åº“"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span>èµ„æºå®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/resources/books/" aria-label="ä¹¦ç±èµ„æº"><span class="font-icon icon fa-fw fa-sm fas fa-book-open" style=""></span>ä¹¦ç±èµ„æº<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/resources/videos/" aria-label="å½±éŸ³èµ„æº"><span class="font-icon icon fa-fw fa-sm fas fa-play" style=""></span>å½±éŸ³èµ„æº<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="ç½‘ç«™ç›¸å…³"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-id-card" style=""></span>ç½‘ç«™ç›¸å…³</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/about-the-author/" aria-label="å…³äºä½œè€…"><span class="font-icon icon fa-fw fa-sm fas fa-user" style=""></span>å…³äºä½œè€…<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/timeline/" aria-label="æ›´æ–°å†å²"><span class="font-icon icon fa-fw fa-sm fas fa-history" style=""></span>æ›´æ–°å†å²<!----></a></li></ul></button></div></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/zzq8/zzq8" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="æœç´¢æ–‡æ¡£"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢æ–‡æ¡£</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/studynotes/TODO.html" aria-label="/studynotes/TODO.html"><!---->/studynotes/TODO.html<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">408 Network</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Distributed Lock</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Guli Mall</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Java Framework</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/studynotes/JavaFramework/MyBatis.html" aria-label="/studynotes/JavaFramework/MyBatis.html"><!---->/studynotes/JavaFramework/MyBatis.html<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/studynotes/JavaFramework/SpringSecurity.html" aria-label="/studynotes/JavaFramework/SpringSecurity.html"><!---->/studynotes/JavaFramework/SpringSecurity.html<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/studynotes/JavaFramework/SpringBoot.html" aria-label="@RequestParamï¼Œ@PathParamï¼Œ@PathVariableç­‰æ³¨è§£åŒºåˆ«"><!---->@RequestParamï¼Œ@PathParamï¼Œ@PathVariableç­‰æ³¨è§£åŒºåˆ«<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/studynotes/JavaFramework/SpringCloud.html" aria-label="SpringCloud"><!---->SpringCloud<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/studynotes/JavaFramework/SpringIntegration.html" aria-label="SpringIntegration"><!---->SpringIntegration<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Java SE</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">JUC</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">JVM</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Linux</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">MQ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">No SQL</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Ruo Yi</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">SQL</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Upupor</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">ZOther</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!----></h1><div class="page-info"><!----><!----><!----><!----><span class="page-word-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 9083 å­—</span><meta property="wordCount" content="9083"></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 30 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT30M"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!--[--><!----><!--]--><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#mybatis">MyBatis</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ä¸€ã€hello-world">ä¸€ã€Hello World</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-æ­å»ºç¯å¢ƒ">1. æ­å»ºç¯å¢ƒ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-ç¼–å†™ä»£ç ">2. ç¼–å†™ä»£ç </a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#äºŒã€æ˜ å°„æ–‡ä»¶">äºŒã€æ˜ å°„æ–‡ä»¶</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-è·å–è‡ªå¢ä¸»é”®çš„å€¼">1. è·å–è‡ªå¢ä¸»é”®çš„å€¼</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-å‚æ•°å¤„ç†">2. å‚æ•°å¤„ç†</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-å’Œ-çš„åŒºåˆ«">3. #{} å’Œ ${} çš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-è¿”å›listå’Œmap">4. è¿”å›Listå’ŒMap</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-resulttypeå±æ€§">5. resultTypeå±æ€§</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-resultmap-è‡ªå®šä¹‰ç»“æœé›†æ˜ å°„">6. resultMapï¼ˆè‡ªå®šä¹‰ç»“æœé›†æ˜ å°„ï¼‰</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ä¸‰ã€åŠ¨æ€sql">ä¸‰ã€åŠ¨æ€SQL</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-if">1. if</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-where">2. where</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-trim">3. trim</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-choose">4. choose</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-set">5. set</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-foreach">6. foreach</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-ä¸¤ä¸ªå†…ç½®å‚æ•°">7. ä¸¤ä¸ªå†…ç½®å‚æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_8-bind">8. bind</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-sql">9. sql</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å››ã€ç¼“å­˜">å››ã€ç¼“å­˜</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-ç®€ä»‹">1. ç®€ä»‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-ä¸€çº§ç¼“å­˜-æœ¬åœ°ç¼“å­˜">2. ä¸€çº§ç¼“å­˜ï¼ˆæœ¬åœ°ç¼“å­˜ï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-äºŒçº§ç¼“å­˜">3. äºŒçº§ç¼“å­˜</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-å’Œç¼“å­˜æœ‰å…³çš„è®¾ç½®-å±æ€§">4. å’Œç¼“å­˜æœ‰å…³çš„è®¾ç½®/å±æ€§ï¼š</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-ç¼“å­˜åŸç†å›¾">5. ç¼“å­˜åŸç†å›¾</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-ç¬¬ä¸‰æ–¹ç¼“å­˜æ•´åˆ">6. ç¬¬ä¸‰æ–¹ç¼“å­˜æ•´åˆ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#äº”ã€ssm-æ•´åˆ">äº”ã€SSM æ•´åˆ</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-å‰è¨€">1. å‰è¨€</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-æ•´åˆæµç¨‹">2. æ•´åˆæµç¨‹</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å…­ã€é€†å‘å·¥ç¨‹-mbg">å…­ã€é€†å‘å·¥ç¨‹ ( MBG )</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ä¸ƒã€mybatis-è¿è¡ŒåŸç†-é‡ç‚¹">ä¸ƒã€MyBatis è¿è¡ŒåŸç†ï¼ˆé‡ç‚¹ï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å…«ã€æ’ä»¶åŸç†">å…«ã€æ’ä»¶åŸç†</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ä¹ã€pagehelper-åˆ†é¡µæŸ¥è¯¢">ä¹ã€pageHelper åˆ†é¡µæŸ¥è¯¢</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h2 id="mybatis" tabindex="-1"><a class="header-anchor" href="#mybatis"><span>MyBatis</span></a></h2><blockquote><p>2022/1/13 è‡ªå·±å¾ˆä¹…ä»¥å‰å­¦äº†è¿™ä¸€å¥—ä½†å­¦çš„ä¸ç³»ç»Ÿï¼Œç°åœ¨èŠ±3-4å¤©é‡æ–°è¿‡ä¸€éï¼Œå¹¶å½’çº³æ€»ç»“ä¸ºç¬”è®°ã€‚ from: XD</p><p>MyBatis æ¡†æ¶ï¼š MyBatis æœ¬æ˜¯ apache çš„ä¸€ä¸ªå¼€æºé¡¹ç›® iBatis, 2010 å¹´è¿™ä¸ªé¡¹ç›®ç”± apache software foundation è¿ç§»åˆ°äº† google codeï¼Œå¹¶ä¸”æ”¹åä¸º MyBatis ã€‚2013 å¹´ 11 æœˆè¿ç§»åˆ° Githubã€‚</p><p>XD <code>MyBatisæœ¬èº«å¹¶ä¸æä¾›è¿æ¥æ± åŠŸèƒ½ï¼Œå®ƒä¸»è¦å…³æ³¨äºSQLæ˜ å°„å’Œæ•°æ®åº“æ“ä½œçš„æ¡†æ¶ã€‚è¿æ¥æ± æ˜¯ä¸æ•°æ®åº“äº¤äº’çš„ä¸€éƒ¨åˆ†ï¼Œä½†å¹¶ä¸æ˜¯MyBatisé»˜è®¤çš„æ–¹å¼ã€‚</code></p><p>åœ¨ä½¿ç”¨MyBatisæ—¶ï¼Œä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„è¿æ¥æ± åº“æ¥ç®¡ç†æ•°æ®åº“è¿æ¥ã€‚å¸¸è§çš„è¿æ¥æ± åº“åŒ…æ‹¬ï¼š</p><p>Apache Commons DBCP <code>HikariCP</code> C3P0 <code>Druid</code></p></blockquote><h2 id="ä¸€ã€hello-world" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€hello-world"><span>ä¸€ã€Hello World</span></a></h2><h3 id="_1-æ­å»ºç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#_1-æ­å»ºç¯å¢ƒ"><span>1. æ­å»ºç¯å¢ƒ</span></a></h3><p>æœ‰ä»€ä¹ˆé—®é¢˜ä¼˜å…ˆçœ‹å®˜ç½‘ <a href="https://mybatis.net.cn/" target="_blank" rel="noopener noreferrer">MyBatisä¸­æ–‡ç½‘<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h4 id="_1-1-æ­å»ºæ•°æ®åº“mysql" tabindex="-1"><a class="header-anchor" href="#_1-1-æ­å»ºæ•°æ®åº“mysql"><span>1.1. æ­å»ºæ•°æ®åº“MySQL</span></a></h4><p>ç•¥</p><h4 id="_1-2-idea-ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#_1-2-idea-ç¯å¢ƒ"><span>1.2. idea ç¯å¢ƒ</span></a></h4><h5 id="_1-2-1-maven" tabindex="-1"><a class="header-anchor" href="#_1-2-1-maven"><span>1.2.1. Maven</span></a></h5><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.4.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.47<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.18.22<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--å› ä¸ºæˆ‘æ˜¯æŠŠStudentMapper.xmlæ”¾åœ¨javaç›®å½•ä¸‹çš„ï¼Œéœ€é…ç½®ã€‚å¦‚æœæ˜¯æ”¾resourcesåˆ™ä¸ç”¨é…è¿™ä¸ª--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_1-2-2-jdbc-properties" tabindex="-1"><a class="header-anchor" href="#_1-2-2-jdbc-properties"><span>1.2.2. jdbc.properties</span></a></h5><div class="language-properties line-numbers-mode" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token key attr-name">driver</span><span class="token punctuation">=</span><span class="token value attr-value">com.mysql.jdbc.Driver</span>
<span class="token comment">#æ³¨æ„è¿™ä¸ªuseSSL=falseï¼Œä¸€å¼€å§‹æˆ‘ç”¨çš„trueæŠ¥é”™  [è§£å†³](https://blog.csdn.net/a704397849/article/details/93797529)</span>
<span class="token key attr-name">url</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc:mysql://localhost:3306/mybatis?useSSL=false&amp;amp;useUnicode=true&amp;amp;characterEncoding=utf8</span>
<span class="token key attr-name">username</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">password</span><span class="token punctuation">=</span><span class="token value attr-value">123456</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_1-2-3-log4j-properties" tabindex="-1"><a class="header-anchor" href="#_1-2-3-log4j-properties"><span>1.2.3. log4j.properties</span></a></h5><div class="language-properties line-numbers-mode" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token comment">#å¦‚æœä¸€ä¸ªæ•°æ®åº“æ“ä½œå‡ºç°äº†å¼‚å¸¸ï¼Œæˆ‘ä»¬éœ€è¦æ’é”™ã€‚æ—¥å¿—å°±æ˜¯æœ€å¥½çš„åŠ©æ‰‹ï¼ï¼ï¼</span>
<span class="token comment">#è¿™é‡Œçš„é…ç½®æš‚æ—¶ä¸æ·±ç©¶</span>
<span class="token key attr-name">log4j.rootLogger</span><span class="token punctuation">=</span><span class="token value attr-value">DEBUG, Console</span>

<span class="token comment">#Console</span>
<span class="token key attr-name">log4j.appender.Console</span><span class="token punctuation">=</span><span class="token value attr-value">org.apache.log4j.ConsoleAppender</span>
<span class="token key attr-name">log4j.appender.Console.layout</span><span class="token punctuation">=</span><span class="token value attr-value">org.apache.log4j.PatternLayout</span>
<span class="token key attr-name">log4j.appender.Console.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token value attr-value">%d [%t] %-5p [%c] - %m%n  </span>

<span class="token key attr-name">log4j.logger.java.sql.ResultSet</span><span class="token punctuation">=</span><span class="token value attr-value">INFO</span>
<span class="token key attr-name">log4j.logger.org.apache</span><span class="token punctuation">=</span><span class="token value attr-value">INFO</span>
<span class="token key attr-name">log4j.logger.java.sql.Connection</span><span class="token punctuation">=</span><span class="token value attr-value">DEBUG</span>
<span class="token key attr-name">log4j.logger.java.sql.Statement</span><span class="token punctuation">=</span><span class="token value attr-value">DEBUG</span>
<span class="token key attr-name">log4j.logger.java.sql.PreparedStatement</span><span class="token punctuation">=</span><span class="token value attr-value">DEBUG</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_1-2-4-mybatis-config-xml" tabindex="-1"><a class="header-anchor" href="#_1-2-4-mybatis-config-xml"><span>1.2.4. mybatis-config.xml</span></a></h5><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>
        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--
    &lt;!ELEMENT configuration æ ‡ç­¾éœ€æŒ‰ç…§ä¸‹é¢è¿™ä¸ªé¡ºåºæ¥
    (properties?, settings?, typeAliases?, typeHandlers?, objectFactory?,
    objectWrapperFactory?, reflectorFactory?, plugins?, environments?, databaseIdProvider?, mappers?)&gt;
    --&gt;</span>

    <span class="token comment">&lt;!--
		properties: å¼•å…¥å¤–éƒ¨propertiesæ–‡ä»¶ å¿…é¡»æ”¾åœ¨æœ€å‰é¢,å¦åˆ™ä¼šæŠ¥é”™
			resource: ç±»è·¯å¾„ä¸‹
			url: ç£ç›˜è·¯å¾„æˆ–ç½‘ç»œè·¯å¾„
 	--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc.properties<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!-- è®¾ç½®æ—¥å¿—è¾“å‡º, æ–¹ä¾¿è§‚å¯Ÿsqlè¯­å¥å’Œå‚æ•° --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>LOG4J<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapUnderscoreToCamelCase<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        
        <span class="token comment">&lt;!--æ˜¾ç¤ºçš„æŒ‡å®šæ¯ä¸ªæˆ‘ä»¬éœ€è¦æ›´æ”¹çš„é…ç½®çš„å€¼ï¼Œå³ä½¿ä»–æ˜¯é»˜è®¤çš„ã€‚é˜²æ­¢ç‰ˆæœ¬æ›´æ–°å¸¦æ¥çš„é—®é¢˜  --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lazyLoadingEnabled<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aggressiveLazyLoading<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--
    æ³¨æ„è¿™äº›æ ‡ç­¾æœ‰å…ˆåé¡ºåºçš„ï¼Œä¸‹é¢è¿™ä¸ªå¿…é¡»æ”¾settingsåé¢ï¼ï¼
--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.bean<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POOLED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${driver}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${url}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org/example/mapper/xml/StudentMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ps:</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--æˆ‘çš„è¿™é‡Œå¦‚æœè¿™ä¹ˆé…ä¸ä¼šç”Ÿæ•ˆï¼Œå› ä¸ºéœ€è¦æ˜ å°„æ–‡ä»¶åå­—è¦å’Œæ¥å£æ–‡ä»¶ç›¸åŒ,è¿˜éœ€è¦æ”¾åœ¨åŒä¸€ä¸ªåŒ…ä¸‹--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.mapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-ç¼–å†™ä»£ç " tabindex="-1"><a class="header-anchor" href="#_2-ç¼–å†™ä»£ç "><span>2. ç¼–å†™ä»£ç </span></a></h3><h4 id="_2-1-mybatisutil-å·¥å…·ç±»" tabindex="-1"><a class="header-anchor" href="#_2-1-mybatisutil-å·¥å…·ç±»"><span>2.1. MyBatisUtil å·¥å…·ç±»</span></a></h4><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example<span class="token punctuation">.</span>util</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resources</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBuilder</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * å› ä¸ºæ¯æ¬¡æµ‹è¯•ç±»éƒ½éœ€è¦å†™å¾ˆå¤šé‡å¤ä»£ç†ï¼Œè¿™é‡Œç»™ä¸ªå·¥å…·ç±»ç¨å¾®å°è£…ä¸€ä¸‹
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MybatisUtils</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory<span class="token punctuation">;</span>

    <span class="token keyword">static</span><span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
            <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
            sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SqlSession</span> <span class="token function">getSqlSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-å¢åˆ æ”¹æŸ¥" tabindex="-1"><a class="header-anchor" href="#_2-2-å¢åˆ æ”¹æŸ¥"><span>2.2. å¢åˆ æ”¹æŸ¥</span></a></h4><p>å…·ä½“çš„ä¸€äº›å†™æ³•çœ‹å®˜ç½‘ï¼Œè¿™é‡Œåªè´´å‡ºä¸€ä¸ªç®€å•çš„æµ‹è¯•ã€‚</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> <span class="token class-name">MybatisUtils</span><span class="token punctuation">.</span><span class="token function">getSqlSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Student</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;547061946&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
    * æ–¹æ³•ä¸€ï¼š
    */</span>
    <span class="token comment">//int insert = sqlSession.insert(&quot;org.example.mapper.StudentMapper.addStudent&quot;, student);</span>
    <span class="token doc-comment comment">/**
    * æ–¹æ³•äºŒï¼š
    */</span>
    <span class="token class-name">StudentMapper</span> mapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">StudentMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mapper<span class="token punctuation">.</span><span class="token function">addStudent</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>student<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    sqlSession<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    sqlSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//System.out.println(&quot;æ’å…¥&quot;+(insert!=1?&quot;å¤±è´¥&quot;:&quot;æˆåŠŸ&quot;));</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://image.zzq8.cn/img/202201121135959.png" alt="image-20220112112209272" tabindex="0" loading="lazy"><figcaption>image-20220112112209272</figcaption></figure><h2 id="äºŒã€æ˜ å°„æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#äºŒã€æ˜ å°„æ–‡ä»¶"><span>äºŒã€æ˜ å°„æ–‡ä»¶</span></a></h2><h3 id="_1-è·å–è‡ªå¢ä¸»é”®çš„å€¼" tabindex="-1"><a class="header-anchor" href="#_1-è·å–è‡ªå¢ä¸»é”®çš„å€¼"><span>1. è·å–è‡ªå¢ä¸»é”®çš„å€¼</span></a></h3><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>    <span class="token comment">&lt;!--
        useGeneratedKeys=&quot;true&quot;: å¼€å¯è·å–è‡ªå¢ä¸»é”®çš„ç­–ç•¥
        keyColumn: æŒ‡å®šæ•°æ®åº“ä¸»é”®çš„åˆ—å
        keyProperty: æŒ‡å®šå¯¹åº”çš„ä¸»é”®å±æ€§, ps(è·å–åˆ°ä¸»é”®å€¼å, å°†è¿™ä¸ªå€¼å°è£…ç»™javaBeançš„å“ªä¸ªå±æ€§)
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>addStudent<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.bean.Student<span class="token punctuation">&quot;</span></span> <span class="token attr-name">useGeneratedKeys</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        insert student(name,email,age) values(#{name},#{email},#{age})
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-å‚æ•°å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_2-å‚æ•°å¤„ç†"><span>2. å‚æ•°å¤„ç†</span></a></h3><h4 id="_2-1-å•ä¸ªå‚æ•°" tabindex="-1"><a class="header-anchor" href="#_2-1-å•ä¸ªå‚æ•°"><span>2.1. å•ä¸ªå‚æ•°</span></a></h4><p>#{arg}: ç›´æ¥å–å‡ºå‚æ•°å€¼ï¼›åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶å¯ä»¥éšä¾¿å†™</p><h4 id="_2-2-å¤šä¸ªå‚æ•°" tabindex="-1"><a class="header-anchor" href="#_2-2-å¤šä¸ªå‚æ•°"><span>2.2. å¤šä¸ªå‚æ•°</span></a></h4><p>MyBatisä¼šåšç‰¹æ®Šå¤„ç†ï¼Œå¤šä¸ªå‚æ•°ä¼šè¢«å°è£…æˆä¸€ä¸ª <strong>Map</strong>ï¼Œå‚æ•°å¯ä»¥ä½¿ç”¨ <code>#{arg0}</code> æˆ– <code>#{param1}</code>è¿™ç§å½¢å¼å–å‡º</p><h4 id="_2-3-å‘½åå‚æ•°" tabindex="-1"><a class="header-anchor" href="#_2-3-å‘½åå‚æ•°"><span>2.3. å‘½åå‚æ•°</span></a></h4><p>ä½¿ç”¨æ³¨è§£ <code>@Param</code> æŒ‡å®šå‚æ•°çš„ <code>key</code></p><p>æ³¨è§£ï¼š</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// å‘½åå‚æ•°</span>
<span class="token class-name">User</span> <span class="token function">getAnnoParam</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token class-name">String</span> pwd<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è·å–ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getAnnoParam<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.hong.pojo.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from user where name = #{name} and pwd = #{param2}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-4-pojo" tabindex="-1"><a class="header-anchor" href="#_2-4-pojo"><span>2.4. POJO</span></a></h4><p>å¤šä¸ªå‚æ•°æ­£å¥½æ˜¯ä¸šåŠ¡é€»è¾‘çš„æ•°æ®æ¨¡å‹(å®ä½“ç±»),ç›´æ¥ä¼ å…¥<strong>pojo(å¯¹è±¡)</strong></p><h4 id="_2-4-to" tabindex="-1"><a class="header-anchor" href="#_2-4-to"><span>2.4. TO</span></a></h4><p>å¤šä¸ªå‚æ•°ä¸æ˜¯ä¸šåŠ¡æ¨¡å‹ä¸­çš„æ•°æ®, ä½†ç»å¸¸è¦ä½¿ç”¨, æ¨èç¼–å†™TO(Transfer Object)æ•°æ®ä¼ è¾“å¯¹è±¡, å°±æ˜¯å†ä¸“é—¨å†™ä¸ªç±»</p><h3 id="_3-å’Œ-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_3-å’Œ-çš„åŒºåˆ«"><span>3. #{} å’Œ ${} çš„åŒºåˆ«</span></a></h3><p>#{}æ˜¯å ä½ç¬¦ï¼Œ${}æ˜¯æ‹¼æ¥ç¬¦ã€‚</p><p>$æ˜¯å…ˆæ‹¼æ¥åç¼–è¯‘ #æ˜¯å…ˆç¼–è¯‘åæ‹¼æ¥ è¿™æ‰æ˜¯ä¸»è¦åŒºåˆ«</p><p>åŸç”Ÿjdbcä¸æ”¯æŒå ä½ç¬¦çš„åœ°æ–¹æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨${}è¿›è¡Œå–å€¼ï¼Œä¾‹å¦‚åˆ†è¡¨ã€æ’åºï¼š</p><div class="language-mysql line-numbers-mode" data-ext="mysql" data-title="mysql"><pre class="language-mysql"><code>select * from ${year}_salary where xxx;
select * from tbl_employee order by ${f_name} ${order}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç‰¹ç‚¹ï¼š</p><div class="language-plain line-numbers-mode" data-ext="plain" data-title="plain"><pre class="language-plain"><code>#{}æ˜¯é¢„ç¼–è¯‘å¤„ç†ï¼Œ${}æ˜¯å­—ç¬¦ä¸²æ›¿æ¢ã€‚
Mybatis åœ¨å¤„ç†#{}æ—¶ï¼Œä¼šå°† sql ä¸­çš„#{}æ›¿æ¢ä¸º?å·ï¼Œè°ƒç”¨ PreparedStatement çš„set æ–¹æ³•æ¥èµ‹å€¼ã€‚
Mybatis åœ¨å¤„ç†$ {}æ—¶ï¼Œå°±æ˜¯æŠŠ${}æ›¿æ¢æˆå˜é‡çš„å€¼ã€‚
ä½¿ç”¨#{}å¯ä»¥æœ‰æ•ˆçš„é˜²æ­¢ SQL æ³¨å…¥ï¼Œæé«˜ç³»ç»Ÿå®‰å…¨æ€§ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-è¿”å›listå’Œmap" tabindex="-1"><a class="header-anchor" href="#_4-è¿”å›listå’Œmap"><span>4. è¿”å›Listå’ŒMap</span></a></h3><h4 id="_4-1-list" tabindex="-1"><a class="header-anchor" href="#_4-1-list"><span>4.1. List</span></a></h4><p>æ­£å¸¸å†™~ åªä¸è¿‡è¿”å›å€¼æ˜¯Listï¼ŒresultTypeè¿˜æ˜¯javaBean</p><h4 id="_4-2-map" tabindex="-1"><a class="header-anchor" href="#_4-2-map"><span>4.2. Map</span></a></h4><h4 id="_4-2-1-key-åˆ—åvalue-åˆ—å€¼" tabindex="-1"><a class="header-anchor" href="#_4-2-1-key-åˆ—åvalue-åˆ—å€¼"><span>4.2.1. key -&gt; åˆ—å value -&gt; åˆ—å€¼</span></a></h4><p>StudentMapperæ¥å£ï¼š</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">//map å°è£…ä¸€æ¡è®°å½•</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">getStudentByIdReturnMap</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>StudentMapper.Xml:</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--    Map&lt;String, Object&gt; getStudentByIdReturnMap(Integer id);--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getStudentByIdReturnMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        select * from student where id = #{id}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> <span class="token class-name">MybatisUtils</span><span class="token punctuation">.</span><span class="token function">getSqlSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">StudentMapper</span> mapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">StudentMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> returnMap <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getStudentByIdReturnMap</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">//returnMap.forEach((k,v) -&gt; System.out.println(&quot;k &quot;+k+&quot; v &quot;+v));</span>
		<span class="token comment">//åŸæ¥å¯ä»¥ç›´æ¥soutè¿™ä¸ªmapï¼Œå¤§æ„äº†ï¼Œæˆ‘è¿˜ä»¥ä¸ºä¼šè¾“å‡ºåœ°å€!!!!</span>
        <span class="token doc-comment comment">/**
         * å› ä¸ºAbstractMapé‡å†™äº†toString()
         */</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>returnMap<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sqlSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-2-1-key-ä¸»é”®value-å®ä½“å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_4-2-1-key-ä¸»é”®value-å®ä½“å¯¹è±¡"><span>4.2.1. key -&gt; ä¸»é”® value -&gt; å®ä½“å¯¹è±¡</span></a></h4><p>StudentMapperæ¥å£ï¼š</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// è¿”å›Mapé›†åˆ, key -&gt; ä¸»é”®å€¼ã€value -&gt; å¯¹åº”çš„å®ä½“å¯¹è±¡</span>
    <span class="token annotation punctuation">@MapKey</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> <span class="token function">getMapPrimaryToEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>StudentMapper.Xml:</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--    
	Map&lt;Integer, Student&gt; getMapPrimaryToEntity();
	æ³¨æ„è¿™ä¸ªresultTypeå¯ä¸æ˜¯mapï¼Œè€Œæ˜¯å®ä½“ç±»
--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getMapPrimaryToEntity<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>student<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        select * from student
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-resulttypeå±æ€§" tabindex="-1"><a class="header-anchor" href="#_5-resulttypeå±æ€§"><span>5. resultTypeå±æ€§</span></a></h3><p>å…·ä½“çœ‹å®˜ç½‘~</p><p>å¯¹äºå¼•ç”¨æ•°æ®ç±»å‹ï¼Œéƒ½æ˜¯å°†å¤§å†™å­—æ¯è½¬å°å†™ï¼Œæ¯”å¦‚ HashMap å¯¹åº”çš„åˆ«åæ˜¯ &#39;hashmap&#39;</p><p>åŸºæœ¬æ•°æ®ç±»å‹è€ƒè™‘åˆ°é‡å¤çš„é—®é¢˜ï¼Œä¼šåœ¨å…¶å‰é¢åŠ ä¸Š&quot;_&quot;</p><h3 id="_6-resultmap-è‡ªå®šä¹‰ç»“æœé›†æ˜ å°„" tabindex="-1"><a class="header-anchor" href="#_6-resultmap-è‡ªå®šä¹‰ç»“æœé›†æ˜ å°„"><span>6. resultMapï¼ˆè‡ªå®šä¹‰ç»“æœé›†æ˜ å°„ï¼‰</span></a></h3><h4 id="_6-1-ç®€å•ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_6-1-ç®€å•ä½¿ç”¨"><span>6.1. ç®€å•ä½¿ç”¨</span></a></h4><p>resultMapçš„æ›´å¤§ä½œç”¨åº”è¯¥æ˜¯åœ¨äºå…¶å†…éƒ¨çš„associationæ ‡ç­¾å’Œcollectionæ ‡ç­¾,è¿™ä¸¤ä¸ªæ ‡ç­¾ä¸»è¦ç”¨äºå¤šè¡¨è”åˆæŸ¥è¯¢,ä»¥åŠdiscriminatoré‰´åˆ«å™¨</p><p>å¦‚æœjavaBenå±æ€§åå’Œåˆ—åä¸ä¸€è‡´, ä¸åº”è¯¥å†ä½¿ç”¨resultTypeé…ç½®è¿”å›å€¼ç±»å‹ï¼Œè€Œæ˜¯ä½¿ç”¨resultMapå¼•ç”¨è‡ªå®šä¹‰çš„ç»“æœé›†æ˜ å°„è§„åˆ™ã€‚</p><p>mapper.xmlï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mybatis.bean.Employee<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MySimpleEmp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!--æŒ‡å®šä¸»é”®åˆ—çš„å°è£…è§„åˆ™
		å½“ç„¶ä¸»é”®ä¹Ÿå¯ä»¥ç”¨columnï¼Œä½†idå®šä¹‰ä¸»é”®ä¼šåº•å±‚æœ‰ä¼˜åŒ–ï¼›
		columnï¼šæŒ‡å®šå“ªä¸€åˆ—
		propertyï¼šæŒ‡å®šå¯¹åº”çš„javaBeanå±æ€§
		  --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token comment">&lt;!-- å®šä¹‰æ™®é€šåˆ—å°è£…è§„åˆ™ --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- å…¶ä»–åˆ—å¯ä»¥ä¸æŒ‡å®šï¼Œä¸æŒ‡å®šçš„åˆ—ä¼šè‡ªåŠ¨å°è£…ï¼Œä½†æ˜¯æ¨èåªè¦æŒ‡å®šresultMapå°±æŠŠå…¨éƒ¨çš„æ˜ å°„è§„åˆ™éƒ½å†™ä¸Š --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
	
	<span class="token comment">&lt;!-- resultMap:è‡ªå®šä¹‰ç»“æœé›†æ˜ å°„è§„åˆ™ï¼›  --&gt;</span>
	<span class="token comment">&lt;!-- public Employee getEmpById(Integer id); --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpById<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MySimpleEmp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		select * from tbl_employee where id=#{id}
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Testï¼š</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> <span class="token class-name">MybatisUtils</span><span class="token punctuation">.</span><span class="token function">getSqlSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">EmployeeMapperPlus</span> mapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapperPlus</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Employee</span> empById <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getEmpById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>empById<span class="token punctuation">)</span><span class="token punctuation">;</span>
        sqlSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-2-association-ä¸€å¯¹ä¸€" tabindex="-1"><a class="header-anchor" href="#_6-2-association-ä¸€å¯¹ä¸€"><span>6.2. associationï¼ˆä¸€å¯¹ä¸€ï¼‰</span></a></h4><h5 id="_6-2-1-çº§è”å±æ€§å°è£…ç»“æœé›†" tabindex="-1"><a class="header-anchor" href="#_6-2-1-çº§è”å±æ€§å°è£…ç»“æœé›†"><span>6.2.1. çº§è”å±æ€§å°è£…ç»“æœé›†ï¼š</span></a></h5><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--
	åœºæ™¯ä¸€ï¼š
		æŸ¥è¯¢Employeeçš„åŒæ—¶æŸ¥è¯¢å‘˜å·¥å¯¹åº”çš„éƒ¨é—¨
		Employee===Department
		ä¸€ä¸ªå‘˜å·¥æœ‰ä¸ä¹‹å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯ï¼›
		id  last_name  gender    d_id     did  dept_name (private Department dept;)
	 --&gt;</span>

	<span class="token comment">&lt;!--
		è”åˆæŸ¥è¯¢ï¼šçº§è”å±æ€§å°è£…ç»“æœé›†
	  --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_getEmpAndDept<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--		çº§è”å±æ€§ï¼Œæˆ‘ä¸‹é¢è¿™ä¸¤ä¸ªå±æ€§çˆ†çº¢ï¼Œä½†æ˜¯ä¸å½±å“--&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>d_id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept.departmentName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpAndDept<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_getEmpAndDept<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		select * from tbl_employee e join tbl_dept d
		on e.id = d.id
		where d.id = 1
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_6-2-2-ä½¿ç”¨associationå®šä¹‰å…³è”çš„å•ä¸ªå¯¹è±¡çš„å°è£…è§„åˆ™" tabindex="-1"><a class="header-anchor" href="#_6-2-2-ä½¿ç”¨associationå®šä¹‰å…³è”çš„å•ä¸ªå¯¹è±¡çš„å°è£…è§„åˆ™"><span>6.2.2. ä½¿ç”¨associationå®šä¹‰å…³è”çš„å•ä¸ªå¯¹è±¡çš„å°è£…è§„åˆ™ï¼š</span></a></h5><!----><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>	<span class="token comment">&lt;!--
		ä½¿ç”¨associationå®šä¹‰å…³è”çš„å•ä¸ªå¯¹è±¡çš„å°è£…è§„åˆ™ï¼›
		æˆ‘ä½¿ç”¨äº†associationåæ‰€æœ‰çš„å±æ€§éƒ½è¦æ˜ å°„ï¼Œå°±ç®—å±æ€§å’ŒæŸ¥è¯¢åèµ·çš„åˆ«åä¸€æ ·ä¹Ÿä¸è¡Œã€‚
	 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_getEmpAndDept2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token comment">&lt;!--å‘ç°ä¸‹é¢è¿™äº›ä¸å†™çš„è¯ï¼Œä¸ä¼šè‡ªåŠ¨å°è£…äº†--&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token comment">&lt;!--
		associationå¯ä»¥æŒ‡å®šè”åˆçš„javaBeanå¯¹è±¡
		property=&quot;dept&quot;ï¼šæŒ‡å®šå“ªä¸ªå±æ€§æ˜¯è”åˆçš„å¯¹è±¡
		javaType:æŒ‡å®šè¿™ä¸ªå±æ€§å¯¹è±¡çš„ç±»å‹[ä¸èƒ½çœç•¥]
		--&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept<span class="token punctuation">&quot;</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>department<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>departmentName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>association</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¡¥å……</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>	<span class="token comment">&lt;!--æ³¨æ„ï¼šå› ä¸ºå­—æ®µåæ˜¯dept_nameï¼Œè€Œbeanç±»ä¸­å±æ€§åæ˜¯departmentNameï¼Œæ‰€ä»¥ç”¨select * è¿™æ ·è¿™ä¸ªå­—æ®µå°±å°è£…ä¸ä¸Šï¼Œå¾—åƒä¸‹é¢è¿™æ ·å†™--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getDeptById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>department<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		select id,dept_name departmentName from tbl_dept where id=#{id}
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_6-2-3-åˆ†æ­¥æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_6-2-3-åˆ†æ­¥æŸ¥è¯¢"><span>6.2.3. åˆ†æ­¥æŸ¥è¯¢</span></a></h5><p>æ­¤æ—¶äº§ç”Ÿä¸¤æ¡æŸ¥è¯¢è¯­å¥</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>	<span class="token comment">&lt;!-- ä½¿ç”¨associationè¿›è¡Œåˆ†æ­¥æŸ¥è¯¢ï¼š
		1ã€å…ˆæŒ‰ç…§å‘˜å·¥idæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯
		2ã€æ ¹æ®æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯ä¸­çš„d_idå€¼å»éƒ¨é—¨è¡¨æŸ¥å‡ºéƒ¨é—¨ä¿¡æ¯
		3ã€éƒ¨é—¨è®¾ç½®åˆ°å‘˜å·¥ä¸­ï¼›
	 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_getEmpByIdStep<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token comment">&lt;!--å…¶ä»–å±æ€§ä¸å†™ä¹Ÿè‡ªåŠ¨å°è£…ä¸Šäº†ï¼Œä½†å»ºè®®åªè¦æŒ‡å®šresultMapå°±æŠŠå…¨éƒ¨çš„æ˜ å°„è§„åˆ™éƒ½å†™ä¸Š--&gt;</span>

		<span class="token comment">&lt;!-- associationå®šä¹‰å…³è”å¯¹è±¡çš„å°è£…è§„åˆ™
	 		select:è¡¨æ˜å½“å‰å±æ€§æ˜¯è°ƒç”¨selectæŒ‡å®šçš„æ–¹æ³•æŸ¥å‡ºçš„ç»“æœ
	 		column:æŒ‡å®šå°†å“ªä¸€åˆ—çš„å€¼ä¼ ç»™è¿™ä¸ªæ–¹æ³•

	 		æµç¨‹ï¼šä½¿ç”¨selectæŒ‡å®šçš„æ–¹æ³•ï¼ˆä¼ å…¥columnæŒ‡å®šçš„è¿™åˆ—å‚æ•°çš„å€¼ï¼‰æŸ¥å‡ºå¯¹è±¡ï¼Œå¹¶å°è£…ç»™propertyæŒ‡å®šçš„å±æ€§
	 	 --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept<span class="token punctuation">&quot;</span></span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.mapper.DepartmentMapper.getDeptById<span class="token punctuation">&quot;</span></span>
					 <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
	
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpByIdStep<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_getEmpByIdStep<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		select * from tbl_employee where id=#{id}
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_6-2-4-å»¶è¿ŸåŠ è½½" tabindex="-1"><a class="header-anchor" href="#_6-2-4-å»¶è¿ŸåŠ è½½"><span>6.2.4. å»¶è¿ŸåŠ è½½</span></a></h5><p>åœ¨<strong>åˆ†å¸ƒæŸ¥è¯¢</strong>çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬é€šè¿‡é…ç½®æ–‡ä»¶å¼€å¯æ‡’åŠ è½½ï¼ŒåªæŸ¥å…¶ä¸­ä¸€ä¸ªè¡¨çš„æŸä¸ªå­—æ®µå°±ä¼šå‘ç°åªä¼šäº§ç”Ÿä¸€æ¬¡æŸ¥è¯¢ï¼</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code> <span class="token comment">&lt;!-- å¯ä»¥ä½¿ç”¨å»¶è¿ŸåŠ è½½ï¼ˆæ‡’åŠ è½½ï¼‰ï¼›(æŒ‰éœ€åŠ è½½)
	 	Employee==&gt;Deptï¼š
	 		æˆ‘ä»¬æ¯æ¬¡æŸ¥è¯¢Employeeå¯¹è±¡çš„æ—¶å€™ï¼Œéƒ½å°†ä¸€èµ·æŸ¥è¯¢å‡ºæ¥ã€‚
	 		éƒ¨é—¨ä¿¡æ¯åœ¨æˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™å†å»æŸ¥è¯¢ï¼›
	 		åˆ†æ®µæŸ¥è¯¢çš„åŸºç¡€ä¹‹ä¸ŠåŠ ä¸Šä¸¤ä¸ªé…ç½®ï¼š
	  --&gt;</span>

<span class="token comment">&lt;!--æ˜¾ç¤ºçš„æŒ‡å®šæ¯ä¸ªæˆ‘ä»¬éœ€è¦æ›´æ”¹çš„é…ç½®çš„å€¼ï¼Œå³ä½¿ä»–æ˜¯é»˜è®¤çš„ã€‚é˜²æ­¢ç‰ˆæœ¬æ›´æ–°å¸¦æ¥çš„é—®é¢˜  --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lazyLoadingEnabled<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aggressiveLazyLoading<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŒ‰éœ€åŠ è½½ï¼š</p><figure><img src="https://images.zzq8.cn/img/202201121637104.png" alt="xxx" tabindex="0" loading="lazy"><figcaption>xxx</figcaption></figure><h4 id="_6-3-collection-ä¸€å¯¹å¤š" tabindex="-1"><a class="header-anchor" href="#_6-3-collection-ä¸€å¯¹å¤š"><span>6.3. collectionï¼ˆä¸€å¯¹å¤šï¼‰</span></a></h4><h5 id="_6-3-1-å°è£…list-employee-emps" tabindex="-1"><a class="header-anchor" href="#_6-3-1-å°è£…list-employee-emps"><span>6.3.1. å°è£…List&lt;Employee&gt; emps;</span></a></h5><p>æ³¨æ„ collection é‡Œæ˜¯ç”¨çš„ <strong>ofType</strong> ä¸è¦ç”¨ javaType</p><!----> ä»¥åè¿˜æ˜¯å†™resultMapè¿˜æ˜¯å†™å…¨ï¼Œå°¤å…¶æ˜¯é‡åˆ°associationå’Œcollection<div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--åµŒå¥—ç»“æœé›†çš„æ–¹å¼ï¼Œä½¿ç”¨collectionæ ‡ç­¾å®šä¹‰å…³è”çš„é›†åˆç±»å‹çš„å±æ€§å°è£…è§„åˆ™  --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_getDeptByIdPlus<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>department<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>did<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>departmentName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token comment">&lt;!--
			collectionå®šä¹‰å…³è”é›†åˆç±»å‹çš„å±æ€§çš„å°è£…è§„åˆ™
			ofType:æŒ‡å®šé›†åˆé‡Œé¢å…ƒç´ çš„ç±»å‹
  		--&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emps<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ofType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getDeptByIdPlus<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_getDeptByIdPlus<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		SELECT d.id did,d.dept_name dept_name,
			   e.id eid,e.last_name last_name,e.email email,e.gender gender
		FROM tbl_dept d LEFT JOIN tbl_employee e ON d.id=e.d_id
		WHERE d.id=#{id}
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_6-3-2-åˆ†æ­¥æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_6-3-2-åˆ†æ­¥æŸ¥è¯¢"><span>6.3.2. åˆ†æ­¥æŸ¥è¯¢</span></a></h5><p>å’Œassociationæ˜¯ä¸€æ ·çš„æ•ˆæœï¼Œä¹Ÿæ˜¯æŒ‰éœ€åŠ è½½ã€æ‡’åŠ è½½</p><p>å…·ä½“æ­¥éª¤ï¼š</p><p>DepartmentMapper.xmlï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>	<span class="token comment">&lt;!-- collectionï¼šåˆ†æ®µæŸ¥è¯¢ --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MyDeptStep<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>department<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>departmentName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emps<span class="token punctuation">&quot;</span></span>
					<span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.mapper.EmployeeMapperPlus.getEmpsByDeptId<span class="token punctuation">&quot;</span></span>
					<span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{deptId=id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fetchType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lazy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- public Department getDeptByIdStep(Integer id); --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getDeptByIdStep<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MyDeptStep<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		select id,dept_name from tbl_dept where id=#{id}
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>EmployeeMapperPlus.xmlï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- public List&lt;Employee&gt; getEmpsByDeptId(Integer deptId); --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpsByDeptId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.bean.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		select * from tbl_employee where d_id=#{deptId}
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Test</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>    <span class="token doc-comment comment">/**
     * collectionåˆ†æ­¥æŸ¥è¯¢
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test09</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> <span class="token class-name">MybatisUtils</span><span class="token punctuation">.</span><span class="token function">getSqlSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">DepartmentMapper</span> mapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">DepartmentMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Department</span> deptByIdStep <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getDeptByIdStep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>deptByIdStep<span class="token punctuation">.</span><span class="token function">getDepartmentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>deptByIdStep<span class="token punctuation">.</span><span class="token function">getEmps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sqlSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-4-æ‰©å±•" tabindex="-1"><a class="header-anchor" href="#_6-4-æ‰©å±•"><span>6.4. æ‰©å±•</span></a></h4><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>ä¾‹ï¼š
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emps<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.mapper.EmployeeMapperPlus.getEmpsByDeptId<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{deptId=id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fetchType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lazy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- æ‰©å±•ï¼šå¤šåˆ—çš„å€¼ä¼ é€’è¿‡å»ï¼š
			å°†å¤šåˆ—çš„å€¼å°è£…mapä¼ é€’ï¼›
			column=&quot;{key1=column1,key2=column2}&quot;
		fetchType=&quot;lazy&quot;ï¼šè¡¨ç¤ºä½¿ç”¨å»¶è¿ŸåŠ è½½ï¼›
				- lazyï¼šå»¶è¿Ÿ
				- eagerï¼šç«‹å³
	 --&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-5-é‰´åˆ«å™¨" tabindex="-1"><a class="header-anchor" href="#_6-5-é‰´åˆ«å™¨"><span>6.5. é‰´åˆ«å™¨</span></a></h4><p>EmployeeMapperPlus.xmlï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- =======================é‰´åˆ«å™¨============================ --&gt;</span>
	<span class="token comment">&lt;!-- &lt;discriminator javaType=&quot;&quot;&gt;&lt;/discriminator&gt;
		é‰´åˆ«å™¨ï¼šmybatiså¯ä»¥ä½¿ç”¨discriminatoråˆ¤æ–­æŸåˆ—çš„å€¼ï¼Œç„¶åæ ¹æ®æŸåˆ—çš„å€¼æ”¹å˜å°è£…è¡Œä¸º
		å°è£…Employeeï¼š
			å¦‚æœæŸ¥å‡ºçš„æ˜¯å¥³ç”Ÿï¼šå°±æŠŠéƒ¨é—¨ä¿¡æ¯æŸ¥è¯¢å‡ºæ¥ï¼Œå¦åˆ™ä¸æŸ¥è¯¢ï¼›
			å¦‚æœæ˜¯ç”·ç”Ÿï¼ŒæŠŠlast_nameè¿™ä¸€åˆ—çš„å€¼èµ‹å€¼ç»™email;
	 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MyEmpDis<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token comment">&lt;!--
            columnï¼šæŒ‡å®šåˆ¤å®šçš„åˆ—å
            javaTypeï¼šåˆ—å€¼å¯¹åº”çš„javaç±»å‹ MyBatiså·²ç»å¯¹æ‰€æœ‰javaç±»å‹èµ·å¥½åäº†å…·ä½“çœ‹å®˜æ–¹æ–‡æ¡£ --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>discriminator</span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token comment">&lt;!--å¥³ç”Ÿ  resultType:æŒ‡å®šå°è£…çš„ç»“æœç±»å‹ï¼›ä¸èƒ½ç¼ºå°‘ã€‚/resultMap--&gt;</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>case</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.bean.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept<span class="token punctuation">&quot;</span></span>
							 <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.mapper.DepartmentMapper.getDeptById<span class="token punctuation">&quot;</span></span>
							 <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{id=d_id}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>association</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>case</span><span class="token punctuation">&gt;</span></span>
			<span class="token comment">&lt;!--ç”·ç”Ÿ ;å¦‚æœæ˜¯ç”·ç”Ÿï¼ŒæŠŠlast_nameè¿™ä¸€åˆ—çš„å€¼èµ‹å€¼ç»™email; --&gt;</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>case</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.bean.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>case</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>discriminator</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>






	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpByIdStep<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MyEmpDis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		select * from tbl_employee where id=#{id}
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>EmployeeMapperPlus.xmlï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getDeptById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>department<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		select id,dept_name departmentName from tbl_dept where id=#{id}
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Testï¼š</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>    <span class="token doc-comment comment">/**
     * ä½¿ç”¨associationè¿›è¡Œåˆ†æ­¥æŸ¥è¯¢
     * + é‰´åˆ«å™¨
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test07</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> <span class="token class-name">MybatisUtils</span><span class="token punctuation">.</span><span class="token function">getSqlSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">EmployeeMapperPlus</span> mapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapperPlus</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Employee</span> empByIdStep <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getEmpByIdStep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>empByIdStep<span class="token punctuation">)</span><span class="token punctuation">;</span>
        sqlSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¸‰ã€åŠ¨æ€sql" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€åŠ¨æ€sql"><span>ä¸‰ã€åŠ¨æ€SQL</span></a></h2><p>åœºæ™¯ï¼šåªæƒ³æ ¹æ®ä¼ è¿‡æ¥çš„javaBeanå¯¹è±¡æœ‰å€¼çš„å‚æ•°ä½œä¸ºæ¡ä»¶</p><h3 id="_1-if" tabindex="-1"><a class="header-anchor" href="#_1-if"><span>1. if</span></a></h3><blockquote><p>åœ¨ MyBatis ä¸­ï¼Œ<code>&lt;if&gt;</code> æ ‡ç­¾ç”¨äºåœ¨ SQL æ˜ å°„æ–‡ä»¶ä¸­è¿›è¡Œæ¡ä»¶åˆ¤æ–­ã€‚<code>test</code> å±æ€§æŒ‡å®šäº†ä¸€ä¸ªè¡¨è¾¾å¼</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>expression<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- SQL è¯­å¥ç‰‡æ®µ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p>xml:</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>	<span class="token comment">&lt;!--
    â€¢ if:åˆ¤æ–­
    â€¢ choose (when, otherwise):åˆ†æ”¯é€‰æ‹©ï¼›å¸¦äº†breakçš„swtich-case
        å¦‚æœå¸¦äº†idå°±ç”¨idæŸ¥ï¼Œå¦‚æœå¸¦äº†lastNameå°±ç”¨lastNameæŸ¥;åªä¼šè¿›å…¥å…¶ä¸­ä¸€ä¸ª
    â€¢ trim å­—ç¬¦ä¸²æˆªå–(where(å°è£…æŸ¥è¯¢æ¡ä»¶), set(å°è£…ä¿®æ”¹æ¡ä»¶))
    â€¢ foreach éå†é›†åˆ
         --&gt;</span>
    <span class="token comment">&lt;!-- æŸ¥è¯¢å‘˜å·¥ï¼Œè¦æ±‚ï¼Œæºå¸¦äº†å“ªä¸ªå­—æ®µæŸ¥è¯¢æ¡ä»¶å°±å¸¦ä¸Šè¿™ä¸ªå­—æ®µçš„å€¼ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpsTestInnerParameter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.bean.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        select * from tbl_employee where
        <span class="token comment">&lt;!-- testï¼šåˆ¤æ–­è¡¨è¾¾å¼ï¼ˆOGNLï¼‰
		 	OGNLå‚ç…§PPTæˆ–è€…å®˜æ–¹æ–‡æ¡£ã€‚
		 	  	 c:if  test
		 	ä»å‚æ•°ä¸­å–å€¼è¿›è¡Œåˆ¤æ–­

		 	é‡è§ç‰¹æ®Šç¬¦å·åº”è¯¥å»å†™è½¬ä¹‰å­—ç¬¦ï¼š
		 	&amp;&amp;ï¼š
		 	--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            id = #{id}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName != null and lastName != &#39;&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            and last_name like #{lastName}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email!=null and email.trim()!=<span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            and email=#{email}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- ognlä¼šè¿›è¡Œå­—ç¬¦ä¸²ä¸æ•°å­—çš„è½¬æ¢åˆ¤æ–­  &quot;0&quot;==0 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender==0 or gender==1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            and gender=#{gender}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Test:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> <span class="token class-name">MybatisUtils</span><span class="token punctuation">.</span><span class="token function">getSqlSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">EmployeeMapperDynamicSQL</span> mapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapperDynamicSQL</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Employee</span> employee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;%o%&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;11&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getEmpsTestInnerParameter</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
        sqlSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ§åˆ¶å°ï¼š</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Preparing: select * from tbl_employee where id = ? and last_name like ? and email=?
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-where" tabindex="-1"><a class="header-anchor" href="#_2-where"><span>2. where</span></a></h3><p>åŸºäºä¸Šé¢å‘ç°<strong>é—®é¢˜</strong>ï¼šå‡å¦‚idèµ‹å€¼ä¸ºnullå°±ä¼šå‡ºé—®é¢˜ <code>Preparing: select * from tbl_employee where and last_name like ? and email=? </code></p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
    æŸ¥è¯¢çš„æ—¶å€™å¦‚æœæŸäº›æ¡ä»¶æ²¡å¸¦å¯èƒ½sqlæ‹¼è£…ä¼šæœ‰é—®é¢˜
    1. ç»™whereåé¢åŠ ä¸Š1=1ï¼Œä»¥åçš„æ¡ä»¶éƒ½and xxx.ï¼ˆä¸æ¨è, ä¼šå¯¼è‡´æ•°æ®åº“æ€§èƒ½æŸå¤±ï¼‰
    2. mybaitsä½¿ç”¨whereæ ‡ç­¾æ¥å°†æ‰€æœ‰çš„æŸ¥è¯¢æ¡ä»¶åŒ…æ‹¬åœ¨å†…ã€‚
        whereåªä¼šå»æ‰ç¬¬ä¸€ä¸ªå¤šå‡ºæ¥çš„andæˆ–è€…or
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-trim" tabindex="-1"><a class="header-anchor" href="#_3-trim"><span>3. trim</span></a></h3><p>åŸºäºwhereä¸èƒ½å»æ‰åé¢å¤šå‡ºæ¥çš„andæˆ–è€…orçš„<strong>é—®é¢˜</strong></p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpsByConditionTrim<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mybatis.bean.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	 	select * from tbl_employee
	 	<span class="token comment">&lt;!-- åé¢å¤šå‡ºçš„andæˆ–è€…or whereæ ‡ç­¾ä¸èƒ½è§£å†³ 
	 	prefix=&quot;&quot;:å‰ç¼€ï¼štrimæ ‡ç­¾ä½“ä¸­æ˜¯æ•´ä¸ªå­—ç¬¦ä¸²æ‹¼ä¸² åçš„ç»“æœã€‚
	 			prefixç»™æ‹¼ä¸²åçš„æ•´ä¸ªå­—ç¬¦ä¸²åŠ ä¸€ä¸ªå‰ç¼€ 
	 	prefixOverrides=&quot;&quot;:
	 			å‰ç¼€è¦†ç›–ï¼š å»æ‰æ•´ä¸ªå­—ç¬¦ä¸²å‰é¢å¤šä½™çš„å­—ç¬¦
	 	suffix=&quot;&quot;:åç¼€
	 			suffixç»™æ‹¼ä¸²åçš„æ•´ä¸ªå­—ç¬¦ä¸²åŠ ä¸€ä¸ªåç¼€ 
	 	suffixOverrides=&quot;&quot;
	 			åç¼€è¦†ç›–ï¼šå»æ‰æ•´ä¸ªå­—ç¬¦ä¸²åé¢å¤šä½™çš„å­—ç¬¦
	 			
	 	--&gt;</span>
	 	<span class="token comment">&lt;!-- è‡ªå®šä¹‰å­—ç¬¦ä¸²çš„æˆªå–è§„åˆ™ --&gt;</span>
	 	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>trim</span> <span class="token attr-name">prefix</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>where<span class="token punctuation">&quot;</span></span> <span class="token attr-name">suffixOverrides</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>and<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	 		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		 		id=#{id} and
		 	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
		 	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName!=null <span class="token entity named-entity" title="&amp;">&amp;amp;</span><span class="token entity named-entity" title="&amp;">&amp;amp;</span> lastName!=<span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		 		last_name like #{lastName} and
		 	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
		 	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email!=null and email.trim()!=<span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		 		email=#{email} and
		 	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span> 
		 	<span class="token comment">&lt;!-- ognlä¼šè¿›è¡Œå­—ç¬¦ä¸²ä¸æ•°å­—çš„è½¬æ¢åˆ¤æ–­  &quot;0&quot;==0 --&gt;</span>
		 	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender==0 or gender==1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		 	 	gender=#{gender}
		 	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
		 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>trim</span><span class="token punctuation">&gt;</span></span>
	 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-choose" tabindex="-1"><a class="header-anchor" href="#_4-choose"><span>4. choose</span></a></h3><p>choose (when, otherwise):åˆ†æ”¯é€‰æ‹©ï¼›<strong>å¸¦äº†breakçš„swtich-case</strong> å¦‚æœå¸¦äº†idå°±ç”¨idæŸ¥ï¼Œå¦‚æœå¸¦äº†lastNameå°±ç”¨lastNameæŸ¥;åªä¼šè¿›å…¥å…¶ä¸­ä¸€ä¸ª</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpsByConditionChoose<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mybatis.bean.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tbl_employee 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- å¦‚æœå¸¦äº†idå°±ç”¨idæŸ¥ï¼Œå¦‚æœå¸¦äº†lastNameå°±ç”¨lastNameæŸ¥;åªä¼šè¿›å…¥å…¶ä¸­ä¸€ä¸ª --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>choose</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                id=#{id}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                last_name like #{lastName}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                email = #{email}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>otherwise</span><span class="token punctuation">&gt;</span></span>
                gender = 0
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>otherwise</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>choose</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-set" tabindex="-1"><a class="header-anchor" href="#_5-set"><span>5. set</span></a></h3><p>åœºæ™¯ï¼šåªæƒ³æ ¹æ®ä¼ è¿‡æ¥çš„javaBeanå¯¹è±¡æœ‰å€¼çš„å‚æ•°è¿›è¡Œä¿®æ”¹ã€‚nullçš„ä¸æ”¹ã€‚</p><p>é—®é¢˜ï¼šå­˜åœ¨æ‹¼æ¥é—®é¢˜ã€‚æ‰€ä»¥éœ€è¦&lt;set&gt;æ ‡ç­¾è§£å†³ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨&lt;trim&gt;æ ‡ç­¾è§£å†³å»æ‰åé¢å¤šä½™çš„é€—å·</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateEmp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	 	<span class="token comment">&lt;!-- Setæ ‡ç­¾çš„ä½¿ç”¨ --&gt;</span>
	 	update tbl_employee 
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
				last_name=#{lastName},
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
				email=#{email},
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
				gender=#{gender}
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
		where id=#{id} 
    <span class="token comment">&lt;!-- 		
		Trimï¼šæ›´æ–°æ‹¼ä¸²
		update tbl_employee 
		&lt;trim prefix=&quot;set&quot; suffixOverrides=&quot;,&quot;&gt;
			&lt;if test=&quot;lastName!=null&quot;&gt;
				last_name=#{lastName},
			&lt;/if&gt;
			&lt;if test=&quot;email!=null&quot;&gt;
				email=#{email},
			&lt;/if&gt;
			&lt;if test=&quot;gender!=null&quot;&gt;
				gender=#{gender}
			&lt;/if&gt;
		&lt;/trim&gt;
		where id=#{id}  --&gt;</span>
	 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-foreach" tabindex="-1"><a class="header-anchor" href="#_6-foreach"><span>6. foreach</span></a></h3><h4 id="_6-1-ç”¨æ³•ä¸€" tabindex="-1"><a class="header-anchor" href="#_6-1-ç”¨æ³•ä¸€"><span>6.1 ç”¨æ³•ä¸€ï¼š</span></a></h4><p>æ³¨æ„ï¼šè¿™é‡Œçš„collectionåªèƒ½å¡«listæˆ–è€…æ˜¯mapï¼Œå¦‚æœæƒ³å¡«idsï¼Œéœ€è¦åœ¨å‚æ•°ä¸ŠåŠ @Paramæ³¨è§£</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpsByConditionForeach<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.bean.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        select * from tbl_employee
        <span class="token comment">&lt;!--
            collectionï¼šæŒ‡å®šè¦éå†çš„é›†åˆï¼š
                listç±»å‹çš„å‚æ•°ä¼šç‰¹æ®Šå¤„ç†å°è£…åœ¨mapä¸­ï¼Œmapçš„keyå°±å«list
            itemï¼šå°†å½“å‰éå†å‡ºçš„å…ƒç´ èµ‹å€¼ç»™æŒ‡å®šçš„å˜é‡
            separator:æ¯ä¸ªå…ƒç´ ä¹‹é—´çš„åˆ†éš”ç¬¦
            openï¼šéå†å‡ºæ‰€æœ‰ç»“æœæ‹¼æ¥ä¸€ä¸ªå¼€å§‹çš„å­—ç¬¦
            close:éå†å‡ºæ‰€æœ‰ç»“æœæ‹¼æ¥ä¸€ä¸ªç»“æŸçš„å­—ç¬¦
            index:ç´¢å¼•ã€‚éå†listçš„æ—¶å€™æ˜¯indexå°±æ˜¯ç´¢å¼•ï¼Œitemå°±æ˜¯å½“å‰å€¼
                          éå†mapçš„æ—¶å€™indexè¡¨ç¤ºçš„å°±æ˜¯mapçš„keyï¼Œitemå°±æ˜¯mapçš„å€¼

            #{å˜é‡å}å°±èƒ½å–å‡ºå˜é‡çš„å€¼ä¹Ÿå°±æ˜¯å½“å‰éå†å‡ºçš„å…ƒç´ 
          --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ids<span class="token punctuation">&quot;</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item_id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>,<span class="token punctuation">&quot;</span></span>
                 <span class="token attr-name">open</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>where id in(<span class="token punctuation">&quot;</span></span> <span class="token attr-name">close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            #{item_id}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Test</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> <span class="token class-name">MybatisUtils</span><span class="token punctuation">.</span><span class="token function">getSqlSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">EmployeeMapperDynamicSQL</span> mapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapperDynamicSQL</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getEmpsByConditionForeach</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    sqlSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-2-ç”¨æ³•äºŒ" tabindex="-1"><a class="header-anchor" href="#_6-2-ç”¨æ³•äºŒ"><span>6.2 ç”¨æ³•äºŒï¼š</span></a></h4><p>æ³¨æ„ï¼šéœ€è¦åˆ°æ•°æ®åº“è¿æ¥å±æ€§åé¢åŠ ä¸ŠallowMultiQueries=trueï¼›</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- æ‰¹é‡ä¿å­˜ --&gt;</span>
	 <span class="token comment">&lt;!--public void addEmps(@Param(&quot;emps&quot;)List&lt;Employee&gt; emps);  --&gt;</span>
	 <span class="token comment">&lt;!--MySQLä¸‹æ‰¹é‡ä¿å­˜ï¼šå¯ä»¥foreachéå†   mysqlæ”¯æŒvalues(),(),()è¯­æ³•--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>addEmps<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	 	insert into tbl_employee(
	 		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertColumn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
	 	) 
		values
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emps<span class="token punctuation">&quot;</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>,<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			(#{emp.lastName},#{emp.email},#{emp.gender},#{emp.dept.id})
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">&gt;</span></span>
	 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!--   --&gt;</span>
	 
	 <span class="token comment">&lt;!-- è¿™ç§æ–¹å¼éœ€è¦æ•°æ®åº“è¿æ¥å±æ€§allowMultiQueries=trueï¼›
	 	è¿™ç§åˆ†å·åˆ†éš”å¤šä¸ªsqlå¯ä»¥ç”¨äºå…¶ä»–çš„æ‰¹é‡æ“ä½œï¼ˆåˆ é™¤ï¼Œä¿®æ”¹ï¼‰ --&gt;</span>
	 <span class="token comment">&lt;!-- &lt;insert id=&quot;addEmps&quot;&gt;
	 	&lt;foreach collection=&quot;emps&quot; item=&quot;emp&quot; separator=&quot;;&quot;&gt;
	 		insert into tbl_employee(last_name,email,gender,d_id)
	 		values(#{emp.lastName},#{emp.email},#{emp.gender},#{emp.dept.id})
	 	&lt;/foreach&gt;
	 &lt;/insert&gt; --&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-ä¸¤ä¸ªå†…ç½®å‚æ•°" tabindex="-1"><a class="header-anchor" href="#_7-ä¸¤ä¸ªå†…ç½®å‚æ•°"><span>7. ä¸¤ä¸ªå†…ç½®å‚æ•°</span></a></h3><p>åœºæ™¯ï¼š</p><ul><li>_databaseIdå°±æ˜¯ä»£è¡¨å½“å‰æ•°æ®åº“çš„åˆ«åã€‚å‡å¦‚æˆ‘æœ‰ä¸¤å¥—æ•°æ®åº“mysqlã€oracleï¼Œæˆ‘å†™ä¸€ä¸ªselectæ–¹æ³•è¿˜å¾—å†™ä¸¤å¥—ã€‚ç°åœ¨æœ‰è¿™ä¸ªå†…ç½®å‚æ•°åå¯ä»¥åªå†™ä¸€å¥—åœ¨é‡Œé¢åšä¸ªåˆ¤æ–­å½“å‰æ•°æ®åº“æ˜¯å“ªä¸€ä¸ªå°±å¥½ã€‚</li><li>_parameter:ä»£è¡¨æ•´ä¸ªå‚æ•°ã€‚å‡å¦‚æˆ‘çš„å‚æ•°Emloyeeä¸ºç©ºæˆ‘whereæ¡ä»¶åˆè¦ç”¨è¿™ä¸ªå‚æ•°ï¼Œé‚£è¿™ä¸ªSQLå°±æ²¡æ„ä¹‰ã€‚</li></ul><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- ä¸¤ä¸ªå†…ç½®å‚æ•°ï¼š
	 	ä¸åªæ˜¯æ–¹æ³•ä¼ é€’è¿‡æ¥çš„å‚æ•°å¯ä»¥è¢«ç”¨æ¥åˆ¤æ–­ï¼Œå–å€¼ã€‚ã€‚ã€‚
	 	mybatisé»˜è®¤è¿˜æœ‰ä¸¤ä¸ªå†…ç½®å‚æ•°ï¼š
	 	_parameter:ä»£è¡¨æ•´ä¸ªå‚æ•°
	 		å•ä¸ªå‚æ•°ï¼š_parameterå°±æ˜¯è¿™ä¸ªå‚æ•°
	 		å¤šä¸ªå‚æ•°ï¼šå‚æ•°ä¼šè¢«å°è£…ä¸ºä¸€ä¸ªmapï¼›_parameterå°±æ˜¯ä»£è¡¨è¿™ä¸ªmap
	 	
	 	_databaseId:å¦‚æœé…ç½®äº†databaseIdProvideræ ‡ç­¾ã€‚
	 		_databaseIdå°±æ˜¯ä»£è¡¨å½“å‰æ•°æ®åº“çš„åˆ«åoracle
	  --&gt;</span>
	  
	  <span class="token comment">&lt;!--public List&lt;Employee&gt; getEmpsTestInnerParameter(Employee employee);  --&gt;</span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpsTestInnerParameter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mybatis.bean.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	  		<span class="token comment">&lt;!-- bindï¼šå¯ä»¥å°†OGNLè¡¨è¾¾å¼çš„å€¼ç»‘å®šåˆ°ä¸€ä¸ªå˜é‡ä¸­ï¼Œæ–¹ä¾¿åæ¥å¼•ç”¨è¿™ä¸ªå˜é‡çš„å€¼ --&gt;</span>
	  		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bind</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_lastName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&#39;</span>%&#39;+lastName+&#39;%&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
	  		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_databaseId==&#39;mysql&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	  			select * from tbl_employee
	  			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_parameter!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	  				where last_name like #{lastName}
	  			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
	  		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
	  		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_databaseId==&#39;oracle&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	  			select * from employees
	  			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_parameter!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	  				where last_name like #{_parameter.lastName}
	  			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
	  		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-bind" tabindex="-1"><a class="header-anchor" href="#_8-bind"><span>8. bind</span></a></h3><p>åœºæ™¯ï¼šæ¨¡ç³ŠæŸ¥è¯¢ like â€™%e%â€˜ ã€‚å‡å¦‚æˆ‘åœ¨ä¼ å€¼çš„æ—¶å€™åªæƒ³ä¼ eå°±å¯ä»¥ç”¨bindã€‚åƒæ˜¯åˆ›é€ ä¸€ä¸ªå˜é‡ï¼Œç»™ä¸‹é¢ç”¨ã€‚å…·ä½“è§ä¸Šé¢ä»£ç </p><h3 id="_9-sql" tabindex="-1"><a class="header-anchor" href="#_9-sql"><span>9. sql</span></a></h3><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>	insert into employees(
	 		<span class="token comment">&lt;!-- å¼•ç”¨å¤–éƒ¨å®šä¹‰çš„sql --&gt;</span>
	 		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertColumn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	 			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>testColomn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>abc<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
	 		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
	 	)


	<span class="token comment">&lt;!-- 
	  	æŠ½å–å¯é‡ç”¨çš„sqlç‰‡æ®µã€‚æ–¹ä¾¿åé¢å¼•ç”¨ 
	  	1ã€sqlæŠ½å–ï¼šç»å¸¸å°†è¦æŸ¥è¯¢çš„åˆ—åï¼Œæˆ–è€…æ’å…¥ç”¨çš„åˆ—åæŠ½å–å‡ºæ¥æ–¹ä¾¿å¼•ç”¨
	  	2ã€includeæ¥å¼•ç”¨å·²ç»æŠ½å–çš„sqlï¼š
	  	3ã€includeè¿˜å¯ä»¥è‡ªå®šä¹‰ä¸€äº›propertyï¼Œsqlæ ‡ç­¾å†…éƒ¨å°±èƒ½ä½¿ç”¨è‡ªå®šä¹‰çš„å±æ€§
	  			include-propertyï¼šå–å€¼çš„æ­£ç¡®æ–¹å¼${prop},
	  			#{ä¸èƒ½ä½¿ç”¨è¿™ç§æ–¹å¼}
	  --&gt;</span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sql</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertColumn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	  		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_databaseId==&#39;oracle&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	  			employee_id,last_name,email
	  		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
	  		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_databaseId==&#39;mysql&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	  			last_name,email,gender,d_id
	  		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sql</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å››ã€ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#å››ã€ç¼“å­˜"><span>å››ã€ç¼“å­˜</span></a></h2><h3 id="_1-ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_1-ç®€ä»‹"><span>1. ç®€ä»‹</span></a></h3><blockquote><p>å…¶å®ç°åœ¨æ›´å¤šçš„ç”¨Redisæˆ–è€…å…¶å®ƒçš„åšç¼“å­˜ï¼Œmybatisç•™äº†Cacheæ¥å£</p></blockquote><ol><li>ä»€ä¹ˆæ˜¯ç¼“å­˜ [ Cache ] ?</li></ol><ul><li><ul><li>å­˜åœ¨å†…å­˜ä¸­çš„ä¸´æ—¶æ•°æ®</li><li>å°†ç”¨æˆ·ç»å¸¸æŸ¥è¯¢çš„æ•°æ®æ”¾åœ¨ç¼“å­˜ï¼ˆå†…å­˜ï¼‰ä¸­ï¼Œç”¨æˆ·æŸ¥è¯¢æ•°æ®å°±ä¸ç”¨ä»æ•°æ®åº“ä¸­æŸ¥è¯¢ï¼Œä»ç¼“å­˜ä¸­æŸ¥è¯¢ï¼Œä»è€Œæé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œè§£å†³äº†é«˜å¹¶å‘ç³»ç»Ÿçš„æ€§èƒ½é—®é¢˜ã€‚</li></ul></li></ul><ol start="2"><li>ä¸ºä»€ä¹ˆä½¿ç”¨ç¼“å­˜</li></ol><ul><li><ul><li>å‡å°‘å’Œæ•°æ®åº“çš„äº¤äº’æ¬¡æ•°ï¼Œå‡å°‘ç³»ç»Ÿå¼€é”€ï¼Œæé«˜ç³»ç»Ÿæ•ˆç‡</li></ul></li></ul><ol start="3"><li>ä»€ä¹ˆæ ·çš„æ•°æ®èƒ½ä½¿ç”¨ç¼“å­˜ï¼Ÿ</li></ol><ul><li><ul><li>ç»å¸¸æŸ¥è¯¢å¹¶ä¸”ä¸ç»å¸¸æ”¹å˜çš„æ•°æ®</li></ul></li></ul><h3 id="_2-ä¸€çº§ç¼“å­˜-æœ¬åœ°ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#_2-ä¸€çº§ç¼“å­˜-æœ¬åœ°ç¼“å­˜"><span>2. ä¸€çº§ç¼“å­˜ï¼ˆæœ¬åœ°ç¼“å­˜ï¼‰</span></a></h3><h4 id="_2-1-ç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#_2-1-ç‰¹ç‚¹"><span>2.1. ç‰¹ç‚¹</span></a></h4><ul><li><p>sqlSessionçº§åˆ«çš„ç¼“å­˜ã€‚ä¸€çº§ç¼“å­˜æ˜¯ä¸€ç›´å¼€å¯çš„ï¼›SqlSessionçº§åˆ«çš„ä¸€ä¸ªMap</p></li><li><p>ä¸æ•°æ®åº“åŒä¸€æ¬¡ä¼šè¯æœŸé—´æŸ¥è¯¢åˆ°çš„æ•°æ®ä¼šæ”¾åœ¨æœ¬åœ°ç¼“å­˜ä¸­ã€‚</p></li><li><p>ä»¥åå¦‚æœéœ€è¦è·å–ç›¸åŒçš„æ•°æ®ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­æ‹¿ï¼Œæ²¡å¿…è¦å†å»æŸ¥è¯¢æ•°æ®åº“ï¼›</p></li></ul><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> <span class="token class-name">MybatisUtils</span><span class="token punctuation">.</span><span class="token function">getSqlSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">EmployeeMapperPlus</span> mapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapperPlus</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Employee</span> empById <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getEmpById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>empById<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//ä¸€äº›ä¸šåŠ¡ä»£ç </span>

    <span class="token class-name">Employee</span> empById1 <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getEmpById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>empById1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>empById <span class="token operator">==</span> empById1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    sqlSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://images.zzq8.cn/img/202201130929856.png" alt="image-20220113092935272" tabindex="0" loading="lazy"><figcaption>image-20220113092935272</figcaption></figure><h4 id="_2-2-ä¸€çº§ç¼“å­˜å¤±æ•ˆæƒ…å†µ" tabindex="-1"><a class="header-anchor" href="#_2-2-ä¸€çº§ç¼“å­˜å¤±æ•ˆæƒ…å†µ"><span>2.2. ä¸€çº§ç¼“å­˜å¤±æ•ˆæƒ…å†µ</span></a></h4><blockquote><p>æ²¡æœ‰ä½¿ç”¨åˆ°å½“å‰ä¸€çº§ç¼“å­˜çš„æƒ…å†µï¼Œæ•ˆæœå°±æ˜¯ï¼Œè¿˜éœ€è¦å†å‘æ•°æ®åº“å‘å‡ºæŸ¥è¯¢ï¼š</p></blockquote><ul><li>sqlSessionä¸åŒã€‚</li><li>sqlSessionç›¸åŒï¼ŒæŸ¥è¯¢æ¡ä»¶ä¸åŒ.(å½“å‰ä¸€çº§ç¼“å­˜ä¸­è¿˜æ²¡æœ‰è¿™ä¸ªæ•°æ®)</li><li>sqlSessionç›¸åŒï¼Œä¸¤æ¬¡æŸ¥è¯¢ä¹‹é—´æ‰§è¡Œäº†å¢åˆ æ”¹æ“ä½œ(è¿™æ¬¡å¢åˆ æ”¹å¯èƒ½å¯¹å½“å‰æ•°æ®æœ‰å½±å“)</li><li>sqlSessionç›¸åŒï¼Œæ‰‹åŠ¨æ¸…é™¤äº†ä¸€çº§ç¼“å­˜ <code>openSession.clearCache()</code>ï¼ˆç¼“å­˜æ¸…ç©ºï¼‰</li></ul><h3 id="_3-äºŒçº§ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#_3-äºŒçº§ç¼“å­˜"><span>3. äºŒçº§ç¼“å­˜</span></a></h3><blockquote><p>åŸºäºnamespaceçº§åˆ«çš„ç¼“å­˜ï¼šä¸€ä¸ªnamespaceå¯¹åº”ä¸€ä¸ªäºŒçº§ç¼“å­˜ï¼š</p></blockquote><h4 id="_3-1-å·¥ä½œæœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#_3-1-å·¥ä½œæœºåˆ¶"><span>3.1. å·¥ä½œæœºåˆ¶ï¼š</span></a></h4><ol><li><p>ä¸€ä¸ªä¼šè¯ï¼ŒæŸ¥è¯¢ä¸€æ¡æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®å°±ä¼šè¢«æ”¾åœ¨å½“å‰ä¼šè¯çš„ä¸€çº§ç¼“å­˜ä¸­ï¼›</p></li><li><p>å¦‚æœä¼šè¯å…³é—­ï¼›ä¸€çº§ç¼“å­˜ä¸­çš„æ•°æ®ä¼šè¢«ä¿å­˜åˆ°äºŒçº§ç¼“å­˜ä¸­ï¼›æ–°çš„ä¼šè¯æŸ¥è¯¢ä¿¡æ¯ï¼Œå°±å¯ä»¥å‚ç…§äºŒçº§ç¼“å­˜ä¸­çš„å†…å®¹ï¼›</p></li><li><p>sqlSession=<mark>EmployeeMapper</mark>&gt;Employee</p><p>sqlSession=<mark>DepartmentMapper</mark>=&gt;Department</p></li><li><p>ä¸åŒnamespaceæŸ¥å‡ºçš„æ•°æ®ä¼šæ”¾åœ¨è‡ªå·±å¯¹åº”çš„ç¼“å­˜ä¸­ï¼ˆmapï¼‰</p></li></ol><h4 id="_3-2-æ•ˆæœ" tabindex="-1"><a class="header-anchor" href="#_3-2-æ•ˆæœ"><span>3.2. æ•ˆæœï¼š</span></a></h4><ul><li><p>æ•°æ®ä¼šä»äºŒçº§ç¼“å­˜ä¸­è·å–</p></li><li><p>æŸ¥å‡ºçš„æ•°æ®éƒ½ä¼šè¢«é»˜è®¤å…ˆæ”¾åœ¨ä¸€çº§ç¼“å­˜ä¸­ã€‚</p></li><li><p>åªæœ‰ä¼šè¯æäº¤æˆ–è€…å…³é—­ä»¥åï¼Œä¸€çº§ç¼“å­˜ä¸­çš„æ•°æ®æ‰ä¼šè½¬ç§»åˆ°äºŒçº§ç¼“å­˜ä¸­</p></li></ul><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code> <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> <span class="token class-name">MybatisUtils</span><span class="token punctuation">.</span><span class="token function">getSqlSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSession</span> sqlSession1 <span class="token operator">=</span> <span class="token class-name">MybatisUtils</span><span class="token punctuation">.</span><span class="token function">getSqlSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">EmployeeMapperPlus</span> mapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapperPlus</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">EmployeeMapperPlus</span> mapper1 <span class="token operator">=</span> sqlSession1<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapperPlus</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Employee</span> empById <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getEmpById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sqlSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ”¾è¿™ä¸ªä½ç½®ï¼Œä¸‹é¢è¿™æ¡è¯­å¥æ‰èƒ½å‘½ä¸­ç¼“å­˜</span>
        <span class="token class-name">Employee</span> empById1 <span class="token operator">=</span> mapper1<span class="token punctuation">.</span><span class="token function">getEmpById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        sqlSession.close(); //æ”¾è¿™ä¸ªä½ç½®ï¼Œå°±åªä¼šåœ¨è¿™ä¸ªä½ç½®æ‰æ”¾å…¥äºŒçº§ç¼“å­˜ï¼Œæ„æ€å°±æ˜¯ä¸Šé¢è¿™æ¡è¯­å¥è¿˜æ˜¯å¾—è·‘SQL</span>
        sqlSession1<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-3-ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_3-3-ä½¿ç”¨"><span>3.3. ä½¿ç”¨ï¼š</span></a></h4><ol><li>å¼€å¯å…¨å±€äºŒçº§ç¼“å­˜é…ç½®ï¼š<code>&lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot;/&gt;</code></li><li>å»mapper.xmlä¸­é…ç½®ä½¿ç”¨äºŒçº§ç¼“å­˜ï¼š<code>&lt;cache&gt;&lt;/cache&gt;</code></li></ol><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cache</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.caches.ehcache.EhcacheCache<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cache</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- &lt;cache eviction=&quot;FIFO&quot; flushInterval=&quot;60000&quot; readOnly=&quot;false&quot; size=&quot;1024&quot;&gt;&lt;/cache&gt; --&gt;</span>
	<span class="token comment">&lt;!--  
	eviction:ç¼“å­˜çš„å›æ”¶ç­–ç•¥ï¼š
		â€¢ LRU â€“ æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„ï¼šç§»é™¤æœ€é•¿æ—¶é—´ä¸è¢«ä½¿ç”¨çš„å¯¹è±¡ã€‚
		â€¢ FIFO â€“ å…ˆè¿›å…ˆå‡ºï¼šæŒ‰å¯¹è±¡è¿›å…¥ç¼“å­˜çš„é¡ºåºæ¥ç§»é™¤å®ƒä»¬ã€‚
		â€¢ SOFT â€“ è½¯å¼•ç”¨ï¼šç§»é™¤åŸºäºåƒåœ¾å›æ”¶å™¨çŠ¶æ€å’Œè½¯å¼•ç”¨è§„åˆ™çš„å¯¹è±¡ã€‚
		â€¢ WEAK â€“ å¼±å¼•ç”¨ï¼šæ›´ç§¯æåœ°ç§»é™¤åŸºäºåƒåœ¾æ”¶é›†å™¨çŠ¶æ€å’Œå¼±å¼•ç”¨è§„åˆ™çš„å¯¹è±¡ã€‚
		â€¢ é»˜è®¤çš„æ˜¯ LRUã€‚
	flushIntervalï¼šç¼“å­˜åˆ·æ–°é—´éš”
		ç¼“å­˜å¤šé•¿æ—¶é—´æ¸…ç©ºä¸€æ¬¡ï¼Œé»˜è®¤ä¸æ¸…ç©ºï¼Œè®¾ç½®ä¸€ä¸ªæ¯«ç§’å€¼
	readOnly:æ˜¯å¦åªè¯»ï¼š
		trueï¼šåªè¯»ï¼›mybatisè®¤ä¸ºæ‰€æœ‰ä»ç¼“å­˜ä¸­è·å–æ•°æ®çš„æ“ä½œéƒ½æ˜¯åªè¯»æ“ä½œï¼Œä¸ä¼šä¿®æ”¹æ•°æ®ã€‚
				  mybatisä¸ºäº†åŠ å¿«è·å–é€Ÿåº¦ï¼Œç›´æ¥å°±ä¼šå°†æ•°æ®åœ¨ç¼“å­˜ä¸­çš„å¼•ç”¨äº¤ç»™ç”¨æˆ·ã€‚ä¸å®‰å…¨ï¼Œé€Ÿåº¦å¿«
		falseï¼šéåªè¯»ï¼šmybatisè§‰å¾—è·å–çš„æ•°æ®å¯èƒ½ä¼šè¢«ä¿®æ”¹ã€‚
				  mybatisä¼šåˆ©ç”¨åºåˆ—åŒ–&amp;ååºåˆ—çš„æŠ€æœ¯å…‹éš†ä¸€ä»½æ–°çš„æ•°æ®ç»™ä½ ã€‚å®‰å…¨ï¼Œé€Ÿåº¦æ…¢
	sizeï¼šç¼“å­˜å­˜æ”¾å¤šå°‘å…ƒç´ ï¼›
	type=&quot;&quot;ï¼šæŒ‡å®šè‡ªå®šä¹‰ç¼“å­˜çš„å…¨ç±»åï¼›
			å®ç°Cacheæ¥å£å³å¯ï¼›
	--&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>æˆ‘ä»¬çš„POJOéœ€è¦å®ç°åºåˆ—åŒ–æ¥å£</li></ol><h3 id="_4-å’Œç¼“å­˜æœ‰å…³çš„è®¾ç½®-å±æ€§" tabindex="-1"><a class="header-anchor" href="#_4-å’Œç¼“å­˜æœ‰å…³çš„è®¾ç½®-å±æ€§"><span>4. å’Œç¼“å­˜æœ‰å…³çš„è®¾ç½®/å±æ€§ï¼š</span></a></h3><ul><li><p>cacheEnabled=trueï¼šfalseï¼šå…³é—­ç¼“å­˜ï¼ˆäºŒçº§ç¼“å­˜å…³é—­ï¼‰(ä¸€çº§ç¼“å­˜ä¸€ç›´å¯ç”¨çš„)</p></li><li><p>æ¯ä¸ªselectæ ‡ç­¾éƒ½æœ‰useCache=&quot;true&quot;ï¼š</p><ul><li>falseï¼šä¸ä½¿ç”¨ç¼“å­˜ï¼ˆä¸€çº§ç¼“å­˜ä¾ç„¶ä½¿ç”¨ï¼ŒäºŒçº§ç¼“å­˜ä¸ä½¿ç”¨ï¼‰</li></ul></li><li><p><strong>æ¯ä¸ªå¢åˆ æ”¹æ ‡ç­¾çš„ï¼šflushCache=&quot;true&quot;ï¼šï¼ˆä¸€çº§äºŒçº§éƒ½ä¼šæ¸…é™¤ï¼Œé»˜è®¤æ˜¯trueï¼‰</strong></p><ul><li><p>å¢åˆ æ”¹æ‰§è¡Œå®Œæˆåå°±ä¼šæ¸…é™¤ç¼“å­˜ï¼›</p></li><li><p>æµ‹è¯•ï¼šflushCache=&quot;true&quot;ï¼šä¸€çº§ç¼“å­˜å°±æ¸…ç©ºäº†ï¼›äºŒçº§ä¹Ÿä¼šè¢«æ¸…é™¤ï¼›</p></li><li><p>æŸ¥è¯¢æ ‡ç­¾ï¼šflushCache=&quot;false&quot;ï¼š</p></li><li><p>å¦‚æœflushCache=true;æ¯æ¬¡æŸ¥è¯¢ä¹‹åéƒ½ä¼šæ¸…ç©ºç¼“å­˜ï¼›ç¼“å­˜æ˜¯æ²¡æœ‰è¢«ä½¿ç”¨çš„ï¼›</p></li></ul></li><li><p>sqlSession.clearCache();åªæ˜¯æ¸…é™¤å½“å‰sessionçš„ä¸€çº§ç¼“å­˜ï¼›</p></li><li><p>localCacheScopeï¼šæœ¬åœ°ç¼“å­˜ä½œç”¨åŸŸï¼šï¼ˆä¸€çº§ç¼“å­˜SESSIONï¼‰ï¼›å½“å‰ä¼šè¯çš„æ‰€æœ‰æ•°æ®ä¿å­˜åœ¨ä¼šè¯ç¼“å­˜ä¸­ï¼›</p><ul><li>STATEMENTï¼šå¯ä»¥ç¦ç”¨ä¸€çº§ç¼“å­˜ï¼›</li></ul></li></ul><h3 id="_5-ç¼“å­˜åŸç†å›¾" tabindex="-1"><a class="header-anchor" href="#_5-ç¼“å­˜åŸç†å›¾"><span>5. ç¼“å­˜åŸç†å›¾</span></a></h3><figure><img src="https://images.zzq8.cn//img/202201131728029.png" alt="image-20220113172652692" tabindex="0" loading="lazy"><figcaption>image-20220113172652692</figcaption></figure><h3 id="_6-ç¬¬ä¸‰æ–¹ç¼“å­˜æ•´åˆ" tabindex="-1"><a class="header-anchor" href="#_6-ç¬¬ä¸‰æ–¹ç¼“å­˜æ•´åˆ"><span>6. ç¬¬ä¸‰æ–¹ç¼“å­˜æ•´åˆ</span></a></h3><p>æ€è·¯ï¼šå¯¼å…¥ç›¸å…³jaråŒ…æŠ€æœ¯ååªè¦è‡ªå·±å†™ä¸€ä¸ªcacheçš„å®ç°ï¼Œä¿å­˜æ•°æ®çš„æ—¶å€™æ‹¿ç¬¬ä¸‰æ–¹æ¥å®ç°ã€‚</p><p>ä½†è¿˜å¾—å†™å®ç°æŒºéº»çƒ¦çš„ï¼Œå¯ä»¥å»mybaitsçš„é¡¹ç›®åœ°å€ï¼Œå®ƒéƒ½å¸®ä½ è€ƒè™‘å¥½äº†ï¼Œä¸å…¶ä»–æŠ€æœ¯çš„æ•´åˆéƒ½åœ¨è¿™ä¸ªé¡¶çº§é¡¹ç›®åœ°å€ä¸­ï¼Œé‡Œé¢ä¹Ÿæœ‰ç›¸å…³æ–‡æ¡£åœ°å€ï¼šå…¶å®å°±æ˜¯å¯¼å…¥ç›¸å…³é€‚é…åŒ…(æ•´åˆåŒ…)ï¼Œé…ç½®ä¸€äº›xmlç¯å¢ƒã€‚</p><figure><img src="https://images.zzq8.cn//img/202201131123930.png" alt="image-20220113112304859" tabindex="0" loading="lazy"><figcaption>image-20220113112304859</figcaption></figure><p>å…·ä½“æµç¨‹ï¼š</p><ol><li>å¯¼å…¥ç¬¬ä¸‰æ–¹ç¼“å­˜åŒ…å³å¯ï¼›</li><li>å¯¼å…¥ä¸ç¬¬ä¸‰æ–¹ç¼“å­˜æ•´åˆçš„é€‚é…åŒ…ï¼›å®˜æ–¹æœ‰ï¼›</li><li>mapper.xmlä¸­ä½¿ç”¨è‡ªå®šä¹‰ç¼“å­˜ <code>&lt;cache type=&quot;org.mybatis.caches.ehcache.EhcacheCache&quot;&gt;&lt;/cache&gt;</code></li></ol><h2 id="äº”ã€ssm-æ•´åˆ" tabindex="-1"><a class="header-anchor" href="#äº”ã€ssm-æ•´åˆ"><span>äº”ã€SSM æ•´åˆ</span></a></h2><blockquote><p>é…ç½®åœ°ç‹±ï¼Œç»å†è¿‡è¿™ä¸ªé˜¶æ®µåï¼Œå°±ä¼šå‘ç°SpringBootçœŸçš„èˆ’æœ</p></blockquote><h3 id="_1-å‰è¨€" tabindex="-1"><a class="header-anchor" href="#_1-å‰è¨€"><span>1. å‰è¨€</span></a></h3><h4 id="_1-1-å¥½å¤„" tabindex="-1"><a class="header-anchor" href="#_1-1-å¥½å¤„"><span>1.1. å¥½å¤„</span></a></h4><p>ä»¥å‰å…‰ç”¨mybatisæ—¶ï¼ŒåŒ…æ‰«æxmlæ–‡ä»¶å’Œmapperç±»å¾—åœ¨ä¸€ä¸ªç›®å½•ä¸‹ï¼Œç°åœ¨æ•´åˆspringåå¯ä»¥ä¸ç”¨ä¸€ä¸ªç›®å½•äº†ã€‚</p><p>@Autowired:è‡ªåŠ¨æ³¨å…¥mapperï¼› è¿™æ ·å°±é¿å…äº†æ¯è¦ç”¨ä¸€ä¸ªmapperå¾—å…ˆSqlSessionFactoryè¿˜è¦openSession()è¿™æ ·çš„ä¸€å †æ“ä½œ</p><h4 id="_1-2-æˆ‘çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_1-2-æˆ‘çš„é—®é¢˜"><span>1.2. æˆ‘çš„é—®é¢˜</span></a></h4><p>classpath å’Œ classpath* åŒºåˆ«ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>é—®é¢˜æå‡ºï¼š
<span class="token comment">&lt;!-- æŒ‡å®šMyBatis Mapperæ–‡ä»¶çš„ä½ç½® --&gt;</span>    <span class="token comment">&lt;!-- æˆ‘å°±æ˜¯è¿™é‡Œé…é”™äº†æ‰¾äº†åŠå¤©ï¼ï¼ï¼æ³¨æ„åŠ ä¸Š /*.xml --&gt;</span>
<span class="token comment">&lt;!-- æå‡ºé—®é¢˜ï¼šåœ¨å¼•å…¥èµ„æºæ–‡ä»¶æ—¶ï¼Œclasspath ä»€ä¹ˆæ—¶å€™ç”¨ï¼Œä»€ä¹ˆæ—¶å€™ä¸ç”¨ï¼Ÿ  ä»¥å‰è¿™ä¸ªé”™è¯¯æˆ‘è¸©è¿‡ä¸¤æ¬¡å‘ï¼Œæ‰¾äº†å¾ˆä¹…ï¼ï¼ï¼ --&gt;</span>
<span class="token comment">&lt;!--çŒœæµ‹ï¼šå¼•ç”¨åŒ…æ—¶ä¸åŠ ï¼Œå¼•ç”¨å…·ä½“æ–‡ä»¶æ—¶å€™åŠ ï¼Ÿ--&gt;</span>

ç›®å‰çš„ç­”æ¡ˆï¼š
classpathï¼šåªä¼šåˆ°ä½ çš„classè·¯å¾„ä¸­æŸ¥æ‰¾æ‰¾æ–‡ä»¶;
classpath*ï¼šä¸ä»…åŒ…å«classè·¯å¾„ï¼Œè¿˜åŒ…æ‹¬jaræ–‡ä»¶ä¸­(classè·¯å¾„)è¿›è¡ŒæŸ¥æ‰¾ ---- å¤Ÿæ·±å…¥çš„å§
classpathè·¯å¾„æ˜¯æ¥å¼•ç”¨æ–‡ä»¶çš„ï¼Œåœ¨ç¼–è¯‘ç”Ÿæˆçš„é¡¹ç›®ä¸‹çš„bulid/classes/ ä¸‹å…·æœ‰çš„æ–‡ä»¶éƒ½æ˜¯classpath è·¯å¾„ä¸‹çš„æ–‡ä»¶ï¼Œéƒ½å¯ä»¥é€šè¿‡classpathï¼šæ–¹æ³•è·å–ã€‚
    å¦‚ä½•è·å–é¡¹ç›®ç±»ç¼–è¯‘åçš„è·¯å¾„
    **String path = ç±»å.class.getClassLoader().getResource(&quot;&quot;).getPath();**
&quot;**/&quot; è¡¨ç¤ºçš„æ˜¯ä»»æ„ç›®å½•ï¼› 
&quot;**/applicationContext-*.xml&quot; è¡¨ç¤ºä»»æ„ç›®å½•ä¸‹çš„ä»¥&quot;applicationContext-&quot;å¼€å¤´çš„XMLæ–‡ä»¶ã€‚ 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-æ•´åˆæµç¨‹" tabindex="-1"><a class="header-anchor" href="#_2-æ•´åˆæµç¨‹"><span>2. æ•´åˆæµç¨‹</span></a></h3><h4 id="_2-1-è¸©å‘" tabindex="-1"><a class="header-anchor" href="#_2-1-è¸©å‘"><span>2.1 è¸©å‘</span></a></h4><p>æ³¨æ„åŠ ä¸Šwebæ¨¡å—ï¼Œé…ä¸Štomcatï¼š</p><figure><img src="https://images.zzq8.cn/img/202201131605840.png" alt="image-20220113160558639" tabindex="0" loading="lazy"><figcaption>image-20220113160558639</figcaption></figure><p>å› ä¸ºmavené¡¹ç›®ä¸­çš„jaræ˜¯ä¿å­˜åœ¨æœ¬åœ°ä»“åº“ä¸­çš„ï¼Œè€Œä¸åœ¨ä½ è‡ªå·±çš„é¡¹ç›®ä¸­æ‰€ä»¥æŠŠjaråŒ…å¯¼è¿›å»ï¼Œè¿™æ ·tomcatæ‰è·‘å¾—èµ·ï¼š</p><figure><img src="https://images.zzq8.cn/img/202201131609347.png" alt="image-20220113160927268" tabindex="0" loading="lazy"><figcaption>image-20220113160927268</figcaption></figure><h4 id="_2-2-ä»£ç " tabindex="-1"><a class="header-anchor" href="#_2-2-ä»£ç "><span>2.2. ä»£ç </span></a></h4><h5 id="_2-2-1-maven" tabindex="-1"><a class="header-anchor" href="#_2-2-1-maven"><span>2.2.1. maven</span></a></h5><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.13<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- servlet --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- jsp --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jsp-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- jstl --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- spring-webmvc --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-webmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.2.4.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- spring-jdbc --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.2.4.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- spring-aopæ˜¯åŸºäºaspect, å› æ­¤å¯¼å…¥aspectjweaver --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.geronimo.bundles<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>aspectjweaver<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.6.8_2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- lombok --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.18.10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- mysqlé©±åŠ¨ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.46<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- druid --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- mybatis --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.5.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- æ—¥å¿— --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- mybatis-spring, mybatisæ•´åˆspringçš„jaråŒ… --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-spring<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- MBG --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis.generator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-generator-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.4.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-2-2-web-xml" tabindex="-1"><a class="header-anchor" href="#_2-2-2-web-xml"><span>2.2.2. web.xml</span></a></h5><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 1.å¯åŠ¨Springå®¹å™¨ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- é…ç½®Springé…ç½®æ–‡ä»¶çš„ä½ç½® --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>classpath:applicationContext.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.context.ContextLoaderListener<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 2.SpringMVCçš„å‰ç«¯æ§åˆ¶å™¨, æ‹¦æˆªæ‰€æœ‰è¯·æ±‚ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>dispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- é…ç½®SpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½® --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>classpath:spring-mvc.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- è®¾ç½®å¯åŠ¨çº§åˆ« --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>dispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 3.å­—ç¬¦ç¼–ç è¿‡æ»¤å™¨, ä¸€å®šæ”¾åœ¨æ‰€æœ‰è¿‡æ»¤å™¨çš„å‰é¢ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>characterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.filter.CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- è®¾ç½®å­—ç¬¦é›† --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>encoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- æ˜¯å¦éœ€è¦å­—ç¬¦ç¼–ç è¿‡æ»¤å™¨è®¾ç½®è¯·æ±‚ç¼–ç , è®¾ç½®çš„å­—ç¬¦é›†ä¸ºencoding --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>forceRequestEncoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- æ˜¯å¦éœ€è¦å­—ç¬¦ç¼–ç è¿‡æ»¤å™¨è®¾ç½®å“åº”ç¼–ç , è®¾ç½®çš„å­—ç¬¦é›†ä¸ºencoding --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>forceResponseEncoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>characterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 4.RESTé£æ ¼çš„URI --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>hiddenHttpMethodFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.filter.HiddenHttpMethodFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>hiddenHttpMethodFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-2-3-spring-mvc-xml" tabindex="-1"><a class="header-anchor" href="#_2-2-3-spring-mvc-xml"><span>2.2.3. spring-mvc.xml</span></a></h5><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>mvc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/mvc<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/mvc
       http://www.springframework.org/schema/mvc/spring-mvc.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- SpringMVCé…ç½®æ–‡ä»¶åªæ˜¯æ§åˆ¶ç½‘ç«™è·³è½¬é€»è¾‘ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example<span class="token punctuation">&quot;</span></span> <span class="token attr-name">use-default-filters</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- åªæ‰«ææ§åˆ¶å™¨ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>include-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>annotation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.stereotype.Controller<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- é…ç½®è§†å›¾è§£æå™¨, æ–¹ä¾¿é¡µé¢è¿”å› --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.InternalResourceViewResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prefix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/WEB-INF/views/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>suffix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.jsp<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- ä¸¤ä¸ªæ ‡å‡†é…ç½® --&gt;</span>
    <span class="token comment">&lt;!-- å°†SpringMVCä¸èƒ½å¤„ç†çš„è¯·æ±‚äº¤ç»™Tomcat --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>default-servlet-handler</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>default-servlet-handler</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- èƒ½æ”¯æŒSpringMVCæ›´é«˜çº§çš„ä¸€äº›åŠŸèƒ½, JSR303æ ¡éªŒ, å¿«æ·çš„ajax...æ˜ å°„åŠ¨æ€è¯·æ±‚ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-2-3-dbconfig-properties" tabindex="-1"><a class="header-anchor" href="#_2-2-3-dbconfig-properties"><span>2.2.3. dbconfig.properties</span></a></h5><div class="language-properties line-numbers-mode" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token key attr-name">jdbc.driverClassName</span><span class="token punctuation">=</span><span class="token value attr-value">com.mysql.jdbc.Driver</span>
<span class="token key attr-name">jdbc.url</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc:mysql://localhost:3306/mybatis?useSSL=false&amp;amp;useUnicode=true&amp;amp;characterEncoding=utf8</span>
<span class="token key attr-name">jdbc.username</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">jdbc.password</span><span class="token punctuation">=</span><span class="token value attr-value">123456</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-2-4-applicationcontext-xmlã€é‡å¤´æˆã€‘" tabindex="-1"><a class="header-anchor" href="#_2-2-4-applicationcontext-xmlã€é‡å¤´æˆã€‘"><span>2.2.4. applicationContext.xmlã€é‡å¤´æˆã€‘</span></a></h5><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>aop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/aop<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>tx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/tx<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context.xsd
       http://www.springframework.org/schema/aop
       http://www.springframework.org/schema/aop/spring-aop.xsd
       http://www.springframework.org/schema/tx
       http://www.springframework.org/schema/tx/spring-tx.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- Springé…ç½®æ–‡ä»¶, è¿™é‡Œä¸»è¦é…ç½®å’Œä¸šåŠ¡é€»è¾‘æœ‰å…³çš„ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>exclude-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>annotation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.stereotype.Controller<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- å¼•å…¥æ•°æ®åº“çš„é…ç½®æ–‡ä»¶ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>property-placeholder</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classpath:dbconfig.properties<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>property-placeholder</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- æ•°æ®æº --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.alibaba.druid.pool.DruidDataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driverClassName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.driverClassName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.url}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--
	æ•´åˆmybatis
		ç›®çš„ï¼š1ã€springç®¡ç†æ‰€æœ‰ç»„ä»¶ã€‚mapperçš„å®ç°ç±»ã€‚
				service==&gt;Dao   @Autowired:è‡ªåŠ¨æ³¨å…¥mapperï¼›  è¿™æ ·å°±é¿å…äº†æ¯è¦ç”¨ä¸€ä¸ªmapperå¾—å…ˆSqlSessionFactoryè¿˜è¦openSession()è¿™æ ·çš„ä¸€å †æ“ä½œ
			2ã€springç”¨æ¥ç®¡ç†äº‹åŠ¡ï¼Œspringå£°æ˜å¼äº‹åŠ¡
	--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sessionFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.SqlSessionFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- æŒ‡å®šMyBatiså…¨å±€é…ç½®æ–‡ä»¶çš„ä½ç½® --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>configLocation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classpath:mybatis-config.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- æŒ‡å®šæ•°æ®æº --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- æŒ‡å®šMyBatis Mapperæ–‡ä»¶çš„ä½ç½® --&gt;</span>    <span class="token comment">&lt;!-- æˆ‘å°±æ˜¯è¿™é‡Œé…é”™äº†æ‰¾äº†åŠå¤©ï¼ï¼ï¼æ³¨æ„åŠ ä¸Š /*.xml --&gt;</span>
        <span class="token comment">&lt;!-- æå‡ºé—®é¢˜ï¼šåœ¨å¼•å…¥èµ„æºæ–‡ä»¶æ—¶ï¼Œclasspath ä»€ä¹ˆæ—¶å€™ç”¨ï¼Œä»€ä¹ˆæ—¶å€™ä¸ç”¨ï¼Ÿ  ä»¥å‰è¿™ä¸ªé”™è¯¯æˆ‘è¸©è¿‡ä¸¤æ¬¡å‘ï¼Œæ‰¾äº†å¾ˆä¹…ï¼ï¼ï¼ --&gt;</span>
        <span class="token comment">&lt;!-- çŒœæµ‹ï¼šå¼•ç”¨åŒ…æ—¶ä¸åŠ ï¼Œå¼•ç”¨å…·ä½“æ–‡ä»¶æ—¶å€™åŠ ï¼Ÿ--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapperLocations<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classpath:org/example/mapper/xml/*.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- é…ç½®æ‰«æå™¨, å°†Mapperæ¥å£ç”Ÿæˆä»£ç†æ³¨å…¥åˆ°Spring --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapperScannerConfigurer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.mapper.MapperScannerConfigurer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- æŒ‡å®šmapperæ¥å£æ‰€åœ¨åŒ… --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basePackage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.mapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- æŒ‡å®šsqlSessionFactoryBeané…ç½®åœ¨Springä¸­çš„idå€¼ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sqlSessionFactoryBeanName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sessionFactory<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- é…ç½®ä¸€ä¸ªä¸“é—¨ç”¨æ¥è¿›è¡ŒBatchæ“ä½œçš„sqlSession --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sessionTemplate<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.SqlSessionTemplate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- æŒ‡å®šsqlSessionFactory --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sqlSessionFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sessionFactory<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- è®¾ç½®æ‰§è¡Œç±»å‹ä¸ºBatch --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>executorType<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BATCH<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- äº‹åŠ¡æ§åˆ¶ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>transactionManager<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.jdbc.datasource.DataSourceTransactionManager<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- æ§åˆ¶ä¸»æ•°æ®æº --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ä½¿ç”¨xmlé…ç½®å½¢å¼çš„äº‹åŠ¡(é‡è¦çš„éƒ½æ˜¯ä½¿ç”¨xml) --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- é…ç½®åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txPoint<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>execution(* org.example.service..*(..))<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- é…ç½®äº‹åŠ¡å¢å¼º --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>advisor</span> <span class="token attr-name">advice-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txAdvice<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txPoint<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>advisor</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- é…ç½®äº‹åŠ¡å¢å¼º, äº‹åŠ¡å¦‚ä½•åˆ‡å…¥; å¹¶æŒ‡å®šäº‹åŠ¡ç®¡ç†å™¨, äº‹åŠ¡ç®¡ç†å™¨åç§°é»˜è®¤å°±æ˜¯transactionManager --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>advice</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txAdvice<span class="token punctuation">&quot;</span></span> <span class="token attr-name">transaction-manager</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>transactionManager<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯äº‹åŠ¡æ–¹æ³• --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- ä»¥getå¼€å§‹çš„æ–¹æ³•è®¾ç½®åªè¯»äº‹åŠ¡, åº•å±‚æœ‰ä¼˜åŒ– --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>get*<span class="token punctuation">&quot;</span></span> <span class="token attr-name">read-only</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>advice</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-2-5-log4j-properties" tabindex="-1"><a class="header-anchor" href="#_2-2-5-log4j-properties"><span>2.2.5. log4j.properties</span></a></h5><div class="language-properties line-numbers-mode" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token key attr-name">log4j.rootLogger</span><span class="token punctuation">=</span><span class="token value attr-value">DEBUG, Console</span>

<span class="token comment">#Console</span>
<span class="token key attr-name">log4j.appender.Console</span><span class="token punctuation">=</span><span class="token value attr-value">org.apache.log4j.ConsoleAppender</span>
<span class="token key attr-name">log4j.appender.Console.layout</span><span class="token punctuation">=</span><span class="token value attr-value">org.apache.log4j.PatternLayout</span>
<span class="token key attr-name">log4j.appender.Console.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token value attr-value">%d [%t] %-5p [%c] - %m%n  </span>

<span class="token key attr-name">log4j.logger.java.sql.ResultSet</span><span class="token punctuation">=</span><span class="token value attr-value">INFO</span>
<span class="token key attr-name">log4j.logger.org.apache</span><span class="token punctuation">=</span><span class="token value attr-value">INFO</span>
<span class="token key attr-name">log4j.logger.java.sql.Connection</span><span class="token punctuation">=</span><span class="token value attr-value">DEBUG</span>
<span class="token key attr-name">log4j.logger.java.sql.Statement</span><span class="token punctuation">=</span><span class="token value attr-value">DEBUG</span>
<span class="token key attr-name">log4j.logger.java.sql.PreparedStatement</span><span class="token punctuation">=</span><span class="token value attr-value">DEBUG</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-2-6-mybatis-config-xml" tabindex="-1"><a class="header-anchor" href="#_2-2-6-mybatis-config-xml"><span>2.2.6. mybatis-config.xml</span></a></h5><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>
        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- configuration: æ ¸å¿ƒé…ç½®æ–‡ä»¶ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- å¼€å¯é©¼å³°å‘½åæ³• --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapUnderscoreToCamelCase<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- æ—¥å¿— --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>LOG4J<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- æ‰¹é‡èµ·åˆ«å --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.bean<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-é¡¹ç›®ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_2-3-é¡¹ç›®ç»“æ„"><span>2.3. é¡¹ç›®ç»“æ„</span></a></h4><figure><img src="https://images.zzq8.cn/img/202201131618205.png" alt="image-20220113161851133" tabindex="0" loading="lazy"><figcaption>image-20220113161851133</figcaption></figure><p>psï¼šå…¶ä»–çš„javaç±»å’Œæµ‹è¯•å°±ä¸è´´äº†ï¼Œå°±ç®€å•çš„æµ‹äº†ä¸€ä¸‹ã€‚</p><h2 id="å…­ã€é€†å‘å·¥ç¨‹-mbg" tabindex="-1"><a class="header-anchor" href="#å…­ã€é€†å‘å·¥ç¨‹-mbg"><span>å…­ã€é€†å‘å·¥ç¨‹ ( MBG )</span></a></h2><p><code>MyBatis Generator</code> ç®€ç§° <code>MBG</code> ï¼Œæ˜¯ä¸€ä¸ªä¸“é—¨ä¸º <code>MyBatis</code> æ¡†æ¶ä½¿ç”¨è€…å®šåˆ¶çš„<strong>ä»£ç ç”Ÿæˆå™¨</strong>ï¼Œå¯ä»¥å¿«é€Ÿçš„æ ¹æ®è¡¨ç”Ÿæˆå¯¹åº”çš„æ˜ å°„æ–‡ä»¶ï¼Œæ¥å£ï¼Œä»¥åŠ <code>bean</code> ç±»ã€‚æ”¯æŒåŸºæœ¬çš„å¢åˆ æ”¹æŸ¥ï¼Œä»¥åŠ <code>QBC</code> é£æ ¼çš„æ¡ä»¶æŸ¥è¯¢ã€‚ä½†æ˜¯è¡¨è¿æ¥ã€å­˜å‚¨è¿‡ç¨‹ç­‰è¿™äº›å¤æ‚ <code>sql</code> çš„å®šä¹‰éœ€è¦æˆ‘ä»¬æ‰‹å·¥ç¼–å†™</p><p>è‡ªå·±ç”¨è¿‡MyBatis-Plusçš„ï¼Œè¿™é‡Œå°±ä¸æµ‹äº†ã€‚æœ‰éœ€è¦å°±å»è¯»æ–‡æ¡£å°±å¥½ã€‚</p><h2 id="ä¸ƒã€mybatis-è¿è¡ŒåŸç†-é‡ç‚¹" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€mybatis-è¿è¡ŒåŸç†-é‡ç‚¹"><span>ä¸ƒã€MyBatis è¿è¡ŒåŸç†ï¼ˆé‡ç‚¹ï¼‰</span></a></h2><ol><li><p>è·å–sqlSessionFactoryå¯¹è±¡</p><ul><li>è§£ææ–‡ä»¶çš„æ¯ä¸€ä¸ªä¿¡æ¯ä¿å­˜åœ¨Configurationä¸­ï¼Œè¿”å›åŒ…å«Configurationçš„DefaultSqlSessionï¼›</li><li>æ³¨æ„ï¼šã€MappedStatementã€‘ï¼šä»£è¡¨ä¸€ä¸ªå¢åˆ æ”¹æŸ¥çš„è¯¦ç»†ä¿¡æ¯</li></ul></li><li><p>è·å–sqlSessionå¯¹è±¡</p><ul><li><pre><code>  è¿”å›ä¸€ä¸ªDefaultSQlSessionå¯¹è±¡ï¼ŒåŒ…å«Executorå’ŒConfiguration;
</code></pre></li><li><pre><code>  è¿™ä¸€æ­¥ä¼šåˆ›å»ºExecutorå¯¹è±¡ï¼›
</code></pre></li></ul></li><li><p>è·å–æ¥å£çš„ä»£ç†å¯¹è±¡ï¼ˆMapperProxyï¼‰</p><ul><li><pre><code>  getMapperï¼Œä½¿ç”¨MapperProxyFactoryåˆ›å»ºä¸€ä¸ªMapperProxyçš„ä»£ç†å¯¹è±¡
</code></pre></li><li><pre><code>  ä»£ç†å¯¹è±¡é‡Œé¢åŒ…å«äº†ï¼ŒDefaultSqlSessionï¼ˆExecutorï¼‰
</code></pre></li></ul></li><li><p>æ‰§è¡Œå¢åˆ æ”¹æŸ¥æ–¹æ³•</p></li></ol><p><strong>æ€»ç»“ï¼š</strong></p><ol><li><p>æ ¹æ®é…ç½®æ–‡ä»¶ï¼ˆå…¨å±€ï¼Œsqlæ˜ å°„ï¼‰åˆå§‹åŒ–å‡ºConfigurationå¯¹è±¡</p></li><li><p>åˆ›å»ºä¸€ä¸ªDefaultSqlSessionå¯¹è±¡ï¼Œä»–é‡Œé¢åŒ…å«Configurationä»¥åŠExecutorï¼ˆæ ¹æ®å…¨å±€é…ç½®æ–‡ä»¶ä¸­çš„defaultExecutorTypeåˆ›å»ºå‡ºå¯¹åº”çš„Executorï¼‰</p></li><li><p>DefaultSqlSession.getMapperï¼ˆï¼‰ï¼šæ‹¿åˆ°Mapperæ¥å£å¯¹åº”çš„MapperProxyï¼›</p></li><li><p>MapperProxyé‡Œé¢æœ‰ï¼ˆDefaultSqlSessionï¼‰ï¼›</p></li><li><p>æ‰§è¡Œå¢åˆ æ”¹æŸ¥æ–¹æ³•ï¼š</p><ol><li><p>è°ƒç”¨DefaultSqlSessionçš„å¢åˆ æ”¹æŸ¥ï¼ˆExecutorï¼‰ï¼›</p></li><li><p>ä¼šåˆ›å»ºä¸€ä¸ªStatementHandlerå¯¹è±¡ã€‚ï¼ˆåŒæ—¶ä¹Ÿä¼šåˆ›å»ºå‡ºParameterHandlerå’ŒResultSetHandlerï¼‰</p></li><li><p>è°ƒç”¨StatementHandleré¢„ç¼–è¯‘å‚æ•°ä»¥åŠè®¾ç½®å‚æ•°å€¼;</p><p>ä½¿ç”¨ParameterHandleræ¥ç»™sqlè®¾ç½®å‚æ•°</p></li><li><p>è°ƒç”¨StatementHandlerçš„å¢åˆ æ”¹æŸ¥æ–¹æ³•ï¼›</p></li><li><p>ResultSetHandlerå°è£…ç»“æœ</p></li></ol></li></ol><p>æ³¨æ„ï¼šå››å¤§å¯¹è±¡æ¯ä¸ªåˆ›å»ºçš„æ—¶å€™éƒ½æœ‰ä¸€ä¸ªinterceptorChain.pluginAll(parameterHandler);</p><figure><img src="https://images.zzq8.cn/img/202201131729864.png" alt="image-20220113172923721" tabindex="0" loading="lazy"><figcaption>image-20220113172923721</figcaption></figure><figure><img src="https://images.zzq8.cn/img/202201131730320.png" alt="image-20220113173017201" tabindex="0" loading="lazy"><figcaption>image-20220113173017201</figcaption></figure><figure><img src="https://images.zzq8.cn/img/202201131730556.png" alt="image-20220113173036443" tabindex="0" loading="lazy"><figcaption>image-20220113173036443</figcaption></figure><figure><img src="https://images.zzq8.cn/img/202201131731716.png" alt="image-20220113173101595" tabindex="0" loading="lazy"><figcaption>image-20220113173101595</figcaption></figure><h2 id="å…«ã€æ’ä»¶åŸç†" tabindex="-1"><a class="header-anchor" href="#å…«ã€æ’ä»¶åŸç†"><span>å…«ã€æ’ä»¶åŸç†</span></a></h2><p>åœ¨å››å¤§å¯¹è±¡åˆ›å»ºçš„æ—¶å€™</p><ol><li>æ¯ä¸ªåˆ›å»ºå‡ºæ¥çš„å¯¹è±¡ä¸æ˜¯ç›´æ¥è¿”å›çš„ï¼Œè€Œæ˜¯<code>interceptorChain.pluginAll(parameterHandler);</code></li><li>è·å–åˆ°æ‰€æœ‰çš„Interceptorï¼ˆæ‹¦æˆªå™¨ï¼‰ï¼ˆæ’ä»¶éœ€è¦å®ç°çš„æ¥å£ï¼‰ï¼›</li></ol><p>â€‹ è°ƒç”¨interceptor.plugin(target);è¿”å›targetåŒ…è£…åçš„å¯¹è±¡</p><ol start="3"><li>æ’ä»¶æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ’ä»¶ä¸ºç›®æ ‡å¯¹è±¡åˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡ï¼›AOPï¼ˆé¢å‘åˆ‡é¢ï¼‰</li></ol><p>â€‹ æˆ‘ä»¬çš„æ’ä»¶å¯ä»¥ä¸ºå››å¤§å¯¹è±¡åˆ›å»ºå‡ºä»£ç†å¯¹è±¡ï¼›</p><p>â€‹ ä»£ç†å¯¹è±¡å°±å¯ä»¥æ‹¦æˆªåˆ°å››å¤§å¯¹è±¡çš„æ¯ä¸€ä¸ªæ‰§è¡Œï¼›</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">pluginAll</span><span class="token punctuation">(</span><span class="token class-name">Object</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Interceptor</span> interceptor <span class="token operator">:</span> interceptors<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      target <span class="token operator">=</span> interceptor<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> target<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ’ä»¶ç¼–å†™ï¼š</p><ol><li>ç¼–å†™Interceptorçš„å®ç°ç±»</li><li>ä½¿ç”¨@Interceptsæ³¨è§£å®Œæˆæ’ä»¶ç­¾å</li><li>å°†å†™å¥½çš„æ’ä»¶æ³¨å†Œåˆ°å…¨å±€é…ç½®æ–‡ä»¶ä¸­</li></ol><p>éœ€è¦çŸ¥é“è¿™å››å¤§å¯¹è±¡çš„ä½œç”¨ï¼š</p><figure><img src="https://images.zzq8.cn/img/202201131731701.png" alt="image-20220113173124592" tabindex="0" loading="lazy"><figcaption>image-20220113173124592</figcaption></figure><figure><img src="https://images.zzq8.cn/img/202201131731577.png" alt="image-20220113173140474" tabindex="0" loading="lazy"><figcaption>image-20220113173140474</figcaption></figure><figure><img src="https://images.zzq8.cn/img/202201131731779.png" alt="image-20220113173157681" tabindex="0" loading="lazy"><figcaption>image-20220113173157681</figcaption></figure><h2 id="ä¹ã€pagehelper-åˆ†é¡µæŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#ä¹ã€pagehelper-åˆ†é¡µæŸ¥è¯¢"><span>ä¹ã€pageHelper åˆ†é¡µæŸ¥è¯¢</span></a></h2><p>æ’ä»¶åŸºäºæ‹¦æˆªå™¨</p><p>åº”è¯¥å°±æ˜¯é…ç½®æ‹¦æˆªå™¨ï¼Œæ‹¦æˆªSQLè¯­å¥ï¼Œç„¶åæ ¹æ®åˆ†é¡µå¯¹è±¡é…ç½®çš„è¦åˆ†å‡ é¡µæ¯é¡µå¤šå°‘æ¡ï¼Œç»™äºˆå°è£…ã€‚</p><p>å…·ä½“çœ‹githubå®˜ç½‘</p></div><!--[--><!----><!--]--><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a href="https://github.com/zzq8/zzq8/edit/main/src/studynotes/JavaFramework/MyBatis.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link vp-meta-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 1024zzq@gmail.com">Fighting</span>,<!--]--><!--[--><span class="vp-meta-info" title="email: 1024zzq@gmail.com">MiniPC</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><!----><a class="route-link nav-link next" href="/studynotes/JavaFramework/SpringSecurity.html" aria-label="/studynotes/JavaFramework/SpringSecurity.html"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">/studynotes/JavaFramework/SpringSecurity.html<!----></div></a></nav><!----><!--[--><!----><!--]--><!--]--></main><!--]--><!----></div><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-Qhk47erD.js" defer></script>
  </body>
</html>
