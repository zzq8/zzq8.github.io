<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.9" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.36" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://doc.zzq8.cn/studynotes/JavaFramework/SpringBoot.html"><meta property="og:site_name" content="Zz"><meta property="og:title" content="SpringBoot2"><meta property="og:description" content="SpringBoot2 ä¸‰åˆ·æ€»ç®—æƒ³èµ·åšç‚¹ç¬”è®°ï¼Œè¿™ç‚¹å¾ˆé‡è¦ è¯­é›€å®˜æ–¹ç¬”è®° é‡ç‚¹çœ‹æºç è®²è§£çš„è§†é¢‘ã€Webå¼€å‘è¿™ä¸€ç«  æ¯å¯¼å…¥ä¸€ä¸ª starter æ”¹å†™å“ªäº›é…ç½®ç›´æ¥çœ‹å®˜ç½‘ï¼ï¼ï¼æœ‰äº›ä»€ä¹ˆé…ç½®ä¸€ç›®äº†ç„¶ï¼ è¿˜æœ‰è‡ªåŠ¨åŒ–é…ç½®æ–‡æ¡£ï¼Œè¿™ä¸ªå€’ideaåŒshiftæ‰¾propertiesä¹Ÿè¡Œ çœ‹åˆ°äº†P25ï¼Œç”±äºæ±‚èŒå½¢åŠ¿é€¼è¿«ã€‚ææµ…... åšé¡¹ç›®å¿«é€Ÿä¸Šæ‰‹èƒ½å¹²ï¼Œå¾€åå†å›å¤´äº† è¡¥å……é¢è¯•å¸¸..."><meta property="og:type" content="article"><meta property="og:image" content="https://images.zzq8.cn/img/202209011803186.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-05-26T06:52:58.000Z"><meta property="article:modified_time" content="2024-05-26T06:52:58.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"SpringBoot2","image":["https://images.zzq8.cn/img/202209011803186.png","https://images.zzq8.cn/img/202209012132180.png","https://images.zzq8.cn/img/202302171158502.png","https://images.zzq8.cn/img/202209012205178.png","http://images.zzq8.cn/img/928164d48bbf4019a6a5131fd4cdfec9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp","http://images.zzq8.cn/img/062d90e772644ee9962185234ee6d12e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp","https://images.zzq8.cn/img/202210171647567.png","https://img-blog.csdnimg.cn/f8be2ba0c5f64f779696924284214be8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5Z6D5Zy-546L5a2Q5pmX,size_20,color_FFFFFF,t_70,g_se,x_16","https://images.zzq8.cn/img/202302111407769.png","https://images.zzq8.cn/img/202308020858808.png"],"dateModified":"2024-05-26T06:52:58.000Z","author":[]}</script><title>SpringBoot2 | Zz</title><meta name="description" content="SpringBoot2 ä¸‰åˆ·æ€»ç®—æƒ³èµ·åšç‚¹ç¬”è®°ï¼Œè¿™ç‚¹å¾ˆé‡è¦ è¯­é›€å®˜æ–¹ç¬”è®° é‡ç‚¹çœ‹æºç è®²è§£çš„è§†é¢‘ã€Webå¼€å‘è¿™ä¸€ç«  æ¯å¯¼å…¥ä¸€ä¸ª starter æ”¹å†™å“ªäº›é…ç½®ç›´æ¥çœ‹å®˜ç½‘ï¼ï¼ï¼æœ‰äº›ä»€ä¹ˆé…ç½®ä¸€ç›®äº†ç„¶ï¼ è¿˜æœ‰è‡ªåŠ¨åŒ–é…ç½®æ–‡æ¡£ï¼Œè¿™ä¸ªå€’ideaåŒshiftæ‰¾propertiesä¹Ÿè¡Œ çœ‹åˆ°äº†P25ï¼Œç”±äºæ±‚èŒå½¢åŠ¿é€¼è¿«ã€‚ææµ…... åšé¡¹ç›®å¿«é€Ÿä¸Šæ‰‹èƒ½å¹²ï¼Œå¾€åå†å›å¤´äº† è¡¥å……é¢è¯•å¸¸...">
    <link rel="preload" href="/assets/style-DdgbutwI.css" as="style"><link rel="stylesheet" href="/assets/style-DdgbutwI.css">
    <link rel="modulepreload" href="/assets/app-C9WVnRdf.js"><link rel="modulepreload" href="/assets/SpringBoot.html-bIRgDxgc.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-COjDT8e2.js" as="script"><link rel="prefetch" href="/assets/2023å¹´æ€»ç»“.html-DVxyOxP9.js" as="script"><link rel="prefetch" href="/assets/æ‰¾å·¥ä½œæœ‰æ„Ÿ.html-CKBWpJo3.js" as="script"><link rel="prefetch" href="/assets/index.html-C97AwlDX.js" as="script"><link rel="prefetch" href="/assets/disable.html-BX_a6l84.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-1HFNMMLR.js" as="script"><link rel="prefetch" href="/assets/layout.html-XhURdsQX.js" as="script"><link rel="prefetch" href="/assets/markdown.html-BddsOy1s.js" as="script"><link rel="prefetch" href="/assets/page.html-Zh3Zp8fU.js" as="script"><link rel="prefetch" href="/assets/TODO.html-DGD4fvfa.js" as="script"><link rel="prefetch" href="/assets/Tradingview.html-DNSIigmx.js" as="script"><link rel="prefetch" href="/assets/HttpRequest.html-CIowmOTj.js" as="script"><link rel="prefetch" href="/assets/JWT.html-DMVNrmAZ.js" as="script"><link rel="prefetch" href="/assets/Nginx.html-CZSVEPu8.js" as="script"><link rel="prefetch" href="/assets/è®¡ç½‘é—®é¢˜ï¼ˆå¾…è§£å†³ï¼‰.html-bMCX8gL1.js" as="script"><link rel="prefetch" href="/assets/DistributedLock.html-BhgmweMa.js" as="script"><link rel="prefetch" href="/assets/Advanced.html-BPib1Iu0.js" as="script"><link rel="prefetch" href="/assets/Basic.html-BFYc7WTF.js" as="script"><link rel="prefetch" href="/assets/ElasticSearch.html-SUSfSXUI.js" as="script"><link rel="prefetch" href="/assets/JUC.html-H2b0EnxF.js" as="script"><link rel="prefetch" href="/assets/JVM.html-DY2N7Ew5.js" as="script"><link rel="prefetch" href="/assets/MyBatis.html-G_V3TOaH.js" as="script"><link rel="prefetch" href="/assets/SpringCloud.html-GxzIRy0o.js" as="script"><link rel="prefetch" href="/assets/SpringIntegration.html-CaCkUDkt.js" as="script"><link rel="prefetch" href="/assets/SpringSecurity.html-D73VJkzl.js" as="script"><link rel="prefetch" href="/assets/Java æ ¸å¿ƒæŠ€æœ¯é¢è¯•ç²¾è®².html-CcqXVxZY.js" as="script"><link rel="prefetch" href="/assets/JavaSE.html-DDOLBN6N.js" as="script"><link rel="prefetch" href="/assets/KnowledgePlanet-JavaGuide.html-DJ-2b7sl.js" as="script"><link rel="prefetch" href="/assets/Lambda.html-C-POEUH3.js" as="script"><link rel="prefetch" href="/assets/Steam.html-DvV8HJTO.js" as="script"><link rel="prefetch" href="/assets/å°šç¡…è°·ç»å…¸Javaé¢è¯•é¢˜ç¬¬ä¸€å­£.html-fWKrc-ji.js" as="script"><link rel="prefetch" href="/assets/LinuxRef.html-Bu8_I2ZR.js" as="script"><link rel="prefetch" href="/assets/Linuxç¯å¢ƒéƒ¨ç½²(JREã€MySQLã€Nginx).html-CiY-xOgQ.js" as="script"><link rel="prefetch" href="/assets/RabbitMQ.html-Bfkm0IQm.js" as="script"><link rel="prefetch" href="/assets/Redis.html-CYycpgW7.js" as="script"><link rel="prefetch" href="/assets/RedisAdvanced.html-D-3akAFz.js" as="script"><link rel="prefetch" href="/assets/RuoYi.html-DaQYGq9o.js" as="script"><link rel="prefetch" href="/assets/MySQLå®æˆ˜45è®².html-DgE6B56Q.js" as="script"><link rel="prefetch" href="/assets/Mysqlç´¢å¼•_åšé¢˜æ€»ç»“.html-mvcpIS3A.js" as="script"><link rel="prefetch" href="/assets/5am-Project.html-DoTGZKMg.js" as="script"><link rel="prefetch" href="/assets/Clash.html-DIsAknMx.js" as="script"><link rel="prefetch" href="/assets/Git_SVN.html-WwEGVNaf.js" as="script"><link rel="prefetch" href="/assets/GitHub Actions.html-gqwfj1qR.js" as="script"><link rel="prefetch" href="/assets/MacOS.html-D28t8v49.js" as="script"><link rel="prefetch" href="/assets/Maven.html-BLotd2wJ.js" as="script"><link rel="prefetch" href="/assets/Regexr.html-B2HM3yHO.js" as="script"><link rel="prefetch" href="/assets/StudyList.html-BsSyQSvS.js" as="script"><link rel="prefetch" href="/assets/VuePress Theme Hope.html-Dmr4Udu-.js" as="script"><link rel="prefetch" href="/assets/WTG (WindowsToGo).html-B1PL0N7r.js" as="script"><link rel="prefetch" href="/assets/Windows_Software.html-DLGUZtYi.js" as="script"><link rel="prefetch" href="/assets/idea_windows å¿«æ·é”®åŠä½¿ç”¨æŠ€å·§.html-BU0_RUBe.js" as="script"><link rel="prefetch" href="/assets/Books.html-Bo4IWxCt.js" as="script"><link rel="prefetch" href="/assets/FirstYear.html-_oANEPrz.js" as="script"><link rel="prefetch" href="/assets/upupor.html-Ii5zBkDV.js" as="script"><link rel="prefetch" href="/assets/å¿«æ’ï¼ˆåˆ†æ²»æ€æƒ³ï¼‰.html-CmFfA12b.js" as="script"><link rel="prefetch" href="/assets/è®¡ç»„åŸ.html-M02xwRk2.js" as="script"><link rel="prefetch" href="/assets/å°šä¸Šä¼˜é€‰_Abandon.html-DqwDp_um.js" as="script"><link rel="prefetch" href="/assets/2020 ç¨‹åºå‘˜æ‰¾å·¥ä½œæŒ‡å—.html-Bz3Z9d1K.js" as="script"><link rel="prefetch" href="/assets/ç¨‹åºå‘˜å¦‚ä½•é«˜æ•ˆå­¦ä¹ ï¼ˆä»¥ Java ä¸ºä¾‹ï¼‰.html-CV2rB6_i.js" as="script"><link rel="prefetch" href="/assets/Chromeä¹¦ç­¾è¢«åŠ«æŒ.html-DB3-pRzY.js" as="script"><link rel="prefetch" href="/assets/Kali ç ´è§£ WIFI.html-PTcr8XQw.js" as="script"><link rel="prefetch" href="/assets/ShareListæŒ‚è½½é˜¿é‡Œäº‘ç›˜.html-DSjg3mX8.js" as="script"><link rel="prefetch" href="/assets/Windows To Go Uç›˜.html-BRB_urOo.js" as="script"><link rel="prefetch" href="/assets/docsifyå¿«é€Ÿéƒ¨ç½²ä¼˜ç¾çš„åœ¨çº¿æ–‡æ¡£.html-CaUqfPeN.js" as="script"><link rel="prefetch" href="/assets/å¤©å¤©éƒ½åœ¨ç”¨çš„è½¯ç¡¬ä»¶.html-CAMr4ZES.js" as="script"><link rel="prefetch" href="/assets/Spring.html-BYa9eStN.js" as="script"><link rel="prefetch" href="/assets/404.html-BDb1hzJy.js" as="script"><link rel="prefetch" href="/assets/index.html-TrP5Py7x.js" as="script"><link rel="prefetch" href="/assets/index.html-kfsOlvp_.js" as="script"><link rel="prefetch" href="/assets/index.html-DMtoH1ce.js" as="script"><link rel="prefetch" href="/assets/index.html-BffVYl1G.js" as="script"><link rel="prefetch" href="/assets/index.html-BgkG9Ane.js" as="script"><link rel="prefetch" href="/assets/index.html-BMyBCZIx.js" as="script"><link rel="prefetch" href="/assets/index.html-Cv1TkX37.js" as="script"><link rel="prefetch" href="/assets/index.html-EXZpDSRM.js" as="script"><link rel="prefetch" href="/assets/index.html-BcsrPo4L.js" as="script"><link rel="prefetch" href="/assets/index.html-CA9iUW5w.js" as="script"><link rel="prefetch" href="/assets/index.html-4ijb5Ec1.js" as="script"><link rel="prefetch" href="/assets/index.html-Ddrib9g0.js" as="script"><link rel="prefetch" href="/assets/index.html-tlQ4wmUH.js" as="script"><link rel="prefetch" href="/assets/index.html-BKTTJxoI.js" as="script"><link rel="prefetch" href="/assets/index.html-Dpuru9H5.js" as="script"><link rel="prefetch" href="/assets/index.html-CJUXJgnx.js" as="script"><link rel="prefetch" href="/assets/index.html-CdlKo0oo.js" as="script"><link rel="prefetch" href="/assets/index.html-CWn3j28e.js" as="script"><link rel="prefetch" href="/assets/index.html-B4lKKqHP.js" as="script"><link rel="prefetch" href="/assets/index.html-Bk-YN98u.js" as="script"><link rel="prefetch" href="/assets/index.html-eUgghe4_.js" as="script"><link rel="prefetch" href="/assets/index.html-ZZEMWoBv.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-SzV8tJDW.js" as="script"><link rel="prefetch" href="/assets/style-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/assets/docsearch-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/assets/index-Ds2TtRM5.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="/logo.png" alt><!----><span class="vp-site-name hide-in-pad">Zz</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link active" href="/studynotes/" aria-label="ä»£ç ç¬”è®°"><span class="font-icon icon fa-fw fa-sm fas fa-code" style=""></span>ä»£ç ç¬”è®°<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/demo/" aria-label="æµ®ç”Ÿæ‚è®°"><span class="font-icon icon fa-fw fa-sm fas fa-fish-fins" style=""></span>æµ®ç”Ÿæ‚è®°<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="èµ„æºå®åº“"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span>èµ„æºå®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/resources/books/" aria-label="ä¹¦ç±èµ„æº"><span class="font-icon icon fa-fw fa-sm fas fa-book-open" style=""></span>ä¹¦ç±èµ„æº<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/resources/videos/" aria-label="å½±éŸ³èµ„æº"><span class="font-icon icon fa-fw fa-sm fas fa-play" style=""></span>å½±éŸ³èµ„æº<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="ç½‘ç«™ç›¸å…³"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-id-card" style=""></span>ç½‘ç«™ç›¸å…³</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/about-the-author/" aria-label="å…³äºä½œè€…"><span class="font-icon icon fa-fw fa-sm fas fa-user" style=""></span>å…³äºä½œè€…<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/timeline/" aria-label="æ›´æ–°å†å²"><span class="font-icon icon fa-fw fa-sm fas fa-history" style=""></span>æ›´æ–°å†å²<!----></a></li></ul></button></div></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/zzq8/zzq8" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="æœç´¢æ–‡æ¡£"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢æ–‡æ¡£</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">408 Network</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Distributed Lock</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Guli Mall</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Java Framework</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/studynotes/JavaFramework/MyBatis.html" aria-label="MyBatis"><!---->MyBatis<!----></a></li><li><a class="route-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/studynotes/JavaFramework/SpringBoot.html" aria-label="SpringBoot2"><!---->SpringBoot2<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/studynotes/JavaFramework/SpringCloud.html" aria-label="SpringCloud"><!---->SpringCloud<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/studynotes/JavaFramework/SpringIntegration.html" aria-label="SpringIntegration"><!---->SpringIntegration<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/studynotes/JavaFramework/SpringSecurity.html" aria-label="SpringSecurity"><!---->SpringSecurity<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Java SE</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">JUC</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">JVM</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Linux</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">MQ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">No SQL</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Ruo Yi</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">SQL</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/studynotes/TODO.html" aria-label="TODO"><!---->TODO<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Upupor</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">ZOther</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->SpringBoot2</h1><div class="page-info"><!----><!----><!----><!----><span class="page-word-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 14781 å­—</span><meta property="wordCount" content="14781"></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 49 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT49M"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!--[--><!----><!--]--><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#åŸºç¡€å…¥é—¨">------åŸºç¡€å…¥é—¨------</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ä¸€ã€springä¸springboot">ä¸€ã€Springä¸SpringBoot</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-springèƒ½åšä»€ä¹ˆ">1.Springèƒ½åšä»€ä¹ˆ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-ä¸ºä»€ä¹ˆç”¨springboot">2.ä¸ºä»€ä¹ˆç”¨SpringBoot</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#äºŒã€è‡ªåŠ¨é…ç½®">äºŒã€è‡ªåŠ¨é…ç½®</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-ä¾èµ–ç®¡ç†">1.ä¾èµ–ç®¡ç†</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-è‡ªåŠ¨é…ç½®-é‡è¦">2.è‡ªåŠ¨é…ç½®ï¼ˆé‡è¦ï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-è‡ªåŠ¨é…ç½®-å®è·µ">3.è‡ªåŠ¨é…ç½®-å®è·µ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#iã€spring-å­¦ä¹ ">â… ã€Spring å­¦ä¹ </a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-springæä¾›çš„iocå®¹å™¨å®ç°çš„ä¸¤ç§æ–¹å¼-ä¸¤ä¸ªæ¥å£">1.Springæä¾›çš„IOCå®¹å™¨å®ç°çš„ä¸¤ç§æ–¹å¼ï¼ˆä¸¤ä¸ªæ¥å£ï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-iocæ“ä½œbeanç®¡ç†">2.IOCæ“ä½œBeanç®¡ç†</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-beanç”Ÿå‘½å‘¨æœŸ">3.Beanç”Ÿå‘½å‘¨æœŸ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-aop">4.AOP</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-spring-äº‹åŠ¡">5.Spring äº‹åŠ¡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-è®¾è®¡æ¨¡å¼">6.è®¾è®¡æ¨¡å¼</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-å“ªäº›æ¨¡å—ç»„æˆ">7.å“ªäº›æ¨¡å—ç»„æˆ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#åˆ†å‰²çº¿">------åˆ†å‰²çº¿------</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_1-å¸¸ç”¨æ³¨è§£">1ï¼‰å¸¸ç”¨æ³¨è§£</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_2-æŠ€æœ¯ç‚¹">2ï¼‰æŠ€æœ¯ç‚¹</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-ä¸€äº›å°ç‚¹">1ï¼‰ä¸€äº›å°ç‚¹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-test-æµ‹è¯•ç±»">3ï¼‰Test æµ‹è¯•ç±»ï¼š</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-æœ‰å‚æ•°çš„-bean-configurationæ³¨è§£">4ï¼‰æœ‰å‚æ•°çš„@Beanï¼Œ@Configurationæ³¨è§£</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-æ•°æ®æ ¡éªŒ">5ï¼‰æ•°æ®æ ¡éªŒ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-æ‹¦æˆªå™¨">6ï¼‰æ‹¦æˆªå™¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-controlleræ–¹æ³•å¸¸ç”¨å‚æ•°">7ï¼‰Controlleræ–¹æ³•å¸¸ç”¨å‚æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_8-å®ç°applicationcontextawareæ¥å£çš„ä½œç”¨">8) å®ç°ApplicationContextAwareæ¥å£çš„ä½œç”¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-spring-é™æ€èµ„æºå¯ç”¨ç‰ˆæœ¬æ§åˆ¶">9ï¼‰Spring-é™æ€èµ„æºå¯ç”¨ç‰ˆæœ¬æ§åˆ¶</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_10-springboot-é…ç½®åŠ è½½ä¼˜å…ˆçº§è¯¦è§£">10. SpringBoot é…ç½®åŠ è½½ä¼˜å…ˆçº§è¯¦è§£</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_3-spring-å¾ªç¯ä¾èµ–">3ï¼‰Spring å¾ªç¯ä¾èµ–</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4-äº‹ä»¶é©±åŠ¨-eventlistener">4)äº‹ä»¶é©±åŠ¨-@EventListener</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_5-springmvcçš„æ‰§è¡Œæµç¨‹">5ï¼‰SpringMVCçš„æ‰§è¡Œæµç¨‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_6-cors-è·¨åŸŸ">6ï¼‰CORS è·¨åŸŸ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#oo-ç¢°åˆ°è¿‡çš„é—®é¢˜">OOï¼‰ç¢°åˆ°è¿‡çš„é—®é¢˜</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ç©è½¬-spring-å…¨å®¶æ¡¶">ç©è½¬ Spring å…¨å®¶æ¡¶</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#é…ç½®å¤šæ•°æ®æº">é…ç½®å¤šæ•°æ®æº</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h1 id="springboot2" tabindex="-1"><a class="header-anchor" href="#springboot2"><span>SpringBoot2</span></a></h1><blockquote><p>ä¸‰åˆ·æ€»ç®—æƒ³èµ·åšç‚¹ç¬”è®°ï¼Œè¿™ç‚¹å¾ˆé‡è¦ <a href="https://www.yuque.com/atguigu/springboot" target="_blank" rel="noopener noreferrer">è¯­é›€å®˜æ–¹ç¬”è®°<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> é‡ç‚¹çœ‹æºç è®²è§£çš„è§†é¢‘ã€Webå¼€å‘è¿™ä¸€ç« </p><p><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html" target="_blank" rel="noopener noreferrer">æ¯å¯¼å…¥ä¸€ä¸ª starter æ”¹å†™å“ªäº›é…ç½®ç›´æ¥çœ‹å®˜ç½‘ï¼ï¼ï¼æœ‰äº›ä»€ä¹ˆé…ç½®ä¸€ç›®äº†ç„¶ï¼<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>è¿˜æœ‰è‡ªåŠ¨åŒ–é…ç½®æ–‡æ¡£ï¼Œè¿™ä¸ªå€’ideaåŒshiftæ‰¾propertiesä¹Ÿè¡Œ</p><p>çœ‹åˆ°äº†P25ï¼Œç”±äºæ±‚èŒå½¢åŠ¿é€¼è¿«ã€‚ææµ…... åšé¡¹ç›®å¿«é€Ÿä¸Šæ‰‹èƒ½å¹²ï¼Œå¾€åå†å›å¤´äº†</p><p>è¡¥å……é¢è¯•å¸¸é—®ï¼šSpringBootï¼š</p><ol><li>è‡ªåŠ¨è£…è½½</li><li><code>æ€ä¹ˆå®ç°starter</code> ï¼ˆçœ‹æˆ‘SpringBootä»£ç çš„Demoï¼Œè¦çŸ¥é“æµç¨‹ï¼‰</li><li>beançš„ç”Ÿå‘½å‘¨æœŸ</li></ol></blockquote><img src="https://images.zzq8.cn/img/202302111035624.png" alt="image" style="zoom:80%;"><p>ä¸Šé¢å›¾ç‰‡çš„æ‰€æœ‰åŸºç¡€åŸç”Ÿå¼€å‘ï¼Œéƒ½æœ‰å¦ä¸€å¥—æ–¹æ¡ˆç”¨å“åº”å¼æ›¿ä»£ã€‚æ”¯æŒä¸¤ç§æ¨¡å¼å¼€å‘ <code>@ConditionalOnWebApplication(type = Type.SERVLET)</code> Spring5 é™¤ç°åœ¨ç”¨çš„åŸç”ŸServletå¤–å¤šäº†ä¸€å¥—è§£å†³æ–¹æ¡ˆï¼šå“åº”å¼å¼€å‘ï¼ï¼äºæ˜¯SpringBootå‡º2è·Ÿç€æ•´ ç¬¬ä¸€å­£å°±æ˜¯æŒæ¡æ•´ä¸ªSevletæŠ€æœ¯æ ˆ</p><p><strong>ç¬¬äºŒå­£å“åº”å¼è¿˜æ²¡å‡ºï¼Œåç­‰</strong>ï¼Œåº•å±‚ä¾èµ–reactorã€Netty-reactor <strong>å¼‚æ­¥éé˜»å¡çš„æ–¹å¼å ç”¨å°‘é‡èµ„æºå¤„ç†å¤§é‡å¹¶å‘</strong>SpringBoot 2.0 åŸºäº Spring 5 æœ€å¤§çš„å˜åŒ–å°±æ˜¯å¼•å…¥äº† Reactï¼ˆå“åº”å¼ç¼–ç¨‹ï¼‰-&gt; Web Fluxï¼ˆå¯ä»¥éå¸¸å®¹æ˜“çš„åˆ›å»ºå‡ºé«˜æ€§èƒ½ã€é«˜å¹¶å‘çš„ Web åº”ç”¨ï¼‰</p><p>ä¾‹å¦‚ï¼šGateway çš„è·¨åŸŸ Filter ç½‘å…³ï¼ŒCorsWebFilter å®ƒæ˜¯å±äº Webflux</p><h2 id="åŸºç¡€å…¥é—¨" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€å…¥é—¨"><span>------åŸºç¡€å…¥é—¨------</span></a></h2><h2 id="ä¸€ã€springä¸springboot" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€springä¸springboot"><span>ä¸€ã€Springä¸SpringBoot</span></a></h2><h3 id="_1-springèƒ½åšä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#_1-springèƒ½åšä»€ä¹ˆ"><span>1.Springèƒ½åšä»€ä¹ˆ</span></a></h3><h4 id="_1-1-springçš„èƒ½åŠ›" tabindex="-1"><a class="header-anchor" href="#_1-1-springçš„èƒ½åŠ›"><span>1.1.Springçš„èƒ½åŠ›</span></a></h4><p><a href="https://spring.io/projects/spring-boot" target="_blank" rel="noopener noreferrer">Spring ç”Ÿæ€å¾ˆåºå¤§<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼šç»†æ•°è‡ªå·±ç”¨è¿‡çš„ã€‚å¾®è§‚æ˜¯Springæ¡†æ¶ å®è§‚æ˜¯ä¸€å¥—è§£å†³æ–¹æ¡ˆç”Ÿæ€åœˆï¼</p><ul><li>Spring Boot</li><li>Spring Cloud (Spring Cloud Alibaba)</li><li>Spring Framework (Features:Integration-&gt;Caching)</li><li>Spring Data (JDBCã€JPAã€Redis <a href="https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#redis:support:cache-abstraction" target="_blank" rel="noopener noreferrer">implementation<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for Spring 3.1 cache abstraction)</li><li>Spring Session (Data Redis)</li><li>Spring AMQP (RabbitMQ)</li></ul><h4 id="_1-2-spring5é‡å¤§å‡çº§" tabindex="-1"><a class="header-anchor" href="#_1-2-spring5é‡å¤§å‡çº§"><span>1.2.Spring5é‡å¤§å‡çº§</span></a></h4><h5 id="_1-2-1-å“åº”å¼ç¼–ç¨‹" tabindex="-1"><a class="header-anchor" href="#_1-2-1-å“åº”å¼ç¼–ç¨‹"><span>1.2.1.å“åº”å¼ç¼–ç¨‹</span></a></h5><img src="https://images.zzq8.cn/img/202302111528869.png" alt="image-20230211152821781" style="zoom:67%;"><h5 id="_1-2-2-å†…éƒ¨æºç è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#_1-2-2-å†…éƒ¨æºç è®¾è®¡"><span>1.2.2.å†…éƒ¨æºç è®¾è®¡</span></a></h5><p>ç”±äºSpring5é‡å¤§å‡çº§ å†…éƒ¨æºç è®¾è®¡åŸºäºJava8çš„ä¸€äº›æ–°ç‰¹æ€§ï¼Œå¦‚ï¼šæ¥å£é»˜è®¤å®ç°ã€‚é‡æ–°è®¾è®¡æºç æ¶æ„ï¼</p><p>Spring5åŸºäºjdk8ï¼Œjdk8ç‰¹æ€§å¤šäº†æ¥å£çš„é»˜è®¤å®ç°ã€‚å¸¦æ¥çš„å˜åŒ–ï¼š <strong>é—®é¢˜åœºæ™¯</strong>ï¼šè¦æ˜¯ä»¥å‰åº•å±‚è¿˜éœ€æä¸ª<mark>é€‚é…å™¨æ¨¡å¼</mark>ï¼ˆé€‚é…å™¨å®ç°æ¥å£ï¼Œå®ç°ç±»ç»§æ‰¿é€‚é…å™¨é‡å†™ -&gt; é¿å…å¿…é¡»å®ç°ä¸€äº›ä¸éœ€è¦çš„æ–¹æ³•ï¼‰ <strong>å¤„ç†</strong>ï¼šæ¥å£éƒ½ç»Ÿä¸€ç»™ä¸€ä¸ªé»˜è®¤å®ç°ï¼Œå°±ä¸éœ€è¦é€‚é…å™¨ç±»äº†ï¼ï¼ï¼</p><h3 id="_2-ä¸ºä»€ä¹ˆç”¨springboot" tabindex="-1"><a class="header-anchor" href="#_2-ä¸ºä»€ä¹ˆç”¨springboot"><span>2.ä¸ºä»€ä¹ˆç”¨SpringBoot</span></a></h3><blockquote><p>ä¸¾ä¾‹å¦‚è¦ç»„è£…æˆä¸€å°ç”µè„‘é›†åˆä¸Šé¢çš„æŠ€æœ¯ <strong>é…ç½®åœ°ç‹±</strong>ï¼Œè€Œè¿™å°±æ˜¯SpringBootçš„å­˜åœ¨æ„ä¹‰å®ƒæ˜¯ä¸€ä¸ªé«˜å±‚æ¡†æ¶åº•å±‚æ˜¯Springä¸ºäº†æ•´åˆSpringæ•´ä¸ªæŠ€æœ¯æ ˆ ä¸“å¿ƒäºä¸šåŠ¡é€»è¾‘ï¼ˆæ¡†æ¶çš„æ¡†æ¶ï¼‰ï¼Œå…äºé‚£ä¹ˆå¤šç¹ççš„é…ç½®ã€‚ä¸ç”¨è‡ªå·±æ‰‹åŠ¨ç»„è£…ç”µè„‘äº†ï¼Œç›´æ¥ä¹°ä¸ªå“ç‰Œæœºï¼æ— éœ€æŒæ¡å„ç§ç»„è£…æŠ€æœ¯ï¼ï¼ï¼</p></blockquote><h4 id="_2-1-springbootä¼˜ç‚¹" tabindex="-1"><a class="header-anchor" href="#_2-1-springbootä¼˜ç‚¹"><span><a href="https://spring.io/projects/spring-boot" target="_blank" rel="noopener noreferrer">2.1.SpringBootä¼˜ç‚¹<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></span></a></h4><blockquote><p>ä»¥ä¸‹æ‘˜è‡ªå®˜ç½‘ï¼ŒTitle Link å¯å…¥ ~ å¯ä»¥ç»†çœ‹å¿ƒé‡Œè§£è¯»è§£è¯»</p><p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can &quot;just run&quot;. èƒ½å¿«é€Ÿåˆ›å»ºå‡ºç”Ÿäº§çº§åˆ«çš„Springåº”ç”¨</p></blockquote><ul><li><p>Create stand-alone Spring applications</p></li><li><ul><li>åˆ›å»ºç‹¬ç«‹Springåº”ç”¨</li></ul></li><li><p>Embed Tomcat, Jetty or Undertow directly <strong>(no need to deploy WAR files)</strong></p></li><li><ul><li>å†…åµŒwebæœåŠ¡å™¨</li></ul></li><li><p>Provide opinionated &#39;starter&#39; dependencies to simplify your build configuration</p></li><li><ul><li>è‡ªåŠ¨starterä¾èµ–ï¼Œç®€åŒ–æ„å»ºé…ç½®**ï¼ˆé˜²æ­¢å„jaråŒ…å†²çªï¼‰**</li></ul></li><li><p>Automatically configure Spring and 3rd party libraries whenever possible</p></li><li><ul><li>è‡ªåŠ¨é…ç½®Springä»¥åŠç¬¬ä¸‰æ–¹åŠŸèƒ½**ï¼ˆæ¿€åŠ¨äººå¿ƒçš„ç‰¹æ€§ï¼Œå¯¹äºå›ºå®šåŒ–é…ç½®å…¨ç»™ä½ é…å¥½ ä¾‹å¦‚mysql redisåªè¦å‘Šè¯‰åœ°å€ä¹‹ç±»çš„è€Œä¸éœ€è¦å†å‘Šè¯‰å®ƒä»€ä¹ˆä¸œè¥¿æ€ä¹ˆåšä¾‹å¦‚é…ç½®æ•°æ®æºã€‚ï¼‰**</li></ul></li><li><p>Provide production-ready features such as metrics, health checks, and externalized configuration</p></li><li><ul><li>æä¾›ç”Ÿäº§çº§åˆ«çš„ç›‘æ§ã€å¥åº·æ£€æŸ¥åŠå¤–éƒ¨åŒ–é…ç½®**ï¼ˆé’ˆå¯¹è¿ç»´æ¥è¯´å·´é€‚ï¼Œä¾‹å¦‚å†™ä¸ªé…ç½®æ–‡ä»¶æ— éœ€å›å¤´æ”¹ä»£ç å†å‘å¸ƒï¼‰**</li></ul></li><li><p>Absolutely no code generation and no requirement for XML configuration</p></li><li><ul><li>æ— ä»£ç ç”Ÿæˆã€æ— éœ€ç¼–å†™XML**ï¼ˆè‡ªåŠ¨é…ç½®ï¼‰**</li></ul></li></ul><p>SpringBootæ˜¯æ•´åˆSpringæŠ€æœ¯æ ˆçš„ä¸€ç«™å¼æ¡†æ¶</p><p>SpringBootæ˜¯ç®€åŒ–SpringæŠ€æœ¯æ ˆçš„å¿«é€Ÿå¼€å‘è„šæ‰‹æ¶</p><h4 id="_2-2-æ—¶ä»£èƒŒæ™¯" tabindex="-1"><a class="header-anchor" href="#_2-2-æ—¶ä»£èƒŒæ™¯"><span>2.2.æ—¶ä»£èƒŒæ™¯</span></a></h4><p>é™Œç”Ÿçš„ä¸¤ä¸ªä¸œè¥¿ï¼š<a href="https://www.bilibili.com/video/BV19K4y1L7MT?p=3&amp;vd_source=0f3bf62c50d57c4a7d85b89b4d2633e0" target="_blank" rel="noopener noreferrer">å¬è§†é¢‘è€å¸ˆè®²è®²<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ul><li>Spring Cloud Data Flowï¼ˆé‚£å¼ ç»å…¸å›¾ä¸‰æ¿æ–§ä¸­çš„ï¼Œè¿æ¥ä¸€åˆ‡ï¼‰</li><li>äº‘åŸç”Ÿï¼ˆåŒè¿ç»´æœ‰å¾ˆå¤§å…³ç³»ï¼ï¼‰ Serverlessï¼ˆåŒºåˆ«ç›´æ¥ä¹°ä¸€å°å‡ æ ¸å‡ Gçš„æœåŠ¡é€ æˆæµªè´¹ï¼Œè¿™ä¸ªå¯ä»¥åšåˆ°ç”¨å¤šå°‘å å¤šå°‘ã€‚è™½ç„¶ç°åœ¨ä¸ç†è§£ä½†æ˜¯å…ˆç ä¸Šï¼‰</li></ul><h2 id="äºŒã€è‡ªåŠ¨é…ç½®" tabindex="-1"><a class="header-anchor" href="#äºŒã€è‡ªåŠ¨é…ç½®"><span>äºŒã€è‡ªåŠ¨é…ç½®</span></a></h2><blockquote><p>ä¸¤å¤§ä¼˜ç§€ç‰¹æ€§ï¼šä¾èµ–ç®¡ç†ã€è‡ªåŠ¨é…ç½®</p></blockquote><h3 id="_1-ä¾èµ–ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_1-ä¾èµ–ç®¡ç†"><span>1.ä¾èµ–ç®¡ç†</span></a></h3><h4 id="_1-1-ç‰ˆæœ¬ä»²è£" tabindex="-1"><a class="header-anchor" href="#_1-1-ç‰ˆæœ¬ä»²è£"><span>1.1.ç‰ˆæœ¬ä»²è£</span></a></h4><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>1ï¼‰ä¾èµ–ç®¡ç†    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.3.4.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>

2ï¼‰ä»–çš„çˆ¶é¡¹ç›®ï¼šå‡ ä¹å£°æ˜äº†æ‰€æœ‰å¼€å‘ä¸­å¸¸ç”¨çš„ä¾èµ–çš„ç‰ˆæœ¬å·,è‡ªåŠ¨ç‰ˆæœ¬ä»²è£æœºåˆ¶
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.3.4.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>

-------------------------------------------------------
1ã€å¼•å…¥ä¾èµ–é»˜è®¤éƒ½å¯ä»¥ä¸å†™ç‰ˆæœ¬
2ã€å¼•å…¥éç‰ˆæœ¬ä»²è£çš„jarï¼Œè¦å†™ç‰ˆæœ¬å·ã€‚
-------------------------------------------------------

3ï¼‰èˆå¼ƒçˆ¶ä¾èµ–çš„ç‰ˆæœ¬æ§åˆ¶ï¼Œè‡ªå®šä¹‰ç‰ˆæœ¬
æŸ¥çœ‹spring-boot-dependenciesé‡Œé¢è§„å®šå½“å‰ä¾èµ–çš„ç‰ˆæœ¬ ç”¨çš„ keyã€‚
åœ¨å½“å‰é¡¹ç›®é‡Œé¢é‡å†™é…ç½®
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mysql.version</span><span class="token punctuation">&gt;</span></span>5.1.43<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mysql.version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-starteråœºæ™¯å¯åŠ¨å™¨" tabindex="-1"><a class="header-anchor" href="#_1-2-starteråœºæ™¯å¯åŠ¨å™¨"><span>1.2.starteråœºæ™¯å¯åŠ¨å™¨</span></a></h4><blockquote><p>é‡ç‚¹ç¬¬äº”ç‚¹ï¼Œè¿™ä¸ªstarteråˆä¼šå¸¦å‡º <code>spring-boot-autoconfigure</code> å…·ä½“çœ‹è‡ªåŠ¨é…ç½®</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>1ã€è§åˆ°å¾ˆå¤š spring-boot-starter-* ï¼š *å°±æŸç§åœºæ™¯   All official starters follow a similar naming pattern; 
2ã€åªè¦å¼•å…¥starterï¼Œè¿™ä¸ªåœºæ™¯çš„æ‰€æœ‰å¸¸è§„éœ€è¦çš„ä¾èµ–æˆ‘ä»¬éƒ½è‡ªåŠ¨å¼•å…¥
3ã€SpringBootæ‰€æœ‰æ”¯æŒçš„åœºæ™¯
https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-starter
4ã€è§åˆ°çš„  *-spring-boot-starterï¼š ç¬¬ä¸‰æ–¹ä¸ºæˆ‘ä»¬æä¾›çš„ç®€åŒ–å¼€å‘çš„åœºæ™¯å¯åŠ¨å™¨ã€‚
5ã€æ‰€æœ‰åœºæ™¯å¯åŠ¨å™¨æœ€åº•å±‚çš„ä¾èµ–   æ¯ä¸ª official starts ä¸‹çš„ç¬¬ä¸€ä¸ª dependency å°±æ˜¯ä¸‹é¢è¿™ä¸ª â†“
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.3.4.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-è‡ªåŠ¨é…ç½®-é‡è¦" tabindex="-1"><a class="header-anchor" href="#_2-è‡ªåŠ¨é…ç½®-é‡è¦"><span><mark>2.è‡ªåŠ¨é…ç½®ï¼ˆé‡è¦ï¼‰</mark></span></a></h3><blockquote><p>springboot METAINFO-spring.factoies æ˜¯ SPI æœºåˆ¶ï¼ï¼ï¼ å†™è¿™é‡Œé¢çš„ç±»ä¼šæš´éœ²ç»™ EnableAutoConfigurationæ³¨è§£</p></blockquote><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
ç­‰åŒäº
<span class="token annotation punctuation">@SpringBootConfiguration</span>              #é…ç½®ç±»
<span class="token annotation punctuation">@EnableAutoConfiguration</span>              #æŒ‰éœ€è‡ªåŠ¨é…ç½®          <span class="token operator">*</span><span class="token operator">*</span>æ ¸å¿ƒ<span class="token operator">*</span><span class="token operator">*</span>
    	<span class="token number">1</span>ï¼‰<span class="token annotation punctuation">@AutoConfigurationPackage</span>
    		  <span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token class-name">AutoConfigurationPackages<span class="token punctuation">.</span>Registrar</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token comment">//æ‰«æçš„æ˜¯é…ç½®ç±»ï¼ŒåŒºåˆ†@ComponentScan</span>
        <span class="token number">2</span>ï¼‰<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token class-name">AutoConfigurationImportSelector</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token comment">//META-INF/spring.factories  </span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;com.atguigu.boot&quot;</span><span class="token punctuation">)</span>    #æ‰«æä¸»å¯åŠ¨ç±»ä¸‹æ‰€æœ‰ç»„ä»¶
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-1-æ•ˆæœä½“ç°" tabindex="-1"><a class="header-anchor" href="#_2-1-æ•ˆæœä½“ç°"><span>2.1.æ•ˆæœä½“ç°</span></a></h4><h5 id="_2-1-1-what-æ•ˆæœ" tabindex="-1"><a class="header-anchor" href="#_2-1-1-what-æ•ˆæœ"><span>2.1.1.Whatï¼ˆæ•ˆæœï¼‰</span></a></h5><p>è‡ªåŠ¨é…ç½®å¥½äº†ä¸€åˆ‡ï¼ŒåŒ…æ‹¬SpringMVCå¸¸ç”¨ç»„ä»¶ï¼ˆåŠŸèƒ½ï¼‰<br> æœä¸€ä¸‹ä»¥å‰çš„å¸–å­ï¼ŒSpringæ•´åˆSpringMVCçš„å¸–å­å‘ç°xmlä¼šé…ä¸€å¤§å †ä¸œè¥¿ï¼ï¼ï¼è¿™äº›ç»„ä»¶springBootå¯åŠ¨çš„æ—¶å€™ä¼šæŠŠç»„ä»¶éƒ½è£…é…åˆ°å®¹å™¨ä¸­ï¼Œä¸ç”¨é…ã€‚</p><ul><li>å‰ç«¯æ§åˆ¶å™¨DispatcherServletï¼šæ‹¦æˆªæ‰€æœ‰çš„å‰ç«¯çš„è¯·æ±‚ï¼›</li><li>å­—ç¬¦ç¼–ç characterEncodingFilterï¼šè§£å†³è¿”å›ä¸­æ–‡å­—ç¬¦ä¸²ä¹±ç é—®é¢˜ï¼›</li><li>è§†å›¾è§£æå™¨viewResolverï¼šå¯¹è¿”å›çš„è§†å›¾è¿›è¡Œæ¸²æŸ“å‘ˆç°ï¼›</li><li>æ–‡ä»¶ä¸Šä¼ è§£æå™¨multipatResolverï¼šæ–‡ä»¶ä¸Šä¼ ï¼›</li></ul><p>ä»£ç éªŒè¯ï¼šæ‰“å°æ‰€æœ‰å¯åŠ¨æ—¶å€™è£…è½½çš„ Beans</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">//è¿”å›ä¸€ä¸ªIOCå®¹å™¨</span>
<span class="token class-name">ConfigurableApplicationContext</span> run <span class="token operator">=</span> <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">MainApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> names <span class="token operator">=</span> run<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-1-2-why-æ€ä¹ˆåšåˆ°çš„" tabindex="-1"><a class="header-anchor" href="#_2-1-2-why-æ€ä¹ˆåšåˆ°çš„"><span><mark>2.1.2.Whyï¼ˆæ€ä¹ˆåšåˆ°çš„ï¼‰</mark></span></a></h5><blockquote><p>è¿™ä¸ªjaré‡Œæœ‰å‡ ä¹SpringBootæ‰€éœ€è¦å…¨åœºæ™¯ï¼Œæœ‰å¾ˆå¤šçˆ†çº¢çš„ç±»å…¶å®å¯¼å…¥ç›¸åº”çš„dependencyå°±ä¸ä¼šçˆ†çº¢äº†</p><p><code>spring-boot-starter-web</code> -&gt; <code>spring-boot-starter</code> -&gt; <code>spring-boot-autoconfigure</code></p></blockquote><p>For exampleï¼šä»¥MySQL é…ç½®æ•°æ®æºä¸ºä¾‹ï¼šDataSourceProperties</p><h4 id="_2-2-autoconfigurationpackageğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#_2-2-autoconfigurationpackageğŸŒŸ"><span>2.2.@AutoConfigurationPackageğŸŒŸ</span></a></h4><p>ChatGPTï¼šè½¬å¿µä¸€æƒ³ï¼Œè¿™ä¸¤ä¸ªæ³¨è§£éƒ½å¦‚å­—é¢æ„æ€ è¿™æ ·å°±å¾ˆå¥½åŒºåˆ†å¼‚åŒ</p><blockquote><p>springboot @ComponentScanå’Œ@AutoConfigurationPackageçš„åŒºåˆ«</p><p><code>@ComponentScan</code> å’Œ <code>@AutoConfigurationPackage</code> éƒ½æ˜¯ Spring Boot ä¸­ç”¨æ¥æ‰«æç»„ä»¶å’Œè‡ªåŠ¨é…ç½®çš„æ³¨è§£ï¼Œå®ƒä»¬çš„åŒºåˆ«åœ¨äºï¼š</p><ol><li><code>@ComponentScan</code>ï¼šè¿™ä¸ªæ³¨è§£æ˜¯ç”¨æ¥æŒ‡å®š Spring æ‰«æç»„ä»¶çš„ä½ç½®ï¼Œä¼šæ‰«ææŒ‡å®šçš„åŒ…åŠå…¶å­åŒ…ä¸­çš„æ‰€æœ‰ç±»ï¼Œæ‰¾åˆ°æ ‡è®°ä¸º <code>@Component</code>ã€<code>@Service</code>ã€<code>@Repository</code> ç­‰æ³¨è§£çš„ç±»ï¼Œå¹¶å°†å…¶æ³¨å†Œä¸º Spring çš„ Beanã€‚</li><li><code>@AutoConfigurationPackage</code>ï¼šè¿™ä¸ªæ³¨è§£æ˜¯ç”¨æ¥æŒ‡å®šè‡ªåŠ¨é…ç½®æ‰€åœ¨çš„åŒ…ï¼Œå®ƒä¼šæ‰«ææŒ‡å®šçš„åŒ…åŠå…¶å­åŒ…ä¸­çš„æ‰€æœ‰ç±»ï¼Œæ‰¾åˆ°æ ‡è®°ä¸º <code>@Configuration</code> çš„ç±»ï¼Œå¹¶å°†å…¶æ³¨å†Œä¸º Spring çš„ Beanã€‚</li></ol><p>ç®€è€Œè¨€ä¹‹ï¼Œ<code>@ComponentScan</code> å’Œ <code>@AutoConfigurationPackage</code> éƒ½æ˜¯ç”¨æ¥æ‰«æç»„ä»¶çš„æ³¨è§£ï¼ŒåŒºåˆ«åœ¨äº <code>@ComponentScan</code> æ‰«æçš„æ˜¯æ ‡è®°äº†ç‰¹å®šæ³¨è§£çš„ç»„ä»¶ç±»ï¼Œè€Œ <code>@AutoConfigurationPackage</code> æ‰«æçš„æ˜¯é…ç½®ç±»ã€‚åœ¨ Spring Boot åº”ç”¨ä¸­ï¼Œé€šå¸¸ä¼šåœ¨å¯åŠ¨ç±»ä¸Šä½¿ç”¨ <code>@SpringBootApplication</code> æ³¨è§£ï¼Œè¯¥æ³¨è§£ä¸­å·²ç»åŒ…å«äº† <code>@ComponentScan</code> å’Œ <code>@AutoConfigurationPackage</code>ï¼Œå› æ­¤ä¸€èˆ¬ä¸éœ€è¦å•ç‹¬ä½¿ç”¨è¿™ä¸¤ä¸ªæ³¨è§£ã€‚</p></blockquote><h4 id="_2-3-import-autoconfigurationimportselector-class-ğŸŒŸ" tabindex="-1"><a class="header-anchor" href="#_2-3-import-autoconfigurationimportselector-class-ğŸŒŸ"><span>2.3.@Import(AutoConfigurationImportSelector.class)ğŸŒŸ</span></a></h4><p>1ã€åˆ©ç”¨getAutoConfigurationEntry(annotationMetadata);ç»™å®¹å™¨ä¸­æ‰¹é‡å¯¼å…¥ä¸€äº›ç»„ä»¶ 2ã€è°ƒç”¨List&lt;String&gt; configurations = getCandidateConfigurations(annotationMetadata, attributes)è·å–åˆ°æ‰€æœ‰éœ€è¦å¯¼å…¥åˆ°å®¹å™¨ä¸­çš„é…ç½®ç±» 3ã€åˆ©ç”¨å·¥å‚åŠ è½½ Map&lt;String, List&lt;String&gt;&gt; loadSpringFactories(@Nullable ClassLoader classLoader)ï¼›å¾—åˆ°æ‰€æœ‰çš„ç»„ä»¶ 4ã€ä»META-INF/spring.factoriesä½ç½®æ¥åŠ è½½ä¸€ä¸ªæ–‡ä»¶ã€‚ <strong>é»˜è®¤æ‰«ææˆ‘ä»¬å½“å‰ç³»ç»Ÿé‡Œé¢æ‰€æœ‰META-INF/spring.factoriesä½ç½®çš„æ–‡ä»¶</strong> spring-boot-autoconfigure-2.3.4.RELEASE.jaråŒ…é‡Œé¢ä¹Ÿæœ‰ <code>META-INF/spring.factories</code></p><p>ä½œç”¨ï¼šæ–‡ä»¶é‡Œé¢å†™æ­»äº†spring-bootä¸€å¯åŠ¨å°±è¦ç»™å®¹å™¨ä¸­åŠ è½½çš„æ‰€æœ‰é…ç½®ç±»ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰éƒ½ç”Ÿæ•ˆ@Condition ä¾‹å¦‚AOPã€Batchå°±éœ€å¯¼å…¥ç›¸å…³åŒ…æ‰ç”Ÿæ•ˆ</p><p>å­¦ä¹ ï¼šå¯ä»¥æ‰¾æ‰¾å„ä¸ªç¬¬ä¸‰æ–¹jaråŒ…é‡Œé¢çš„ xxxxxAutoConfiguration åˆ†ææ˜¯å¦ç”Ÿæ•ˆè£…é…è¿›æ¥äº†</p><p>æ€»ç»“ï¼š</p><ol><li><p>ç”¨æˆ·é…çš„ä¼˜å…ˆ @ConditionalOnMissingBean</p></li><li><p>å¦‚æœç”¨æˆ·é…çš„beanåå­—ä¸ç¬¦åˆè§„èŒƒï¼Œå°±ç»™ä½ çº æ­£è¿‡æ¥ï¼Œå¦‚ä¸‹ç»™å®¹å™¨ä¸­åŠ å…¥äº†æ–‡ä»¶ä¸Šä¼ è§£æå™¨ï¼š</p></li></ol><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Bean</span>
	<span class="token annotation punctuation">@ConditionalOnBean</span><span class="token punctuation">(</span><span class="token class-name">MultipartResolver</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>  <span class="token comment">//å®¹å™¨ä¸­æœ‰è¿™ä¸ªç±»å‹ç»„ä»¶</span>
	<span class="token annotation punctuation">@ConditionalOnMissingBean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token class-name">DispatcherServlet</span><span class="token punctuation">.</span><span class="token constant">MULTIPART_RESOLVER_BEAN_NAME</span><span class="token punctuation">)</span> <span class="token comment">//å®¹å™¨ä¸­æ²¡æœ‰è¿™ä¸ªåå­— multipartResolver çš„ç»„ä»¶</span>
	<span class="token keyword">public</span> <span class="token class-name">MultipartResolver</span> <span class="token function">multipartResolver</span><span class="token punctuation">(</span><span class="token class-name">MultipartResolver</span> resolver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//ç»™@Beanæ ‡æ³¨çš„æ–¹æ³•ä¼ å…¥äº†å¯¹è±¡å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°çš„å€¼å°±ä¼šä»å®¹å™¨ä¸­æ‰¾ã€‚</span>
        <span class="token comment">//SpringMVC multipartResolverã€‚é˜²æ­¢æœ‰äº›ç”¨æˆ·é…ç½®çš„æ–‡ä»¶ä¸Šä¼ è§£æå™¨ä¸ç¬¦åˆè§„èŒƒ</span>
		<span class="token comment">// Detect if the user has created a MultipartResolver but named it incorrectly</span>
		<span class="token keyword">return</span> resolver<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>ä¸€èˆ¬è¿™äº›è‡ªåŠ¨é…ç½®ç±»éƒ½ç»‘äº†xxxxPropertiesé‡Œé¢æ‹¿ã€‚xxxPropertieså’Œé…ç½®æ–‡ä»¶è¿›è¡Œäº†ç»‘å®š</li></ol><p>åˆ¤æ–­åœºæ™¯è‡ªåŠ¨é…ç½®é‚£äº›ç”Ÿæ•ˆé‚£äº›æ²¡ç”Ÿæ•ˆï¼š</p><ul><li><ul><li><p>è‡ªå·±åˆ†æï¼Œå¼•å…¥åœºæ™¯å¯¹åº”çš„è‡ªåŠ¨é…ç½®ä¸€èˆ¬éƒ½ç”Ÿæ•ˆäº†</p></li><li><p>é…ç½®æ–‡ä»¶ä¸­debug=trueå¼€å¯è‡ªåŠ¨é…ç½®æŠ¥å‘Šã€‚Negativeï¼ˆä¸ç”Ÿæ•ˆï¼‰\Positiveï¼ˆç”Ÿæ•ˆï¼‰ã€æ–¹ä¾¿åˆ†ææºç ã€‘</p></li><li><ul><li>è‡ªå®šä¹‰å™¨ <strong>XXXXXCustomizer</strong>ï¼›ã€ä¸ç†Ÿã€‘</li></ul></li></ul></li></ul><h3 id="_3-è‡ªåŠ¨é…ç½®-å®è·µ" tabindex="-1"><a class="header-anchor" href="#_3-è‡ªåŠ¨é…ç½®-å®è·µ"><span>3.è‡ªåŠ¨é…ç½®-å®è·µ</span></a></h3><blockquote><p>æƒ³ä¸èµ·é…ç½®æ–‡ä»¶æ€ä¹ˆé… SQL äºæ˜¯æœ‰äº†ä¸‹æ–‡</p></blockquote><h4 id="ä»¥mysql-é…ç½®æ•°æ®æºä¸ºä¾‹-datasourceproperties" tabindex="-1"><a class="header-anchor" href="#ä»¥mysql-é…ç½®æ•°æ®æºä¸ºä¾‹-datasourceproperties"><span>ä»¥MySQL é…ç½®æ•°æ®æºä¸ºä¾‹ï¼šDataSourceProperties</span></a></h4><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>DataSourceAutoConfiguration -&gt; ç»„ä»¶ -&gt; DataSourceProperties -&gt; application.properties
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ€»ç»“ï¼š</p><ul><li><p>SpringBootå…ˆåŠ è½½æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ç±» xxxxxAutoConfiguration</p></li><li><p>æ¯ä¸ªè‡ªåŠ¨é…ç½®ç±»æŒ‰ç…§æ¡ä»¶è¿›è¡Œç”Ÿæ•ˆï¼Œé»˜è®¤éƒ½ä¼šç»‘å®šé…ç½®æ–‡ä»¶æŒ‡å®šçš„å€¼ã€‚xxxxPropertiesé‡Œé¢æ‹¿ã€‚xxxPropertieså’Œé…ç½®æ–‡ä»¶è¿›è¡Œäº†ç»‘å®š</p></li><li><p>ç”Ÿæ•ˆçš„é…ç½®ç±»å°±ä¼šç»™å®¹å™¨ä¸­è£…é…å¾ˆå¤šç»„ä»¶</p></li><li><p>åªè¦å®¹å™¨ä¸­æœ‰è¿™äº›ç»„ä»¶ï¼Œç›¸å½“äºè¿™äº›åŠŸèƒ½å°±æœ‰äº†</p></li><li><p>å®šåˆ¶åŒ–é…ç½®</p></li><li><ul><li>ç”¨æˆ·ç›´æ¥è‡ªå·±@Beanæ›¿æ¢åº•å±‚çš„ç»„ä»¶</li><li>ç”¨æˆ·å»çœ‹è¿™ä¸ªç»„ä»¶æ˜¯è·å–çš„é…ç½®æ–‡ä»¶ä»€ä¹ˆå€¼å°±å»ä¿®æ”¹ã€‚</li></ul></li></ul><p><strong>xxxxxAutoConfiguration ---&gt; ç»„ä»¶ ---&gt;</strong> <strong>xxxxPropertiesé‡Œé¢æ‹¿å€¼ ----&gt; application.properties</strong></p><figure><img src="https://images.zzq8.cn/img/202209011803186.png" alt="image-20220901180324251" tabindex="0" loading="lazy"><figcaption>image-20220901180324251</figcaption></figure><figure><img src="https://images.zzq8.cn/img/202209012132180.png" alt="image-20220901213237083" tabindex="0" loading="lazy"><figcaption>image-20220901213237083</figcaption></figure><figure><img src="https://images.zzq8.cn/img/202302171158502.png" alt="image-20230217115759420" tabindex="0" loading="lazy"><figcaption>image-20230217115759420</figcaption></figure><figure><img src="https://images.zzq8.cn/img/202209012205178.png" alt="image-20220901220507136" tabindex="0" loading="lazy"><figcaption>image-20220901220507136</figcaption></figure><h2 id="iã€spring-å­¦ä¹ " tabindex="-1"><a class="header-anchor" href="#iã€spring-å­¦ä¹ "><span>â… ã€Spring å­¦ä¹ </span></a></h2><h3 id="_1-springæä¾›çš„iocå®¹å™¨å®ç°çš„ä¸¤ç§æ–¹å¼-ä¸¤ä¸ªæ¥å£" tabindex="-1"><a class="header-anchor" href="#_1-springæä¾›çš„iocå®¹å™¨å®ç°çš„ä¸¤ç§æ–¹å¼-ä¸¤ä¸ªæ¥å£"><span>1.Springæä¾›çš„IOCå®¹å™¨å®ç°çš„ä¸¤ç§æ–¹å¼ï¼ˆä¸¤ä¸ªæ¥å£ï¼‰</span></a></h3><blockquote><p><code>ApplicationContext context = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);</code></p></blockquote><p>aï¼‰BeanFactoryæ¥å£ï¼šIOCå®¹å™¨åŸºæœ¬å®ç°æ˜¯Springå†…éƒ¨æ¥å£çš„ä½¿ç”¨æ¥å£ï¼Œä¸æä¾›ç»™å¼€å‘äººå‘˜è¿›è¡Œä½¿ç”¨ï¼ˆåŠ è½½é…ç½®æ–‡ä»¶æ—¶å€™ä¸ä¼šåˆ›å»ºå¯¹è±¡ï¼Œåœ¨è·å–å¯¹è±¡æ—¶æ‰ä¼šåˆ›å»ºå¯¹è±¡ã€‚ï¼‰</p><p>bï¼‰ApplicationContextæ¥å£ï¼šBeanFactoryæ¥å£çš„å­æ¥å£ï¼Œæä¾›æ›´å¤šæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œæä¾›ç»™å¼€å‘äººå‘˜ä½¿ç”¨ï¼ˆåŠ è½½é…ç½®æ–‡ä»¶æ—¶å€™å°±ä¼šæŠŠåœ¨é…ç½®æ–‡ä»¶å¯¹è±¡è¿›è¡Œåˆ›å»ºï¼‰æ¨èä½¿ç”¨ï¼</p><p>psï¼šå®¹å™¨çš„è¯ä¸»è¦æœ‰ä¸¤ä¸ªï¼ŒBeanFactoryå’ŒApplicationContextï¼Œä»–ä»¬ç®€å•åŒºåˆ«å°±æ˜¯ï¼šBeanFactoryæ˜¯ä½çº§å®¹å™¨ï¼Œå»¶è¿ŸåŠ è½½beanï¼Œç¼–ç¨‹æ—¶æ–¹å¼åˆ›å»ºï¼›ApplicationContextæ˜¯ BeanFactory çš„å­æ¥å£ï¼Œæ˜¯é«˜çº§å®¹å™¨ï¼Œä¸€æ¬¡æ€§åŠ è½½beanï¼Œä»¥å£°æ˜å¼æ–¹å¼åˆ›å»º</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">//upupor          TrueSend trueSend = SpringContextUtils.getBean(TrueSend.class);</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringContextUtils</span> <span class="token keyword">implements</span> <span class="token class-name">ApplicationContextAware</span> <span class="token punctuation">{</span>
    <span class="token comment">//UNKNOWN è¿™é‡Œä¸ç”¨æ³¨å…¥å—     XD å› ä¸ºå®ç°äº† ApplicationContextAware æ­¤æ¥å£é‡å†™æ–¹æ³•æ‹¿åˆ°äº†</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringContextUtils</span><span class="token punctuation">.</span>applicationContext <span class="token operator">=</span> applicationContext<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-iocæ“ä½œbeanç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_2-iocæ“ä½œbeanç®¡ç†"><span>2.IOCæ“ä½œBeanç®¡ç†</span></a></h3><p>aï¼‰Beanç®¡ç†å°±æ˜¯ä¸¤ä¸ªæ“ä½œï¼šï¼ˆ1ï¼‰Springåˆ›å»ºå¯¹è±¡ï¼›ï¼ˆ2ï¼‰Springæ³¨å…¥å±æ€§</p><p>åŸºäºï¼ˆ2ï¼‰ç°åœ¨ç†è§£äº†ï¼š</p><p>aï¼‰setæ–¹å¼æ³¨å…¥</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">//ï¼ˆ1ï¼‰ä¼ ç»Ÿæ–¹å¼ï¼š åˆ›å»ºç±»ï¼Œå®šä¹‰å±æ€§å’Œå¯¹åº”çš„setæ–¹æ³•</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
        <span class="token comment">//åˆ›å»ºå±æ€§</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> bname<span class="token punctuation">;</span>

        <span class="token comment">//åˆ›å»ºå±æ€§å¯¹åº”çš„setæ–¹æ³•</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBname</span><span class="token punctuation">(</span><span class="token class-name">String</span> bname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>bname <span class="token operator">=</span> bname<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--ï¼ˆ2ï¼‰springæ–¹å¼ï¼š setæ–¹æ³•æ³¨å…¥å±æ€§--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>book<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.spring5.Book<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--ä½¿ç”¨propertyå®Œæˆå±æ€§æ³¨å…¥
        nameï¼šç±»é‡Œé¢å±æ€§åç§°
        valueï¼šå‘å±æ€§æ³¨å…¥çš„å€¼
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bname<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bauthor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>World<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>bï¼‰æœ‰å‚æ„é€ å‡½æ•°æ³¨å…¥</p><h6 id="è¡¥å……-æ„é€ å‚æ•°æ³¨å…¥-vs-setteræ³¨å…¥" tabindex="-1"><a class="header-anchor" href="#è¡¥å……-æ„é€ å‚æ•°æ³¨å…¥-vs-setteræ³¨å…¥"><span>è¡¥å……ï¼šæ„é€ å‚æ•°æ³¨å…¥ <mark>vs</mark> setteræ³¨å…¥</span></a></h6><blockquote><p>ä»¥å‰ä¸€ç›´ä¸æ‡‚ <strong>æ„é€ å‚æ•°æ³¨å…¥</strong></p></blockquote><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequiredArgsConstructor</span>     <span class="token comment">//XD   lombook</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;member&quot;</span><span class="token punctuation">)</span>  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MemberController</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">MemberOperateService</span> memberBusinessService<span class="token punctuation">;</span>    <span class="token comment">//XD  final</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>setter æ³¨å…¥ä¼°è®¡å°±æ˜¯ @Autowired å¥½åƒä¸æ˜¯</p></blockquote><p>Q&amp;A å› ä¸ºæœ‰ä¸‰ç§æ³¨å…¥æ–¹å¼ï¼š</p><p>1.setæ–¹æ³•æ³¨å…¥ 2.æ„é€ æ–¹æ³•æ³¨å…¥ 3.@autowireè‡ªåŠ¨æ³¨å…¥</p><p>æ€»ç»“èµ·æ¥ï¼š</p><ul><li><code>@RequiredArgsConstructor</code>ä¸<code>private final</code>ä¸€èµ·ä½¿ç”¨æ˜¯ä¸€ç§æ„é€ å‡½æ•°æ³¨å…¥çš„æ–¹å¼ã€‚</li><li><code>@Autowired</code>æ³¨è§£å¯ä»¥ç”¨äºå­—æ®µã€setteræ–¹æ³•æˆ–æ„é€ å‡½æ•°ï¼Œç”¨äºå®ç°è‡ªåŠ¨è£…é…ï¼ˆautowiringï¼‰ï¼Œå¯ä»¥é€šè¿‡setteræ³¨å…¥æˆ–æ„é€ å‡½æ•°æ³¨å…¥çš„æ–¹å¼æ¥æ³¨å…¥ä¾èµ–é¡¹ã€‚</li></ul><p>@Resourceé»˜è®¤é€šè¿‡åç§°æ³¨å…¥ï¼Œå¦‚åç§°æ— æ³•æ‰¾åˆ°åˆ™é€šè¿‡ç±»å‹æ³¨å…¥ï¼› @Autowiredé»˜è®¤é€šè¿‡ç±»å‹æ³¨å…¥ï¼Œå¦‚å­˜åœ¨å¤šä¸ªç±»å‹åˆ™é€šè¿‡åç§°æ³¨å…¥ï¼Œä¹Ÿå¯ä»¥é…åˆ@Qualifieræ³¨è§£ï¼Œåœ¨@Qualifierä¸­æŒ‡å®šbeançš„åå­—æ¥æ³¨å…¥ä½ æƒ³è¦çš„é‚£ä¸ªbean</p><p><strong>å…¶å®lombokæœ‰ä¸ª@RequiredArgsConstructoræ³¨è§£ï¼Œå¯ä»¥å¸®ä½ ç”¨æ„é€ å™¨æ³¨å…¥</strong></p><h3 id="_3-beanç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#_3-beanç”Ÿå‘½å‘¨æœŸ"><span>3.Beanç”Ÿå‘½å‘¨æœŸ</span></a></h3><blockquote><p><strong>bean çš„åç½®å¤„ç†å™¨ï¼Œbean ç”Ÿå‘½å‘¨æœŸæœ‰ä¸ƒæ­¥</strong> ï¼ˆæ­£å¸¸ç”Ÿå‘½å‘¨æœŸä¸ºäº”æ­¥ï¼Œè€Œé…ç½®åç½®å¤„ç†å™¨åä¸ºä¸ƒæ­¥ï¼‰</p><ul><li>å®ä¾‹åŒ–</li><li>å±æ€§èµ‹å€¼ ï¼ˆæ„é€ å‚æ•°æ³¨å…¥ï¼Œsetteræ³¨å…¥ç­‰ï¼‰</li><li>åˆå§‹åŒ– ï¼ˆæ£€æŸ¥awareæ¥å£ï¼Œå‰ç½®å¤„ç†ï¼Œåç½®å¤„ç†ç­‰ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­å¯èƒ½è‡ªå®šä¹‰äº†ä¸€äº›åˆå§‹åŒ–ä¹‹å‰çš„æ“ä½œå’Œä¹‹åçš„æ“ä½œï¼‰</li><li>ä½¿ç”¨</li><li>é”€æ¯ ï¼ˆé”€æ¯å‰å¯èƒ½è‡ªå·±é…ç½®äº†ä¸€äº›é”€æ¯ä¹‹å‰çš„æ–¹æ³•)</li></ul></blockquote><p>ç¬¬ä¸€æ­¥ï¼šConstruction æ„é€ Beanå¯¹è±¡</p><p>ç¬¬äºŒæ­¥ï¼šset Bean å±æ€§å€¼</p><p><mark>ï¼ˆ1ï¼‰æŠŠ bean å®ä¾‹ä¼ é€’ bean åç½®å¤„ç†å™¨çš„æ–¹æ³• postProcessBeforeInitialization</mark></p><p>ç¬¬ä¸‰æ­¥ï¼šinitè°ƒç”¨è‡ªå®šä¹‰çš„åˆå§‹åŒ–æ–¹æ³• //è¿™å‰ä¸‰æ­¥åœ¨ <code>new ClassPathXmlApplicationContext(&quot;beans-test.xml&quot;);</code> å°±æå®Œ</p><p><mark>ï¼ˆ2ï¼‰æŠŠ bean å®ä¾‹ä¼ é€’ bean åç½®å¤„ç†å™¨çš„æ–¹æ³• postProcessAfterInitialization</mark></p><p>ç¬¬å››æ­¥ï¼šè·å–å®ä¾‹åŒ–åçš„ Bean å¯ä»¥å¼€å§‹ä½¿ç”¨ Bean org.example.bean.BeanLife@649bec2e</p><p>ç¬¬äº”æ­¥ï¼šdestroyè°ƒç”¨è‡ªå®šä¹‰é”€æ¯çš„æ–¹æ³• //æ‰‹åŠ¨è®© bean å®ä¾‹é”€æ¯ context.close(); //ClassPathXmlApplicationContext</p><p>â€‹</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>beanLife<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.bean.BeanLife<span class="token punctuation">&quot;</span></span> <span class="token attr-name">init-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init<span class="token punctuation">&quot;</span></span> <span class="token attr-name">destroy-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>destroy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>properties<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>å±æ€§XD<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--é…ç½®åç½®å¤„ç†å™¨--&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myBeanPost<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.config.MyBeanPost<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>public class MyBeanPost implements BeanPostProcessor //åˆ›å»ºåç½®å¤„ç†å™¨å®ç°ç±»ï¼Œå¯¹åº”ï¼ˆ1ï¼‰ï¼ˆ2ï¼‰</code></p><h3 id="_4-aop" tabindex="-1"><a class="header-anchor" href="#_4-aop"><span>4.AOP</span></a></h3><blockquote><p>RuoYiã€upupor è‡ªå®šä¹‰æ³¨è§£å…¨æ˜¯å’Œ AOP ç›¸å…³</p><p>é™¤äº†æœ‰ä¸ªæ³¨è§£æ˜¯é…åˆSpringSecurityå®ç°æ³¨è§£åœ°æ–¹æ”¾è¡Œè®¿é—® ï¼ˆRUOYIï¼‰</p></blockquote><blockquote><h4 id="å­¦ä¹ æ‰‹å†Œ-pdf-è¡¥å……" tabindex="-1"><a class="header-anchor" href="#å­¦ä¹ æ‰‹å†Œ-pdf-è¡¥å……"><span>å­¦ä¹ æ‰‹å†Œ.pdf è¡¥å……ï¼š</span></a></h4><p>å¤šä¸ªåˆ‡é¢çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡ @Order æŒ‡å®šå…ˆåé¡ºåºï¼Œæ•°å­—è¶Šå°ï¼Œä¼˜å…ˆçº§è¶Šé«˜ã€‚</p><img src="http://images.zzq8.cn/img/image-20240315165659313.png" alt="image-20240315165659313" style="zoom:50%;"><h4 id="è¯´è¯´ä½ å¹³æ—¶æœ‰ç”¨åˆ°aopå—-ä¾‹å­å¾ˆå¥½-è¦çŸ¥è¡Œåˆä¸€" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´ä½ å¹³æ—¶æœ‰ç”¨åˆ°aopå—-ä¾‹å­å¾ˆå¥½-è¦çŸ¥è¡Œåˆä¸€"><span>è¯´è¯´ä½ å¹³æ—¶æœ‰ç”¨åˆ°AOPå—ï¼Ÿ ï¼ˆä¾‹å­å¾ˆå¥½ï¼Œè¦çŸ¥è¡Œåˆä¸€ï¼‰</span></a></h4><p>PSï¼šè¿™é“é¢˜è€ä¸‰çš„åŒäº‹é¢è¯•å€™é€‰äººçš„æ—¶å€™é—®åˆ°äº†ï¼Œå€™é€‰äººè¯´äº†ä¸€å †AOPåŸç†ï¼ŒåŒäº‹ å°±åŠ¿æ¥ä¸€å¥ï¼Œä½ èƒ½ç°åœºå†™ä¸€ä¸‹AOPçš„åº”ç”¨å—ï¼Ÿç»“æœâ€”â€”åœºé¢ä¸€åº¦å¾ˆå°´å°¬ã€‚è™½ç„¶æˆ‘å¯¹é¢ è¯•å†™è¿™ç§ç™¾åº¦å°±èƒ½å‡ºæ¥çš„ä¸œè¥¿æŒä¿ç•™æ„è§ï¼Œä½†æ˜¯è¿˜æ˜¯åŠ ä¸Šäº†è¿™ä¸€é—®ï¼Œæ¯•ç«Ÿæ‹›äººæœ€å éƒ½æ˜¯è¦æ’¸ä»£ç çš„ã€‚</p><p>è¿™é‡Œç»™å‡ºä¸€ä¸ªå°ä¾‹å­ï¼ŒSpringBooté¡¹ç›®ä¸­ï¼Œåˆ©ç”¨AOPæ‰“å°æ¥å£çš„å…¥å‚å’Œå‡ºå‚æ—¥å¿—ï¼Œä»¥ åŠæ‰§è¡Œæ—¶é—´ï¼Œè¿˜æ˜¯æ¯”è¾ƒå¿«æ·çš„ã€‚</p><ul><li><p>å¼•å…¥ä¾èµ–ï¼šå¼•å…¥AOPä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-aop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>è‡ªå®šä¹‰æ³¨è§£ï¼šè‡ªå®šä¹‰ä¸€ä¸ªæ³¨è§£ä½œä¸ºåˆ‡ç‚¹</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">METHOD</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">WebLog</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>é…ç½®AOPåˆ‡é¢ï¼š</p><ul><li>@Aspectï¼šæ ‡è¯†åˆ‡é¢</li><li>@Pointcutï¼šè®¾ç½®åˆ‡ç‚¹ï¼Œè¿™é‡Œä»¥è‡ªå®šä¹‰æ³¨è§£ä¸ºåˆ‡ç‚¹ï¼Œå®šä¹‰åˆ‡ç‚¹æœ‰å¾ˆå¤šå…¶å®ƒç§æ–¹ å¼ï¼Œè‡ªå®šä¹‰æ³¨è§£æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ä¸€ç§ã€‚</li><li>@Beforeï¼šåœ¨åˆ‡ç‚¹ä¹‹å‰ç»‡å…¥ï¼Œæ‰“å°äº†ä¸€äº›å…¥å‚ä¿¡æ¯</li><li>@Aroundï¼šç¯ç»•åˆ‡ç‚¹ï¼Œæ‰“å°è¿”å›å‚æ•°å’Œæ¥å£æ‰§è¡Œæ—¶é—´</li></ul><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@Aspect</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebLogAspect</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span>
	<span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">WebLogAspect</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token doc-comment comment">/**
	* ä»¥è‡ªå®šä¹‰ @WebLog æ³¨è§£ä¸ºåˆ‡ç‚¹
	**/</span>
	<span class="token annotation punctuation">@Pointcut</span><span class="token punctuation">(</span><span class="token string">&quot;@annotation(cn.fighter3.spring.aop_demo.WebLog)&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">webLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token doc-comment comment">/**
	* åœ¨åˆ‡ç‚¹ä¹‹å‰ç»‡å…¥
	*/</span>
	<span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span><span class="token string">&quot;webLog()&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doBefore</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> joinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
		<span class="token comment">// å¼€å§‹æ‰“å°è¯·æ±‚æ—¥å¿—</span>
		<span class="token class-name">ServletRequestAttributes</span> attributes <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ServletRequestAttributes</span><span class="token punctuation">)</span>
		<span class="token class-name">RequestContextHolder</span><span class="token punctuation">.</span><span class="token function">getRequestAttributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">HttpServletRequest</span> request <span class="token operator">=</span> attributes<span class="token punctuation">.</span><span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// æ‰“å°è¯·æ±‚ç›¸å…³å‚æ•°</span>
		logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;============ Start==========================================&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// æ‰“å°è¯·æ±‚ url</span>
		logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;URL : {}&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getRequestURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// æ‰“å° Http method</span>
		logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;HTTP Method : {}&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// æ‰“å°è°ƒç”¨ controller çš„å…¨è·¯å¾„ä»¥åŠæ‰§è¡Œæ–¹æ³•</span>
		logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Class Method : {}.{}&quot;</span><span class="token punctuation">,</span>
			joinPoint<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeclaringTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			joinPoint<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// æ‰“å°è¯·æ±‚çš„ IP</span>
		logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;IP : {}&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getRemoteAddr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// æ‰“å°è¯·æ±‚å…¥å‚</span>
		logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Request Args : {}&quot;</span><span class="token punctuation">,</span><span class="token keyword">new</span>
			<span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>joinPoint<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token doc-comment comment">/**
	* åœ¨åˆ‡ç‚¹ä¹‹åç»‡å…¥
	*/</span>
	<span class="token annotation punctuation">@After</span><span class="token punctuation">(</span><span class="token string">&quot;webLog()&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doAfter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
		<span class="token comment">// ç»“æŸåæ‰“ä¸ªåˆ†éš”çº¿ï¼Œæ–¹ä¾¿æŸ¥çœ‹</span>
		logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;================== End===========================================&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token doc-comment comment">/**
	* ç¯ç»•
	*/</span>
	<span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;webLog()&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">doAround</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> proceedingJoinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
		<span class="token comment">//å¼€å§‹æ—¶é—´</span>
		<span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Object</span> result <span class="token operator">=</span> proceedingJoinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// æ‰“å°å‡ºå‚</span>
		logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Response Args : {}&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span>
			<span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// æ‰§è¡Œè€—æ—¶</span>
		logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Time-Consuming : {} ms&quot;</span><span class="token punctuation">,</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> result<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä½¿ç”¨ï¼šåªéœ€è¦åœ¨æ¥å£ä¸ŠåŠ ä¸Šè‡ªå®šä¹‰æ³¨è§£</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@WebLog</span><span class="token punctuation">(</span>desc <span class="token operator">=</span> <span class="token string">&quot;è¿™æ˜¯ä¸€ä¸ªæ¬¢è¿æ¥å£&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token string">&quot;Hello &quot;</span><span class="token operator">+</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></blockquote><blockquote><h2 id="é™æ€ä»£ç†ä¸ºä»€ä¹ˆæ˜¯é™æ€ä»£ç†" tabindex="-1"><a class="header-anchor" href="#é™æ€ä»£ç†ä¸ºä»€ä¹ˆæ˜¯é™æ€ä»£ç†"><span>é™æ€ä»£ç†ä¸ºä»€ä¹ˆæ˜¯é™æ€ä»£ç†ï¼Ÿ</span></a></h2><p>aopå°±æ˜¯ç”¨çš„ä»£ç†å®ç°ï¼Œä»£ç†åˆ†ä¸ºé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†</p><p>é™æ€ä»£ç†æ¯”å¦‚ AspectJï¼ŒAOPæ¡†æ¶ä¼šåœ¨ç¼–è¯‘é˜¶æ®µç”ŸæˆAOPä»£ç†ç±»ï¼Œå±äºç¼–è¯‘æ—¶çš„å¢å¼º</p><p>åŠ¨æ€ä»£ç†æ¯”å¦‚ jdkåŠ¨æ€ä»£ç† å’Œ CGLIB ï¼ŒAOPæ¡†æ¶ä¸ä¼šå»ä¿®æ”¹å­—èŠ‚ç ï¼Œè€Œæ˜¯æ¯æ¬¡è¿è¡Œæ—¶åœ¨å†…å­˜ä¸´æ—¶ä¸ºæ–¹æ³•ç”Ÿæˆä¸€ä¸ªAOPå¯¹è±¡ï¼ŒAOPå¯¹è±¡åŒ…å«äº†ç›®æ ‡å¯¹è±¡çš„å…¨éƒ¨æ–¹æ³•ï¼Œåœ¨ç‰¹å®šåˆ‡ç‚¹åšäº†å¢å¼ºå¤„ç†ï¼Œå¹¶å›è°ƒåŸå¯¹è±¡çš„æ–¹æ³•ã€‚</p><p>å½“æ—¶çš„å›ç­”ï¼šspringä½¿ç”¨çš„å°±æ˜¯åŠ¨æ€ä»£ç†ï¼ŒåŠ¨æ€ä»£ç†æœ‰ä¸¤ä¸ªï¼šjdkè‡ªå¸¦çš„å’ŒCglibï¼Œjdkçš„ä»£ç†æ•ˆç‡ä¼šé«˜ä¸€äº›ï¼ŒCglibæ˜¯åŠ¨æ€ä»£ç ç”Ÿæˆåº“</p><p>Spring æ¡†æ¶ä¸€èˆ¬éƒ½æ˜¯åŸºäº AspectJ å®ç° AOP æ“ä½œï¼ŒAspectJ ä¸æ˜¯ Spring ç»„æˆéƒ¨åˆ†ï¼Œç‹¬ç«‹ AOP æ¡†æ¶ï¼Œä¸€èˆ¬æŠŠ AspectJ å’Œ Spirng æ¡†æ¶ä¸€èµ·ä½¿ ç”¨ï¼Œè¿›è¡Œ AOP æ“ä½œ</p></blockquote><h5 id="è¡¥å……-spring-aop-å’Œ-aspectj-aop-æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#è¡¥å……-spring-aop-å’Œ-aspectj-aop-æœ‰ä»€ä¹ˆåŒºåˆ«"><span>è¡¥å……ï¼šSpring AOP å’Œ AspectJ AOP æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></h5><p><strong>Spring AOP å±äºè¿è¡Œæ—¶å¢å¼ºï¼Œè€Œ AspectJ æ˜¯ç¼–è¯‘æ—¶å¢å¼ºã€‚</strong> Spring AOP åŸºäºä»£ç†(Proxying)ï¼Œè€Œ AspectJ åŸºäºå­—èŠ‚ç æ“ä½œ(Bytecode Manipulation)ã€‚</p><p>Spring AOP å·²ç»é›†æˆäº† AspectJ ï¼ŒAspectJ åº”è¯¥ç®—çš„ä¸Šæ˜¯ Java ç”Ÿæ€ç³»ç»Ÿä¸­æœ€å®Œæ•´çš„ AOP æ¡†æ¶äº†ã€‚AspectJ ç›¸æ¯”äº Spring AOP åŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼Œä½†æ˜¯ Spring AOP ç›¸å¯¹æ¥è¯´æ›´ç®€å•ï¼Œ</p><p>å¦‚æœæˆ‘ä»¬çš„åˆ‡é¢æ¯”è¾ƒå°‘ï¼Œé‚£ä¹ˆä¸¤è€…æ€§èƒ½å·®å¼‚ä¸å¤§ã€‚ä½†æ˜¯ï¼Œå½“åˆ‡é¢å¤ªå¤šçš„è¯ï¼Œæœ€å¥½é€‰æ‹© AspectJ ï¼Œå®ƒæ¯” Spring AOP å¿«å¾ˆå¤šã€‚</p><hr><p>è‘—ä½œæƒå½’æ‰€æœ‰ åŸæ–‡é“¾æ¥ï¼šhttps://javaguide.cn/system-design/framework/spring/spring-knowledge-and-questions-summary.html</p><h6 id="ruoyi-è¡¥å……-aop-å®æ“" tabindex="-1"><a class="header-anchor" href="#ruoyi-è¡¥å……-aop-å®æ“"><span>RuoYi è¡¥å…… AOP å®æ“</span></a></h6><p>1.<code>@Before</code> ä½¿ç”¨åœºæ™¯ï¼š<em>é™æµå¤„ç†</em></p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@Aspect</span>  <span class="token comment">//åˆ‡é¢å£°æ˜ï¼Ÿ</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RateLimiterAspect</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span><span class="token string">&quot;@annotation(rateLimiter)&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doBefore</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> point<span class="token punctuation">,</span> <span class="token class-name">RateLimiter</span> rateLimiter<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Redis Keyï¼š <code>rate_limit:com.ruoyi.web.controller.system.SysUserController-list</code></p><p>JoinPoint point è¿™ä¸ªç±»å¯ä»¥è·å– AOP å‰ç½®é€šçŸ¥ï¼ˆBefore Adviceï¼‰æ³¨è§£æ ‡æ³¨çš„ç±»ååŠå…¶æ–¹æ³•åã€<strong>åå°„</strong>ã€‘</p><p>2.<code>@AfterReturning</code> ä½¿ç”¨åœºæ™¯ï¼šæ—¥å¿—è®°å½• å¢åˆ æ”¹</p><p><em>å¤„ç†å®Œè¯·æ±‚åæ‰§è¡Œ</em></p><h6 id="upupor-è¡¥å……-aop-å®æ“" tabindex="-1"><a class="header-anchor" href="#upupor-è¡¥å……-aop-å®æ“"><span>Upupor è¡¥å…… AOP å®æ“</span></a></h6><ol><li><code>@Around</code> ä½¿ç”¨åœºæ™¯ï¼šåšå®¢ä¸‹é¢ç»Ÿè®¡è®°å½• <strong>å“åº”æ—¶é—´</strong> ï¼ˆspringçš„ StopWatch ç±» + @Around å®ç°ï¼ï¼ï¼ï¼‰</li></ol><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;controllerLog()&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">doAround</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> proceedingJoinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
    <span class="token comment">// è°ƒç”¨ä¸šåŠ¡æ–¹æ³•</span>
    result <span class="token operator">=</span> proceedingJoinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//XD è¿™é‡Œè°ƒç”¨ç›®æ ‡æ–¹æ³•ï¼Œè¿™ä¹‹å‰çš„ä»£ç éƒ½æ˜¯ã€å‰ç½®é€»è¾‘ã€‘    ä¸‹é¢çš„ä»£ç éƒ½æ˜¯ã€åç½®é€»è¾‘ã€‘</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Q: ä¸ºä»€ä¹ˆè¦ç”¨Threadlocalæ¥åŒ…è£…stopwatchå‘¢ï¼Ÿ ä½œè€…å›å¤: æˆ‘åœ¨æ‰§è¡Œå‰åéœ€è¦ä½¿ç”¨åŒä¸€ä¸ªStopWatchï¼Œæ‰€ä»¥éœ€è¦æœ‰ä¸ªåœ°æ–¹æš‚å­˜ä¸€ä¸‹ï¼Œè€Œä¸”æ¯æ¬¡ä¸ºè¯·æ±‚è®¡æ—¶éƒ½éœ€è¦ä¸€ä¸ªä¸åŒçš„StopWatchï¼Œä¸èƒ½å…±ç”¨ä¸€ä¸ªï¼Œæ—¢ç„¶æ˜¯ä¸€ä¸ªçº¿ç¨‹åœ¨å¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œé‚£æ¯”è¾ƒç®€å•çš„æ–¹æ³•å°±æ˜¯æ”¾åœ¨ThreadLocalé‡Œã€‚</p><ul><li>æ ¸å® upupor æ˜¯ä¸æ˜¯ä¹Ÿæ˜¯è¿™æ · geektime.spring.springbucks.waiter.controller.PerformanceInteceptors</li></ul><h3 id="_5-spring-äº‹åŠ¡" tabindex="-1"><a class="header-anchor" href="#_5-spring-äº‹åŠ¡"><span>5.Spring äº‹åŠ¡</span></a></h3><blockquote><p>é—®ï¼šé¡¹ç›®ä¸­ä»€ä¹ˆåœ°æ–¹ç”¨åˆ°äº† AOP åœ¨ Spring ä¸­è¿›è¡Œäº‹åŠ¡ç®¡ç†ä¸­å°±ç”¨åˆ°äº†ï¼ï¼ï¼</p></blockquote><p><mark>å£°æ˜å¼äº‹åŠ¡ï¼šå°±æ˜¯ç”¨æ³¨è§£çš„æ–¹å¼/xmlå¼€å¯äº‹åŠ¡åº•å±‚ä½¿ç”¨çš„æ˜¯ AOPï¼Œç›¸å¯¹çš„æ‰‹åŠ¨å†™ä»£ç å¼€äº‹åŠ¡å…³äº‹åŠ¡</mark></p><h3 id="_6-è®¾è®¡æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_6-è®¾è®¡æ¨¡å¼"><span>6.è®¾è®¡æ¨¡å¼</span></a></h3><blockquote><p>è‡³å°‘å‰5ç§ç­”å‡ºæ¥</p></blockquote><ol><li>IOC å·¥å‚æ¨¡å¼ : Spring å®¹å™¨æœ¬è´¨æ˜¯ä¸€ä¸ªå¤§å·¥å‚ï¼Œä½¿ç”¨å·¥å‚æ¨¡å¼é€šè¿‡ BeanFactoryã€ ApplicationContext åˆ›å»º bean å¯¹è±¡ã€‚</li><li>AOP ä»£ç†æ¨¡å¼ : <strong>Spring AOP åŠŸèƒ½å°±æ˜¯é€šè¿‡ä»£ç†æ¨¡å¼æ¥å®ç°çš„</strong>ï¼Œåˆ†ä¸ºåŠ¨æ€ä»£ç†å’Œé™ æ€ä»£ç†ã€‚</li><li>IOC å•ä¾‹æ¨¡å¼ : Spring ä¸­çš„ Bean é»˜è®¤éƒ½æ˜¯å•ä¾‹çš„ï¼Œè¿™æ ·æœ‰åˆ©äºå®¹å™¨å¯¹Beançš„ç®¡ç†ã€‚</li><li>æ¨¡æ¿æ¨¡å¼ : Spring ä¸­ JdbcTemplateã€RestTemplate ç­‰ä»¥ Templateç»“å°¾çš„å¯¹æ•°æ® åº“ã€ç½‘ç»œç­‰ç­‰è¿›è¡Œæ“ä½œçš„æ¨¡æ¿ç±»ï¼Œå°±ä½¿ç”¨åˆ°äº†æ¨¡æ¿æ¨¡å¼ã€‚</li><li>è§‚å¯Ÿè€…æ¨¡å¼: Spring äº‹ä»¶é©±åŠ¨æ¨¡å‹å°±æ˜¯è§‚å¯Ÿè€…æ¨¡å¼å¾ˆç»å…¸çš„ä¸€ä¸ªåº”ç”¨ã€‚ <ul><li>å¯ä»¥å°†è§‚å¯Ÿè€…æ¨¡å¼çœ‹ä½œæ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼çš„ä¸€ä¸ªç‰¹ä¾‹</li><li>åœ¨Springæ¡†æ¶ä¸­ï¼Œäº‹ä»¶é©±åŠ¨çš„ç¼–ç¨‹æ¨¡å‹æ˜¯åŸºäºå‘å¸ƒè®¢é˜…æ¨¡å¼çš„ã€‚</li></ul></li><li>é€‚é…å™¨æ¨¡å¼ :Spring AOP çš„å¢å¼ºæˆ–é€šçŸ¥ (Advice) ä½¿ç”¨åˆ°äº†é€‚é…å™¨æ¨¡å¼ã€Spring MVC ä¸­ä¹Ÿæ˜¯ç”¨åˆ°äº†é€‚é…å™¨æ¨¡å¼é€‚é… Controllerã€‚</li><li>ç­–ç•¥æ¨¡å¼ï¼šSpringä¸­æœ‰ä¸€ä¸ªResourceæ¥å£ï¼Œå®ƒçš„ä¸åŒå®ç°ç±»ï¼Œä¼šæ ¹æ®ä¸åŒçš„ç­–ç•¥ å»è®¿é—®èµ„æºã€‚</li></ol><h3 id="_7-å“ªäº›æ¨¡å—ç»„æˆ" tabindex="-1"><a class="header-anchor" href="#_7-å“ªäº›æ¨¡å—ç»„æˆ"><span>7.å“ªäº›æ¨¡å—ç»„æˆ</span></a></h3><blockquote><p>https://juejin.cn/post/6997930907227127838</p></blockquote><ul><li>å››ä¸ª<strong>æ ¸å¿ƒæ¨¡å—</strong></li></ul><figure><img src="http://images.zzq8.cn/img/928164d48bbf4019a6a5131fd4cdfec9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image-20210818214831566" tabindex="0" loading="lazy"><figcaption>image-20210818214831566</figcaption></figure><ul><li>æ ¹æ® <code>Spring</code> æºç æ¨¡å—ä¸­çš„ <code>gradle</code> ä¾èµ–ï¼Œå¯ä»¥æ•´ç†å‡ºè¿™ä¹ˆä¸€å¼ <strong>ä¾èµ–å…³ç³»å›¾</strong></li></ul><figure><img src="http://images.zzq8.cn/img/062d90e772644ee9962185234ee6d12e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image-20210818222259022" tabindex="0" loading="lazy"><figcaption>image-20210818222259022</figcaption></figure><hr><h2 id="åˆ†å‰²çº¿" tabindex="-1"><a class="header-anchor" href="#åˆ†å‰²çº¿"><span><mark>------åˆ†å‰²çº¿------</mark></span></a></h2><h2 id="_1-å¸¸ç”¨æ³¨è§£" tabindex="-1"><a class="header-anchor" href="#_1-å¸¸ç”¨æ³¨è§£"><span>1ï¼‰å¸¸ç”¨æ³¨è§£</span></a></h2><blockquote><p>æä¸ªæ—¶é—´é‡æ–°æ’ä¸ªç‰ˆï¼çŸ¥è¯†å¾…å®Œå–„</p></blockquote><p><a href="https://www.yuque.com/atguigu/springboot/vgzmgh" target="_blank" rel="noopener noreferrer">ç¬¬ä¸€å­£ï¼šSpringBoot2æ ¸å¿ƒæŠ€æœ¯-åŸºç¡€å…¥é—¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://liayun.blog.csdn.net/article/details/115053350" target="_blank" rel="noopener noreferrer">Springæ³¨è§£é©±åŠ¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ul><li><h4 id="enabletransactionmanagement-å¼€å¯æ³¨è§£äº‹åŠ¡ç®¡ç†-ç­‰ä»·äºxmlé…ç½®æ–¹å¼çš„-tx-annotation-driven" tabindex="-1"><a class="header-anchor" href="#enabletransactionmanagement-å¼€å¯æ³¨è§£äº‹åŠ¡ç®¡ç†-ç­‰ä»·äºxmlé…ç½®æ–¹å¼çš„-tx-annotation-driven"><span>@EnableTransactionManagement // å¼€å¯æ³¨è§£äº‹åŠ¡ç®¡ç†ï¼Œç­‰ä»·äºxmlé…ç½®æ–¹å¼çš„ &lt;tx:annotation-driven /&gt;</span></a></h4><ul><li><pre><code>Springæä¾›äº†ä¸€ä¸ª@EnableTransactionManagement æ³¨è§£ä»¥åœ¨é…ç½®ç±»ä¸Šå¼€å¯å£°æ˜å¼äº‹åŠ¡çš„æ”¯æŒã€‚æ·»åŠ è¯¥æ³¨è§£åï¼ŒSpringå®¹å™¨ä¼šè‡ªåŠ¨æ‰«æè¢«@Transactionalæ³¨è§£çš„æ–¹æ³•å’Œç±»ã€‚
</code></pre></li></ul></li><li><h4 id="retention-retentionpolicy-runtime" tabindex="-1"><a class="header-anchor" href="#retention-retentionpolicy-runtime"><span>@Retention(RetentionPolicy.RUNTIME)</span></a></h4><ul><li>ç”¨äºä½¿æ³¨è§£åœ¨è¿è¡Œæ—¶å¯ä»¥é€šè¿‡åå°„æ¥è®¿é—®å’Œå¤„ç†ã€‚è¿™å¯¹äºæŸäº›éœ€è¦åœ¨è¿è¡Œæ—¶åŠ¨æ€å¤„ç†æ³¨è§£çš„åœºæ™¯éå¸¸æœ‰ç”¨</li><li>RuoYi è¿è¡Œæ—¶å€™åŠ¨æ€è·å–æ³¨è§£ä¿¡æ¯ï¼Œæ¯”å¦‚</li></ul></li><li><h4 id="postconstruct" tabindex="-1"><a class="header-anchor" href="#postconstruct"><span>@PostConstruct</span></a></h4><ul><li><code>@PostConstruct</code> æ˜¯ä¸€ä¸ªåœ¨ Spring æ¡†æ¶ä¸­å¸¸ç”¨çš„æ³¨è§£ï¼Œå®ƒç”¨äºæŒ‡å®šåœ¨å¯¹è±¡åˆ›å»ºå®Œæˆåéœ€è¦ç«‹å³æ‰§è¡Œçš„æ–¹æ³•ã€‚å½“ä½¿ç”¨ <code>@PostConstruct</code> æ³¨è§£æ ‡è®°ä¸€ä¸ªæ–¹æ³•æ—¶ï¼ŒSpring åœ¨å®ä¾‹åŒ–è¯¥å¯¹è±¡å¹¶å®Œæˆä¾èµ–æ³¨å…¥åï¼Œä¼šè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ã€‚</li><li>RuoYi ä¸­ç”¨æ¥å¼€å¯ quartz</li></ul></li><li><h4 id="rquestbody" tabindex="-1"><a class="header-anchor" href="#rquestbody"><span>@RquestBody</span></a></h4><ul><li><p>è·å–è¯·æ±‚ä½“ï¼Œ<strong>å¿…é¡»å‘é€POSTè¯·æ±‚</strong>ã€‚SpringMVCè‡ªåŠ¨å°†è¯·æ±‚ä½“çš„æ•°æ®**ï¼ˆjsonï¼‰ï¼Œè½¬ä¸ºå¯¹åº”Javaå¯¹è±¡**ï¼ˆ+å½¢å‚Entityä¸Šï¼‰</p></li><li><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">//ä»¥è¾ƒç®€å•çš„Userå¯¹è±¡æ¥æ”¶å‰ç«¯ä¼ è¿‡æ¥çš„isonæ•°æ®(SpringMVCä¼šæ™ºèƒ½çš„å°†ç¬¦åˆè¦æ±‚çš„æ•°æ®è£…é…è¿›è¯¥Userå¯¹è±¡ä¸­)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><h4 id="responsebody" tabindex="-1"><a class="header-anchor" href="#responsebody"><span>@ResponseBody</span></a></h4><ul><li><p>ä¾‹å¦‚ï¼Œå¼‚æ­¥è·å–<code>json</code>æ•°æ®ï¼ŒåŠ ä¸Š<code>@Responsebody</code>æ³¨è§£åï¼Œå°±ä¼šç›´æ¥è¿”å›<code>json</code>æ•°æ®ã€‚</p></li><li><p>@RestController = @Controller + <code>@ResponseBody</code></p></li><li><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>	<span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">Exception</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span> <span class="token comment">//è¿”å›jsonæ•°æ®</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æœ¬æ¥è¿™é‡Œè¿”å› Result å¯¹è±¡ï¼Œä½†æ˜¯åŠ ä¸Šä¸Šé¢æ³¨è§£ã€‚ä¼šè¿”å› JSONï¼ˆ@ResponseBodyï¼‰</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><h4 id="scope" tabindex="-1"><a class="header-anchor" href="#scope"><span>@Scope</span></a></h4><ul><li><p>é…ç½®ç±»é‡Œé¢ä½¿ç”¨@Beanæ ‡æ³¨åœ¨æ–¹æ³•ä¸Šç»™å®¹å™¨æ³¨å†Œç»„ä»¶ï¼Œé»˜è®¤ä¹Ÿæ˜¯å•å®ä¾‹çš„</p></li><li><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">//@Scope(&quot;prototype&quot;) // ç°åœ¨è¿˜ä¸æ˜¯å¤šä¾‹ï¼Œè¿˜éœ€è¦æŒ‡å®šä»£ç†æ¨¡å¼</span>
<span class="token comment">//* åŸç”Ÿ Spring JDKä»£ç†  * ç°åœ¨ SpringBoot 2.X ä¹‹åéƒ½æ˜¯CGlibï¼Œè¿™é‡Œç”¨ CGlib</span>
<span class="token annotation punctuation">@Scope</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;prototype&quot;</span><span class="token punctuation">,</span> proxyMode <span class="token operator">=</span> <span class="token class-name">ScopedProxyMode</span><span class="token punctuation">.</span><span class="token constant">TARGET_CLASS</span><span class="token punctuation">)</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><h4 id="value" tabindex="-1"><a class="header-anchor" href="#value"><span>@Value</span></a></h4><ul><li>1ï¼‰å¿…é¡»æŠŠå½“å‰ç±»åŠ å…¥springçš„å®¹å™¨ç®¡ç†@Componentï¼Œæ³¨æ„è¦åœ¨ä¸»å¯åŠ¨ç±»ä¸‹ï¼Œæµ‹è¯•ç±»çš„è¯ç”¨SpringBootçš„æµ‹è¯•æ³¨è§£ï¼Œè¿™ä¸ªä¹Ÿåˆ†4/5æ³¨æ„ã€‚ï¼ˆå®¹æ˜“å¿½ç•¥ï¼Œä¸åŠ  [<a href="https://m.yisu.com/zixun/723340.html" target="_blank" rel="noopener noreferrer">è²Œä¼¼<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>] å¾—åˆ°çš„ä¸º nullï¼‰</li><li>2ï¼‰å˜é‡ä¸èƒ½ç”¨staticä¿®é¥°ï¼ï¼ï¼</li><li>å¦‚æœæƒ³è¦æ³¨å…¥é™æ€ <a href="https://blog.csdn.net/ZYC88888/article/details/87863038" target="_blank" rel="noopener noreferrer">spring @value æ³¨å…¥static æ³¨å…¥é™æ€å˜é‡æ–¹æ³•<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>**å…ˆè¯´æ˜å†’å·çš„ä½œç”¨ ï¼šå¯ä»¥è®¾ç½®é»˜è®¤å€¼ **@Value(&quot;${prop.url:&#39;http://myurl.com&#39;}&quot;)</li></ul></li><li><h4 id="springbootapplication-exclude-datasourceautoconfiguration-class" tabindex="-1"><a class="header-anchor" href="#springbootapplication-exclude-datasourceautoconfiguration-class"><span>@SpringBootApplication(<!---->)</span></a></h4><ul><li>é€‚ç”¨åœºæ™¯ï¼špom å¼•å…¥çš„ Common æœ‰æ•°æ®æºï¼Œä½†æ˜¯æœ¬ Demo ä¸éœ€è¦ã€‚å¯åŠ¨æŠ¥é”™è¦æ±‚é…</li><li>åè¯ï¼šä¸ªäººè§‰å¾—pom exclude åº”è¯¥ä¹Ÿè¡Œ</li></ul></li><li><h4 id="enableconfigurationproperties" tabindex="-1"><a class="header-anchor" href="#enableconfigurationproperties"><span><mark>@EnableConfigurationProperties</mark></span></a></h4><ul><li>è¯´ç™½äº† @<!---->ConfigurationProperties ç›¸å½“äºæŠŠä½¿ç”¨ @ConfigurationProperties çš„ç±»è¿›è¡Œäº†ä¸€æ¬¡æ³¨å…¥ <strong>å› ä¸ºè¿™ä¸ªç±»æ²¡æœ‰@Conponentï¼Œç”¨è¿™ç§æ–¹æ³•æ”¾åˆ° IOC å®¹å™¨ä¸­æ‰èƒ½ç”¨</strong> åªæœ‰å®¹å™¨ä¸­çš„ç»„ä»¶æ‰èƒ½æœ‰SpringBootæä¾›çš„å¼ºå¤§çš„åŠŸèƒ½</li><li>åœºæ™¯ï¼šå¦‚æœ@ConfigurationPropertiesæ˜¯åœ¨ç¬¬ä¸‰æ–¹åŒ…ä¸­ï¼Œé‚£ä¹ˆ@componentæ˜¯ä¸èƒ½æ³¨å…¥åˆ°å®¹å™¨çš„ã€‚åªæœ‰@EnableConfigurationPropertiesæ‰å¯ä»¥æ³¨å…¥åˆ°å®¹å™¨ã€‚ RedisCacheConfigurationé…ç½®kvçš„åºåˆ—åŒ–çš„æ—¶å€™éœ€è¦æŠŠå…¶å®ƒé…ç½®ä¹Ÿç»™æ‹¿ä¸Šå°±éœ€è¦CachePropertiesæ”¾å…¥å®¹å™¨ä½¿ç”¨</li></ul></li><li><h4 id="configurationproperties" tabindex="-1"><a class="header-anchor" href="#configurationproperties"><span>@ConfigurationProperties</span></a></h4><ul><li>è§£å†³ï¼šä»¥å‰å¾—IOæµæ‹¿propertiesé‡Œçš„k v</li></ul></li></ul><p>â€‹</p><ul><li><h4 id="import-componentscan" tabindex="-1"><a class="header-anchor" href="#import-componentscan"><span>@Import &amp; @ComponentScan</span></a></h4><ul><li>æˆ‘ä½¿ç”¨çš„åœºæ™¯ï¼šé…ç½®ç±»æ”¾åœ¨ common æ¨¡å—ï¼Œå…¶å®ƒæ¨¡å—éƒ½æ¥ç”¨è¿™ä¸ªé…ç½®ç±»</li><li>å¯¼å…¥ç»„ä»¶é»˜è®¤ç»„ä»¶åå­—æ˜¯ com.example.boot.bean.Cat å…¨ç±»å</li><li>ä¹Ÿå¯ä»¥å¯¼å…¥dependence jaré‡Œçš„class</li></ul></li><li><h4 id="postconstruct-1" tabindex="-1"><a class="header-anchor" href="#postconstruct-1"><span>@PostConstruct</span></a></h4><ul><li>åœºæ™¯ï¼šMyRabbitConfigå¯¹è±¡åˆ›å»ºå®Œæˆä»¥åï¼Œæ‰§è¡Œè¿™ä¸ªæ–¹æ³•<code>rabbitTemplate.setConfirmCallback</code>ç”¨äºè®¾ç½®ç¡®è®¤å›è°ƒ ConfirmCallback</li></ul></li></ul><blockquote><h1 id="requestparam-pathparam-pathvariableç­‰æ³¨è§£åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#requestparam-pathparam-pathvariableç­‰æ³¨è§£åŒºåˆ«"><span><a href="https://blog.csdn.net/u011410529/article/details/66974974" target="_blank" rel="noopener noreferrer">@RequestParamï¼Œ@PathParamï¼Œ@PathVariableç­‰æ³¨è§£åŒºåˆ«<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></span></a></h1></blockquote><ul><li><h4 id="pathvariable-page" tabindex="-1"><a class="header-anchor" href="#pathvariable-page"><span>@PathVariable(&quot;page&quot;)</span></a></h4><ul><li><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/{page}.html&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">listPage</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;page&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> page<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> page<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>ä½¿ç”¨@RequestParamæ—¶ï¼ŒURLæ˜¯è¿™æ ·çš„ï¼šhttp://host:port/path?å‚æ•°å=å‚æ•°å€¼</p><p>ä½¿ç”¨@PathVariableæ—¶ï¼ŒURLæ˜¯è¿™æ ·çš„ï¼šhttp://host:port/path/å‚æ•°å€¼</p></li><li><h4 id="pathparam-å‘ç°postè¯·æ±‚çš„è¯åªèƒ½ç”¨è¿™ä¸ªæ¥æ‹¿å‚æ•°-æ³¨æ„å‚æ•°è¿‡é•¿æ‹¿ä¸åˆ°éœ€è¦ç”¨requestç±»æ‹¿" tabindex="-1"><a class="header-anchor" href="#pathparam-å‘ç°postè¯·æ±‚çš„è¯åªèƒ½ç”¨è¿™ä¸ªæ¥æ‹¿å‚æ•°-æ³¨æ„å‚æ•°è¿‡é•¿æ‹¿ä¸åˆ°éœ€è¦ç”¨requestç±»æ‹¿"><span>@PathParam å‘ç°postè¯·æ±‚çš„è¯åªèƒ½ç”¨è¿™ä¸ªæ¥æ‹¿å‚æ•° æ³¨æ„å‚æ•°è¿‡é•¿æ‹¿ä¸åˆ°éœ€è¦ç”¨requestç±»æ‹¿</span></a></h4><ul><li><p>Myï¼šåº”è¯¥æ˜¯Get URLæœ‰å¤§å°é™åˆ¶ï¼Ÿ ä¹Ÿä¸å¯¹requestä¸æ˜¯æ‹¿åˆ°äº†å—</p></li><li><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@PathParam</span><span class="token punctuation">(</span><span class="token string">&quot;imegse&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> imageBase64 <span class="token comment">//@PostMapping(&quot;/photo&quot;) æ‹¿ä¸åˆ°å‚æ•°</span>
<span class="token class-name">String</span> channel <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;imegse&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//èƒ½æ‹¿åˆ°</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul><hr><ul><li><h4 id="builder" tabindex="-1"><a class="header-anchor" href="#builder"><span>@Builder</span></a></h4><ul><li><p>Lombok annotationä¸ºä½ çš„ç±»ç”Ÿæˆç›¸å¯¹ç•¥å¾®å¤æ‚çš„æ„å»ºå™¨APIï¼Œæ”¾éšæ„å‚æ•°çš„æ„é€ å™¨ é“¾å¼è°ƒç”¨å°±è¡Œ</p></li><li><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">userName</span><span class="token punctuation">(</span><span class="token string">&quot;hh&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">passWord</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><h4 id="bean" tabindex="-1"><a class="header-anchor" href="#bean"><span>@Bean</span></a></h4><ul><li><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">//    @Autowired</span>
<span class="token comment">//    CacheProperties cacheProperties;  //å› ä¸ºä¸‹é¢æ˜¯ @Bean ç›´æ¥æ”¾å‚æ•°ç”¨å°±è¡Œï¼</span>
    <span class="token annotation punctuation">@Bean</span> <span class="token comment">//åŸæ¥@Beanæ³¨è§£æƒ³å®¹å™¨æ³¨å…¥å¯¹è±¡çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨å°†å®¹å™¨ä¸­å·²ç»æœ‰çš„å¯¹è±¡ä¼ å…¥åˆ°@Beanæ³¨è§£çš„æ–¹æ³•å‚æ•°ä¸­</span>
    <span class="token keyword">public</span> <span class="token class-name">RedisCacheConfiguration</span> <span class="token function">redisCacheConfiguration</span><span class="token punctuation">(</span><span class="token class-name">CacheProperties</span> cacheProperties<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//è¿™ä¸ªå‚æ•°èƒ½æ‹¿å€¼ï¼Ÿ  è¿™ä¸ªæ–¹æ³•å°±æ˜¯ç»™å®¹å™¨æ”¾ä¸œè¥¿ï¼Œæ–¹æ³•ä¼ çš„æ‰€æœ‰å‚æ•°æ‰€æœ‰å‚æ•°éƒ½ä¼šä»å®¹å™¨ä¸­è¿›è¡Œç¡®å®š  æ‰€ä»¥ä¼šè‡ªåŠ¨å»IOCä¸­æ‹¿</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><h4 id="getmapping" tabindex="-1"><a class="header-anchor" href="#getmapping"><span>@GetMapping</span></a></h4><ul><li><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">//åœºæ™¯ï¼šreturn	String å†…å®¹æ˜¯æ”¯ä»˜å®ä»˜æ¬¾é¡µé¢</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/aliPayOrder&quot;</span><span class="token punctuation">,</span>produces <span class="token operator">=</span> <span class="token string">&quot;text/html&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><h4 id="componentscan-com-example-springbootapplication-scanbasepackages-com-example" tabindex="-1"><a class="header-anchor" href="#componentscan-com-example-springbootapplication-scanbasepackages-com-example"><span>@ComponentScan(&quot;com.example&quot;) -&gt; @SpringBootApplication(scanBasePackages = &quot;com.example&quot;)</span></a></h4></li><li><h4 id="configuration-proxybeanmethods-false-é»˜è®¤æ˜¯true-å‘Šè¯‰springbootè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»-é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#configuration-proxybeanmethods-false-é»˜è®¤æ˜¯true-å‘Šè¯‰springbootè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»-é…ç½®æ–‡ä»¶"><span>@Configuration(proxyBeanMethods = false)//é»˜è®¤æ˜¯true //å‘Šè¯‰SpringBootè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±» == é…ç½®æ–‡ä»¶</span></a></h4><p>åº•å±‚ä¼šæœ‰éå¸¸å¤šè¿™æ ·çš„å†™æ³•ï¼Œä¸ºçš„å°±æ˜¯åŠ é€Ÿå®¹å™¨å¯åŠ¨è¿‡ç¨‹ï¼Œå‡å°‘åˆ¤æ–­ï¼ˆå‰æï¼šç±»ç»„ä»¶ä¹‹é—´æ— ä¾èµ–å…³ç³»ï¼‰</p><ul><li><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">MyConfig</span> bean <span class="token operator">=</span> run<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">MyConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bean<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//`com.example.boot.config.MyConfig$$EnhancerBySpringCGLIB$$1@38fc34fd`    é»˜è®¤æ˜¯Fullæ¨¡å¼ï¼Œæ¯ä¸€æ¬¡éƒ½ä»å®¹å™¨ä¸­æ‹¿       ç›¸å¯¹çš„è¿˜æœ‰Liteå³falseæ¨¡å¼ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆå«å› ä¸ºè¿™æ ·ä¸ç”¨å»å®¹å™¨ä¸­å¯¹ç…§æ¥ä¸€ä¸ªè¿”å›ä¸€ä¸ªï¼</span>
æœ€ä½³å®æˆ˜ï¼šåˆ«äººä¸ä¾èµ–è¿™äº›ç»„ä»¶ï¼ˆ<span class="token class-name">Person</span>é‡Œé¢æ‹¿<span class="token class-name">Pet</span>ï¼‰å°±ç»™è°ƒæˆ<span class="token boolean">false</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bean<span class="token punctuation">.</span><span class="token function">ss</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> bean<span class="token punctuation">.</span><span class="token function">ss</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æœ€ä½³å®æˆ˜ï¼š</p><ul><li><p>é…ç½® ç±»ç»„ä»¶ä¹‹é—´æ— ä¾èµ–å…³ç³»ç”¨Liteæ¨¡å¼åŠ é€Ÿå®¹å™¨å¯åŠ¨è¿‡ç¨‹ï¼Œå‡å°‘åˆ¤æ–­</p></li><li><p>é…ç½®ç±»ç»„ä»¶ä¹‹é—´æœ‰ä¾èµ–å…³ç³»ï¼Œæ–¹æ³•ä¼šè¢«è°ƒç”¨å¾—åˆ°ä¹‹å‰å•å®ä¾‹ç»„ä»¶ï¼Œç”¨Fullæ¨¡å¼</p></li></ul></li><li><p>Markï¼ï¼ï¼<mark>Beançš„åŠ è½½é¡ºåº</mark> åœ¨spring iocçš„è¿‡ç¨‹ä¸­ï¼Œ</p><ul><li>1ï¼‰ä¼˜å…ˆè§£æ@Componentï¼Œ@Serviceï¼Œ@Controller...æ³¨è§£çš„ç±»ã€‚</li><li>2ï¼‰å…¶æ¬¡è§£æé…ç½®ç±»ï¼Œä¹Ÿå°±æ˜¯@Configurationæ ‡æ³¨çš„ç±»</li><li>3ï¼‰æœ€åå¼€å§‹è§£æé…ç½®ç±»ä¸­å®šä¹‰çš„beanã€‚</li></ul></li></ul></li></ul><p>ä½†æ˜¯tomXXXçš„æ¡ä»¶æ³¨è§£ä¾èµ–çš„æ˜¯user01ï¼Œuser01æ˜¯è¢«å®šä¹‰çš„é…ç½®ç±»ä¸­çš„ï¼Œ æ‰€ä»¥æ­¤æ—¶é…ç½®ç±»çš„è§£ææ— æ³•ä¿è¯å…ˆåé¡ºåºï¼Œå°±ä¼šå‡ºç°ä¸ç”Ÿæ•ˆçš„æƒ…å†µã€‚ meï¼šæ‰€ä»¥æ‰ä¼šæœ‰conditionè¿™äº›ï¼Ÿ</p><ul><li><h4 id="importresource-classpath-beans-xml" tabindex="-1"><a class="header-anchor" href="#importresource-classpath-beans-xml"><span>@ImportResource(&quot;classpath:beans.xml&quot;)</span></a></h4><ul><li>è¿™é‡Œä¹‹æ‰€ä»¥è¦classpathï¼Œä¸ªäººç†è§£ï¼šresourcesä¸æ˜¯ç›¸å¯¹è·¯å¾„</li><li>æ€»æœ‰äº›è€jaråŒ…æˆ–å…¬å¸è€é…ç½®éœ€è¦çš„</li></ul></li><li><h4 id="controlleradvice" tabindex="-1"><a class="header-anchor" href="#controlleradvice"><span>@ControllerAdvice</span></a></h4><ul><li>åŸºäº AOP å®ç°ï¼Œä¸æ”¹å˜æºä»£ç å¢åŠ åŸåŠŸèƒ½</li></ul></li><li><h4 id="restcontrolleradvice" tabindex="-1"><a class="header-anchor" href="#restcontrolleradvice"><span>@RestControllerAdvice</span></a></h4><blockquote><p><code>@RestControllerAdvice</code>æ˜¯<code>@ControllerAdvice</code>çš„è¡ç”Ÿæ³¨è§£ï¼Œä¸“é—¨ç”¨äºå¤„ç†RESTfulé£æ ¼çš„æ§åˆ¶å™¨ã€‚ä¸<code>@ControllerAdvice</code>ç±»ä¼¼ï¼Œ ä½¿ç”¨<code>@RestControllerAdvice</code>çš„å¥½å¤„æ˜¯ï¼Œå®ƒä¸ä»…ä¼šå¤„ç†å¼‚å¸¸ï¼Œè¿˜ä¼šä»¥RESTfulé£æ ¼è¿”å›å“åº”ï¼Œè€Œä¸ä»…ä»…æ˜¯è§†å›¾ã€‚è¿™å¯¹äºæ„å»ºRESTful APIéå¸¸æ–¹ä¾¿ã€‚</p></blockquote><ul><li><p>@RestControllerAdvice æ˜¯ Spring MVC æä¾›çš„ä¸€ä¸ªæ³¨è§£ï¼Œ<strong>ç”¨äºç»Ÿä¸€å¤„ç†æ‰€æœ‰ Controller å±‚æŠ›å‡ºçš„å¼‚å¸¸</strong>ã€‚å½“ Controller å±‚æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ @RestControllerAdvice æ³¨è§£çš„ç±»æ¥æ•è·å¹¶å¤„ç†å¼‚å¸¸ï¼Œä»è€Œå¯¹å¼‚å¸¸è¿›è¡Œç»Ÿä¸€å¤„ç†ã€‚</p></li><li><p>@RestControllerAdvice æ³¨è§£çš„ç±»é€šå¸¸ä¼šåŒ…å«å¤šä¸ª @ExceptionHandler æ³¨è§£çš„æ–¹æ³•ï¼Œæ¯ä¸ª @ExceptionHandler æ³¨è§£çš„æ–¹æ³•ç”¨äºå¤„ç†ä¸åŒç±»å‹çš„å¼‚å¸¸ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ @RestControllerAdvice æ³¨è§£å¤„ç† RuntimeException ç±»å‹çš„å¼‚å¸¸</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@RestControllerAdvice</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GlobalExceptionHandler</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">RuntimeException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">handleRuntimeException</span><span class="token punctuation">(</span><span class="token class-name">RuntimeException</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span>
                <span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">INTERNAL_SERVER_ERROR</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token string">&quot;Internal Server Error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**æ€»ç»“ï¼š**é€šè¿‡ @RestControllerAdvice æ³¨è§£ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰ Controller å±‚æŠ›å‡ºçš„å¼‚å¸¸é›†ä¸­å¤„ç†ï¼Œé¿å…ä»£ç é‡å¤ï¼Œæé«˜ä»£ç å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚åŒæ—¶ï¼Œç”±äº @RestControllerAdvice æ³¨è§£æ˜¯åŸºäº AOP å®ç°çš„ï¼Œå› æ­¤å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ·»åŠ å…¨å±€å¼‚å¸¸å¤„ç†é€»è¾‘ï¼Œä¾‹å¦‚æ—¥å¿—è®°å½•ã€é‚®ä»¶é€šçŸ¥ç­‰ã€‚</p></li></ul></li><li><h4 id="servletcomponentscan" tabindex="-1"><a class="header-anchor" href="#servletcomponentscan"><span>@ServletComponentScan</span></a></h4><ul><li>Servletï¼ˆæ§åˆ¶å™¨ï¼‰ã€Filterï¼ˆè¿‡æ»¤å™¨ï¼‰ã€Listenerï¼ˆç›‘å¬å™¨ï¼‰å¯ä»¥ç›´æ¥é€šè¿‡@WebServletã€@WebFilterã€@WebListeneræ³¨è§£è‡ªåŠ¨æ³¨å†Œåˆ°Springå®¹å™¨ä¸­ï¼Œæ— éœ€å…¶ä»–ä»£ç ã€‚</li></ul></li></ul><h2 id="_2-æŠ€æœ¯ç‚¹" tabindex="-1"><a class="header-anchor" href="#_2-æŠ€æœ¯ç‚¹"><span>2ï¼‰æŠ€æœ¯ç‚¹</span></a></h2><h3 id="_1-ä¸€äº›å°ç‚¹" tabindex="-1"><a class="header-anchor" href="#_1-ä¸€äº›å°ç‚¹"><span>1ï¼‰ä¸€äº›å°ç‚¹</span></a></h3><ul><li><p>classpath å’Œ classpath* åŒºåˆ«ï¼š</p><ul><li>classpathï¼šåªä¼šåˆ°ä½ çš„classè·¯å¾„ä¸­æŸ¥æ‰¾æ‰¾æ–‡ä»¶ã€‚ classpath*ï¼šä¸ä»…åŒ…å«classè·¯å¾„ï¼Œè¿˜åŒ…æ‹¬jaræ–‡ä»¶ä¸­ï¼ˆclassè·¯å¾„ï¼‰è¿›è¡ŒæŸ¥æ‰¾</li></ul><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>é—®é¢˜æå‡ºï¼š
<span class="token comment">&lt;!-- æŒ‡å®šMyBatis Mapperæ–‡ä»¶çš„ä½ç½® --&gt;</span>    <span class="token comment">&lt;!-- æˆ‘å°±æ˜¯è¿™é‡Œé…é”™äº†æ‰¾äº†åŠå¤©ï¼ï¼ï¼æ³¨æ„åŠ ä¸Š /*.xml --&gt;</span>
<span class="token comment">&lt;!-- æå‡ºé—®é¢˜ï¼šåœ¨å¼•å…¥èµ„æºæ–‡ä»¶æ—¶ï¼Œclasspath ä»€ä¹ˆæ—¶å€™ç”¨ï¼Œä»€ä¹ˆæ—¶å€™ä¸ç”¨ï¼Ÿ  ä»¥å‰è¿™ä¸ªé”™è¯¯æˆ‘è¸©è¿‡ä¸¤æ¬¡å‘ï¼Œæ‰¾äº†å¾ˆä¹…ï¼ï¼ï¼ --&gt;</span>
<span class="token comment">&lt;!--çŒœæµ‹ï¼šå¼•ç”¨åŒ…æ—¶ä¸åŠ ï¼Œå¼•ç”¨å…·ä½“æ–‡ä»¶æ—¶å€™åŠ ï¼Ÿ--&gt;</span>

ç›®å‰çš„ç­”æ¡ˆï¼š
classpathï¼šåªä¼šåˆ°ä½ çš„classè·¯å¾„ä¸­æŸ¥æ‰¾æ‰¾æ–‡ä»¶;
classpath*ï¼šä¸ä»…åŒ…å«classè·¯å¾„ï¼Œè¿˜åŒ…æ‹¬jaræ–‡ä»¶ä¸­(classè·¯å¾„)è¿›è¡ŒæŸ¥æ‰¾ ---- å¤Ÿæ·±å…¥çš„å§
classpathè·¯å¾„æ˜¯æ¥å¼•ç”¨æ–‡ä»¶çš„ï¼Œåœ¨ç¼–è¯‘ç”Ÿæˆçš„é¡¹ç›®ä¸‹çš„bulid/classes/ ä¸‹å…·æœ‰çš„æ–‡ä»¶éƒ½æ˜¯classpath è·¯å¾„ä¸‹çš„æ–‡ä»¶ï¼Œéƒ½å¯ä»¥é€šè¿‡classpathï¼šæ–¹æ³•è·å–ã€‚
    å¦‚ä½•è·å–é¡¹ç›®ç±»ç¼–è¯‘åçš„è·¯å¾„
    **String path = ç±»å.class.getClassLoader().getResource(&quot;&quot;).getPath();**
&quot;**/&quot; è¡¨ç¤ºçš„æ˜¯ä»»æ„ç›®å½•ï¼› 
&quot;**/applicationContext-*.xml&quot; è¡¨ç¤ºä»»æ„ç›®å½•ä¸‹çš„ä»¥&quot;applicationContext-&quot;å¼€å¤´çš„XMLæ–‡ä»¶ã€‚ 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æˆ‘ download äº†upuporçš„å¼€æºé¡¹ç›®å‘ç°é¡¹ç›®é‡Œçš„æ•°æ®åº“æ•æ„Ÿä¿¡æ¯éƒ½æ˜¯ ${} æ–¹å¼ç»™çš„ï¼ï¼ï¼</p><ul><li><blockquote><p>åœ¨ Spring Boot é¡¹ç›®çš„ YAML é…ç½®æ–‡ä»¶ä¸­ï¼Œ<code>${}</code> æ˜¯ç”¨äºå¼•ç”¨å¤–éƒ¨å±æ€§æˆ–é…ç½®çš„å ä½ç¬¦ã€‚ä½ å¯ä»¥ä¸ºè¿™äº›å ä½ç¬¦æä¾›å…·ä½“çš„å€¼ï¼Œä»¥æ›¿æ¢é…ç½®æ–‡ä»¶ä¸­çš„ <code>${}</code> è¡¨è¾¾å¼ã€‚</p><p>æœ‰å‡ ç§æ–¹å¼å¯ä»¥ç»™ <code>${}</code> å ä½ç¬¦æä¾›å€¼ï¼š</p><ol><li><p>application.properties/application.yml æ–‡ä»¶ï¼šåœ¨ Spring Boot é¡¹ç›®çš„ <code>src/main/resources</code> ç›®å½•ä¸‹ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª <code>application.properties</code> æ–‡ä»¶ï¼ˆæˆ– <code>application.yml</code>ï¼Œæ ¹æ®ä½ çš„é€‰æ‹©ï¼‰æ¥æä¾›å±æ€§çš„å…·ä½“å€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨é…ç½®æ–‡ä»¶ä¸­æœ‰ <code>${my.property}</code> å ä½ç¬¦ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨ <code>application.properties</code> æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>my.property=å…·ä½“çš„å€¼
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>å‘½ä»¤è¡Œå‚æ•°ï¼šä½ å¯ä»¥åœ¨å¯åŠ¨é¡¹ç›®æ—¶é€šè¿‡å‘½ä»¤è¡Œå‚æ•°æ¥ä¼ é€’å±æ€§å€¼ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ Spring Boot é¡¹ç›®ï¼Œå¹¶ä¸º <code>${my.property}</code> æä¾›å…·ä½“å€¼ï¼š ã€idea Environment variables é‡Œé¢ç»™ä¹Ÿè¡Œï¼ï¼ï¼ã€‘</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>java -jar myproject.jar --my.property=å…·ä½“çš„å€¼
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>ç¯å¢ƒå˜é‡ï¼šä½ å¯ä»¥å°†å±æ€§å€¼è®¾ç½®ä¸ºç¯å¢ƒå˜é‡ï¼Œå¹¶åœ¨é¡¹ç›®å¯åŠ¨æ—¶è¯»å–è¿™äº›ç¯å¢ƒå˜é‡ã€‚ä¾‹å¦‚ï¼Œå°† <code>${my.property}</code> è®¾ç½®ä¸ºç¯å¢ƒå˜é‡ <code>MY_PROPERTY</code>ï¼Œç„¶ååœ¨é¡¹ç›®å¯åŠ¨æ—¶ï¼Œå®ƒå°†è‡ªåŠ¨è¯»å–è¯¥ç¯å¢ƒå˜é‡çš„å€¼ã€‚</p></li></ol><p>è¿™äº›æ˜¯æœ€å¸¸ç”¨çš„ç»™ <code>${}</code> å ä½ç¬¦æä¾›å€¼çš„æ–¹æ³•ã€‚ä½ å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©é€‚åˆçš„æ–¹å¼æ¥æä¾›å±æ€§çš„å…·ä½“å€¼ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ åœ¨ <code>application.properties</code> æ–‡ä»¶ä¸­å®šä¹‰äº†å±æ€§çš„é»˜è®¤å€¼ï¼Œé‚£ä¹ˆå½“æ²¡æœ‰å…¶ä»–æ–¹å¼æä¾›å±æ€§å€¼æ—¶ï¼Œå°†ä½¿ç”¨è¯¥é»˜è®¤å€¼ã€‚ä¾‹å¦‚ï¼š</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>my.property=é»˜è®¤å€¼
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœæ²¡æœ‰å…¶ä»–æ–¹å¼æä¾› <code>${my.property}</code> çš„å…·ä½“å€¼ï¼Œå®ƒå°†é»˜è®¤ä½¿ç”¨ &quot;é»˜è®¤å€¼&quot;ã€‚</p><p>å¸Œæœ›è¿™å¯ä»¥å¸®åŠ©ä½ ç»™ Spring Boot é¡¹ç›®çš„ YAML æ–‡ä»¶ä¸­çš„ <code>${}</code> å ä½ç¬¦æä¾›å…·ä½“çš„å€¼ã€‚å¦‚æœ‰è¿›ä¸€æ­¥çš„ç–‘é—®ï¼Œè¯·éšæ—¶æé—®ã€‚</p></blockquote></li></ul></li><li><h4 id="springboot-å› ä¸ºé»˜è®¤åŠ å…¥äº†slf4j-apiå’Œlogbackçš„ä¾èµ–-æ‰€ä»¥åªéœ€è¦æ·»åŠ lombokçš„ä¾èµ–å³å¯" tabindex="-1"><a class="header-anchor" href="#springboot-å› ä¸ºé»˜è®¤åŠ å…¥äº†slf4j-apiå’Œlogbackçš„ä¾èµ–-æ‰€ä»¥åªéœ€è¦æ·»åŠ lombokçš„ä¾èµ–å³å¯"><span>SpringBoot,å› ä¸ºé»˜è®¤åŠ å…¥äº†<mark>Slf4j-apiå’Œlogback</mark>çš„ä¾èµ–,æ‰€ä»¥åªéœ€è¦æ·»åŠ <a href="https://so.csdn.net/so/search?q=lombok&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">lombok<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>çš„ä¾èµ–å³å¯.</span></a></h4><ul><li>æ³¨æ„IDEA 2020.3ä»¥åŠä¹‹åçš„ç‰ˆæœ¬å†…ç½®äº†lombokæ’ä»¶</li></ul></li><li><p>åœ¨ Spring Boot ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <code>logging.level</code> å±æ€§æ¥é…ç½®ä¸åŒåŒ…æˆ–ç±»çš„æ—¥å¿—çº§åˆ«ã€‚</p><ul><li><p>é€šè¿‡é…ç½® Spring Boot çš„æ—¥å¿—çº§åˆ«ï¼Œæ‚¨å¯ä»¥åŒæ—¶æ§åˆ¶ MyBatis-Plus å’Œ MyBatis çš„æ—¥å¿—è¾“å‡ºã€‚</p></li><li><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">logging</span><span class="token punctuation">:</span>
  <span class="token key atrule">level</span><span class="token punctuation">:</span>
    <span class="token key atrule">com.zzq.gulimall</span><span class="token punctuation">:</span> DEBUG
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
<span class="token key atrule">logging</span><span class="token punctuation">:</span>
  <span class="token key atrule">level</span><span class="token punctuation">:</span>
    <span class="token key atrule">com.example.distributedlock.dao</span><span class="token punctuation">:</span> debug <span class="token comment">#ä¸€å®šè¦åŠ è¿™ä¸€è¡ŒæŒ‡å®šç›®å½•ï¼Œä¸ç„¶æŠ¥é”™</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><h4 id="spring-boot-2-é»˜è®¤è¿æ¥æ± hikaricp-é»‘å¡ä¸½-å…‰çš„æ„æ€å¾ˆå¿«-æ—¥æœ¬äººå‘æ˜ã€‚åŒºåˆ†druidè¿æ¥æ± ä¸ºç›‘æ§è€Œç”Ÿæ‰©å±•ç‚¹å¤š" tabindex="-1"><a class="header-anchor" href="#spring-boot-2-é»˜è®¤è¿æ¥æ± hikaricp-é»‘å¡ä¸½-å…‰çš„æ„æ€å¾ˆå¿«-æ—¥æœ¬äººå‘æ˜ã€‚åŒºåˆ†druidè¿æ¥æ± ä¸ºç›‘æ§è€Œç”Ÿæ‰©å±•ç‚¹å¤š"><span><mark>Spring Boot 2.+é»˜è®¤è¿æ¥æ± HikariCP</mark> â€é»‘å¡ä¸½â€œï¼Œå…‰çš„æ„æ€å¾ˆå¿« æ—¥æœ¬äººå‘æ˜ã€‚åŒºåˆ†Druidè¿æ¥æ± ä¸ºç›‘æ§è€Œç”Ÿæ‰©å±•ç‚¹å¤š..</span></a></h4></li><li><h4 id="spring-mvc-çš„é»˜è®¤jsonè§£æå™¨ä¾¿æ˜¯-jackson" tabindex="-1"><a class="header-anchor" href="#spring-mvc-çš„é»˜è®¤jsonè§£æå™¨ä¾¿æ˜¯-jackson"><span><mark>Spring MVC çš„é»˜è®¤jsonè§£æå™¨ä¾¿æ˜¯ Jackson</mark></span></a></h4><ul><li>å¦‚æœç”¨äº† Nacos ä¼šä¾èµ–å¯¼å…¥ fastjsonï¼ˆé›·ç¥ç”¨äº†è¿™ä¸ªï¼‰</li></ul></li><li><h4 id="å¿«é€Ÿå®šä½æŠ¥é”™åŸå› " tabindex="-1"><a class="header-anchor" href="#å¿«é€Ÿå®šä½æŠ¥é”™åŸå› "><span>å¿«é€Ÿå®šä½æŠ¥é”™åŸå› </span></a></h4><ul><li><img src="https://images.zzq8.cn/img/202210171647567.png" alt="image-20221017164745509" tabindex="0" loading="lazy"><figcaption>image-20221017164745509</figcaption></li></ul></li><li></li></ul><h3 id="_3-test-æµ‹è¯•ç±»" tabindex="-1"><a class="header-anchor" href="#_3-test-æµ‹è¯•ç±»"><span>3ï¼‰Test æµ‹è¯•ç±»ï¼š</span></a></h3><ul><li><h4 id="org-junit-jupiter-api-testå’Œorg-junit-teståŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#org-junit-jupiter-api-testå’Œorg-junit-teståŒºåˆ«"><span><mark><a href="https://blog.csdn.net/qq_36050981/article/details/119565383" target="_blank" rel="noopener noreferrer">org.junit.jupiter.api.Testå’Œorg.junit.TeståŒºåˆ«<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></mark></span></a></h4><ul><li>ç°åœ¨éœ€è¦çŸ¥é“ï¼ä¸»è¦æ˜¯ spring boot <mark>2.2ä¹‹å‰ä½¿ç”¨çš„æ˜¯ Junit4 ä¹‹åæ˜¯ Junit5</mark>ï¼Œè¿˜éœ€çŸ¥é“ä»–ä»¬ä¸¤ä¸ªæœ‰ä»€ä¹ˆåŒºåˆ«çœ‹ç½‘ç«™ï¼ <ul><li>éƒ½è¦ public</li><li>@RunWith</li></ul></li></ul></li><li><h4 id="å…³äº-runwith-springrunner-class-çš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#å…³äº-runwith-springrunner-class-çš„ä½œç”¨"><span><a href="https://blog.csdn.net/qq_21108099/article/details/111496005" target="_blank" rel="noopener noreferrer">å…³äº@RunWith(SpringRunner.class)çš„ä½œç”¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></span></a></h4><ul><li><p>SpringBoot æµ‹è¯•ç±» éœ€è¦ä»å®¹å™¨ä¸­è·å–å®ä¾‹æ˜¯éœ€è¦åŠ ä¸Šè¯¥æ³¨è§£ï¼Œå¦åˆ™ç©ºæŒ‡é’ˆï¼Œç®¡ä½ æ˜¯å•¥IDEã€‚è²Œä¼¼æ˜¯Junit4ç”¨çš„æ³¨è§£</p></li><li><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">//ä¸åŠ @RunWith(SpringRunner.class)å°±å–ä¸åˆ°å®¹å™¨ä¸­çš„ Bean</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">RestHighLevelClient</span> client<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>client<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//null</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><h4 id="å•å…ƒæµ‹è¯•ç±»ä¸­-åˆå§‹åŒ–æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#å•å…ƒæµ‹è¯•ç±»ä¸­-åˆå§‹åŒ–æ–¹æ³•"><span>å•å…ƒæµ‹è¯•ç±»ä¸­ï¼Œåˆå§‹åŒ–æ–¹æ³•</span></a></h4><ul><li><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">//å•å…ƒæµ‹è¯•ç±»ä¸­ï¼Œåˆå§‹åŒ–æ–¹æ³•    alt+insert SetUpMethod</span>
<span class="token comment">//è§†é¢‘ä¸­æ˜¯æµ‹ Jedis ç”¨è¿™ä¸ªæ–¹æ³•è¿ Redis</span>
<span class="token annotation punctuation">@BeforeEach</span>
<span class="token keyword">void</span> <span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul><h5 id="è¡¥å……-springboottest" tabindex="-1"><a class="header-anchor" href="#è¡¥å……-springboottest"><span><a href="https://blog.csdn.net/wwwwwww31311/article/details/115461920" target="_blank" rel="noopener noreferrer">è¡¥å……ï¼š@SpringBootTest<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></span></a></h5><p>æˆ‘ä»¬æ–°å»º SpringBoot ç¨‹åºå‘ç° src åŒ…å’Œ test åŒ…è·¯å¾„ä¸€å¼€å§‹åˆå§‹åŒ–å°±æ˜¯ä¸€æ ·çš„ï¼</p><ul><li>å› ä¸ºæµ‹è¯•ç±»åŒ…åå¾—å’Œä¸»å¯åŠ¨ç±»ä¸€è‡´æ‰èƒ½è·‘æµ‹è¯•ç±»</li><li>å¦‚æœä¸æƒ³ä¿®æ”¹åŒ…åï¼Œé‚£ä¹ˆéœ€è¦åœ¨æ³¨è§£ä¸ŠåŠ ä¸Š@SpringBootTest(classes = xxx.class) <ul><li>ä½†è¿™é‡Œä¼šäº§ç”Ÿé¢å¤–çš„é—®é¢˜ï¼Œå› ä¸ºæ­¤æ—¶springbootå·²ç»æŠŠè¯¥ç±»å½“æˆä¸€ä¸ªç‹¬ç«‹çš„æµ‹è¯•ç±»äº†ï¼Œè¿™æ„å‘³ç€è¿™ä¸ªæµ‹è¯•ç±»å¯¹åº”ç‹¬ç«‹çš„IOCå®¹å™¨ï¼Œæ‰€ä»¥æ­¤æ—¶æˆ‘ä»¬æ— æ³•æ³¨å…¥åˆ°mainåŒ…ä¸­çš„ç»„ä»¶ï¼Œæ¡ˆä¾‹å¦‚ä¸‹,mainåŒ…ä¸‹çš„è·¯å¾„æ˜¯com.sobot.demo7,è€ŒåŒç†ï¼ŒteståŒ…ä¸‹com.sobot.demo7è·¯å¾„ä¸‹æµ‹è¯•ç±»ï¼Œå¯ä»¥æ­£å¸¸è£…é…userMapperç»„ä»¶com.sobot.demo8è·¯å¾„ä¸‹æµ‹è¯•ç±»ï¼Œåˆ™æ ¹æœ¬æ— æ³•æ‰¾åˆ°userMapperè¿™ä¸ªç»„ä»¶ <ul><li><img src="https://img-blog.csdnimg.cn/f8be2ba0c5f64f779696924284214be8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5Z6D5Zy-546L5a2Q5pmX,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" tabindex="0" loading="lazy"><figcaption>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</figcaption></li></ul></li></ul></li></ul><h3 id="_4-æœ‰å‚æ•°çš„-bean-configurationæ³¨è§£" tabindex="-1"><a class="header-anchor" href="#_4-æœ‰å‚æ•°çš„-bean-configurationæ³¨è§£"><span><mark><a href="https://codeantenna.com/a/6mscWp9KMx" target="_blank" rel="noopener noreferrer">4ï¼‰æœ‰å‚æ•°çš„@Beanï¼Œ@Configurationæ³¨è§£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></mark></span></a></h3><blockquote><p>ï¼šï¼‰ä»¥å‰ç«Ÿç„¶ä¸çŸ¥é“</p></blockquote><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">//    @Autowired</span>
<span class="token comment">//    CacheProperties cacheProperties;  //å› ä¸ºä¸‹é¢æ˜¯ @Bean ç›´æ¥æ”¾å‚æ•°ç”¨å°±è¡Œï¼</span>

    <span class="token annotation punctuation">@Bean</span> <span class="token comment">//åŸæ¥@Beanæ³¨è§£æƒ³å®¹å™¨æ³¨å…¥å¯¹è±¡çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨å°†å®¹å™¨ä¸­å·²ç»æœ‰çš„å¯¹è±¡ä¼ å…¥åˆ°@Beanæ³¨è§£çš„æ–¹æ³•å‚æ•°ä¸­</span>
    <span class="token keyword">public</span> <span class="token class-name">RedisCacheConfiguration</span> <span class="token function">redisCacheConfiguration</span><span class="token punctuation">(</span><span class="token class-name">CacheProperties</span> cacheProperties<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//è¿™ä¸ªå‚æ•°èƒ½æ‹¿å€¼ï¼Ÿ  è¿™ä¸ªæ–¹æ³•å°±æ˜¯ç»™å®¹å™¨æ”¾ä¸œè¥¿ï¼Œæ–¹æ³•ä¼ çš„æ‰€æœ‰å‚æ•°æ‰€æœ‰å‚æ•°éƒ½ä¼šä»å®¹å™¨ä¸­è¿›è¡Œç¡®å®š  æ‰€ä»¥ä¼šè‡ªåŠ¨å»IOCä¸­æ‹¿</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-æ•°æ®æ ¡éªŒ" tabindex="-1"><a class="header-anchor" href="#_5-æ•°æ®æ ¡éªŒ"><span>5ï¼‰æ•°æ®æ ¡éªŒ</span></a></h3><p><a href="../gulimall/%E5%88%86%E5%B8%83%E5%BC%8F%E9%AB%98%E7%BA%A7#%E6%B3%A8%E5%86%8C%E6%B5%81%E7%A8%8B">åˆ†å¸ƒå¼é«˜çº§</a></p><h3 id="_6-æ‹¦æˆªå™¨" tabindex="-1"><a class="header-anchor" href="#_6-æ‹¦æˆªå™¨"><span>6ï¼‰æ‹¦æˆªå™¨</span></a></h3><p>å®ç°æ­¥éª¤:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>zzq<span class="token punctuation">.</span>gulimall<span class="token punctuation">.</span>cart<span class="token punctuation">.</span>intercept<span class="token punctuation">.</span></span>CartIntercept</span>   #ç¼–å†™æ‹¦æˆªå™¨
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CartIntercept</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span>
    
<span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>zzq<span class="token punctuation">.</span>gulimall<span class="token punctuation">.</span>cart<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span>GulimallWebConfig</span>    #æ³¨å†Œæ‹¦æˆªå™¨
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GulimallWebConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ä¸ºä»€ä¹ˆInterceptorRegistryä¸éœ€è¦è°ƒç”¨addPathPatterns(&quot;/**&quot;)ä¹Ÿå¯ä»¥æ‹¦æˆªæ‰€æœ‰è¯·æ±‚ æˆ‘åœ¨æºç çœ‹åˆ°çš„æ˜¯ private final List&lt;String&gt; includePatterns = new ArrayList(); ä¸èƒ½ç†è§£ä¸ºä»€ä¹ˆä¼šé»˜è®¤æ‹¦æˆªæ‰€æœ‰è¯·æ±‚</p><p>InterceptorRegistry æ˜¯ Spring æ¡†æ¶ä¸­ç”¨äºç®¡ç†æ‹¦æˆªå™¨çš„æ³¨å†Œè¡¨ï¼Œå…¶æœ¬èº«å¹¶ä¸å…·å¤‡æ‹¦æˆªè¯·æ±‚çš„èƒ½åŠ›ã€‚å®é™…ä¸Šï¼ŒInterceptorRegistry ä¸­çš„æ‹¦æˆªå™¨åœ¨æ‹¦æˆªè¯·æ±‚æ—¶ï¼Œæ˜¯ç”± HandlerMapping æ‰€ç®¡ç†çš„ HandlerExecutionChain ä¸­çš„æ‹¦æˆªå™¨é“¾æ¥è°ƒç”¨çš„ã€‚è€Œ HandlerMapping ä¸­çš„æ‹¦æˆªå™¨é“¾çš„è§¦å‘æ˜¯ç”± RequestMappingHandlerMapping å®ç°çš„ã€‚</p><p>åœ¨ Spring MVC ä¸­ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢« RequestMappingHandlerMapping å¤„ç†ï¼Œè€Œ RequestMappingHandlerMapping ä¼šåœ¨åˆå§‹åŒ–æ—¶è‡ªåŠ¨æ³¨å†Œä¸€ä¸ªæ‹¦æˆªå™¨ HandlerInterceptorAdapterï¼Œç”¨äºæ‹¦æˆªæ‰€æœ‰è¯·æ±‚ã€‚æ‰€ä»¥ï¼Œå³ä½¿æˆ‘ä»¬æ²¡æœ‰åœ¨æ‹¦æˆªå™¨ä¸­è°ƒç”¨ addPathPatterns(&quot;/**&quot;) æ–¹æ³•æ¥è®¾ç½®æ‹¦æˆªè·¯å¾„ï¼Œä¹Ÿèƒ½é»˜è®¤æ‹¦æˆªæ‰€æœ‰è¯·æ±‚ã€‚</p><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼Œå¹¶ä¸”åªæ‹¦æˆªéƒ¨åˆ†è¯·æ±‚ï¼Œå¯ä»¥ä½¿ç”¨ addPathPatterns æ–¹æ³•æ¥æŒ‡å®šæ‹¦æˆªè·¯å¾„ã€‚å¦‚æœéœ€è¦æ‹¦æˆªæ‰€æœ‰è¯·æ±‚ï¼Œåˆ™æ— éœ€è®¾ç½®æ‹¦æˆªè·¯å¾„ï¼ŒInterceptorRegistry ä¼šé»˜è®¤å°†æ‹¦æˆªå™¨æ·»åŠ åˆ°æ‹¦æˆªå™¨é“¾ä¸­ã€‚</p></blockquote><h3 id="_7-controlleræ–¹æ³•å¸¸ç”¨å‚æ•°" tabindex="-1"><a class="header-anchor" href="#_7-controlleræ–¹æ³•å¸¸ç”¨å‚æ•°"><span>7ï¼‰Controlleræ–¹æ³•å¸¸ç”¨å‚æ•°</span></a></h3><h4 id="_7-1-model-redirectattributes" tabindex="-1"><a class="header-anchor" href="#_7-1-model-redirectattributes"><span>7.1.Model / RedirectAttributes</span></a></h4><p>å¯ä»¥å¾€ Thymeleaf æºå¸¦å‚æ•°ï¼Œæ¨¡æ‹Ÿçš„ HttpSession</p><p>Model æ•°æ®æ˜¯åœ¨è¯·æ±‚åŸŸä¸­çš„ï¼ vs RedirectAttributes é‡å®šå‘è§†å›¾ï¼ˆaddFlashAttributeæ–¹æ³•ä»£è¡¨åªéœ€è¦å–ä¸€æ¬¡ï¼è·³è½¬å–åˆ°ååˆ·æ–°é¡µé¢å°±æ²¡äº† | addAttribute():å°†æ•°æ®æ”¾åœ¨urlåé¢ï¼‰</p><ul><li><p>é‡å®šå‘æºå¸¦æ•°æ®,åˆ©ç”¨sessionåŸç†.å°†æ•°æ®æ”¾åœ¨sessionä¸­.</p></li><li><p>åªè¦è·³åˆ°ä¸‹ä¸€ä¸ªé¡µé¢å–å‡ºè¿™ä¸ªæ•°æ®ä»¥å,sessioné‡Œé¢çš„æ•°æ®å°±ä¼šåˆ æ‰</p></li></ul><p><strong>é—®é¢˜ï¼šä½†æ˜¯ä»–æ˜¯åˆ©ç”¨çš„sessionåŸç†ï¼Œæ‰€ä»¥åæœŸæˆ‘ä»¬éœ€è¦è§£å†³åˆ†å¸ƒå¼çš„sessioné—®é¢˜</strong></p><h5 id="_8-ideaè®¾ç½®ç¨‹åºæ ¹ç›®å½•" tabindex="-1"><a class="header-anchor" href="#_8-ideaè®¾ç½®ç¨‹åºæ ¹ç›®å½•"><span>8ï¼‰ideaè®¾ç½®ç¨‹åºæ ¹ç›®å½•</span></a></h5><p>åœ¨ IntelliJ IDEA ä¸­ï¼Œä½ å¯ä»¥è®¾ç½®ç¨‹åºçš„æ ¹ç›®å½•ï¼ˆWorking Directoryï¼‰æ¥å½±å“ç¨‹åºè¿è¡Œæ—¶çš„é»˜è®¤è·¯å¾„ã€‚è¿™ä¸ªè®¾ç½®å†³å®šäº†ç¨‹åºåœ¨å¯åŠ¨æ—¶çš„é»˜è®¤å·¥ä½œç›®å½•ã€‚</p><p>ä»¥ä¸‹æ˜¯åœ¨ IntelliJ IDEA ä¸­è®¾ç½®ç¨‹åºæ ¹ç›®å½•çš„æ­¥éª¤ï¼š</p><ol><li>æ‰“å¼€ IntelliJ IDEAï¼Œå¹¶æ‰“å¼€ä½ çš„é¡¹ç›®ã€‚</li><li>åœ¨é¡¶éƒ¨èœå•æ ä¸­ï¼Œé€‰æ‹© &quot;Run&quot;ï¼ˆè¿è¡Œï¼‰èœå•ï¼Œç„¶åé€‰æ‹© &quot;Edit Configurations&quot;ï¼ˆç¼–è¾‘é…ç½®ï¼‰ã€‚</li><li>åœ¨å¼¹å‡ºçš„çª—å£ä¸­ï¼Œé€‰æ‹©ä½ è¦ä¿®æ”¹çš„è¿è¡Œé…ç½®ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ª Java Application æˆ–ä¸€ä¸ª Spring Boot Applicationï¼‰ã€‚</li><li>åœ¨å³ä¾§é¢æ¿ä¸­ï¼Œæ‰¾åˆ° &quot;Configuration&quot; é€‰é¡¹å¡ã€‚</li><li>åœ¨ &quot;Working directory&quot;ï¼ˆå·¥ä½œç›®å½•ï¼‰éƒ¨åˆ†ï¼Œé€‰æ‹© &quot;Specified&quot;ï¼ˆæŒ‡å®šï¼‰é€‰é¡¹ã€‚</li><li>ç‚¹å‡» &quot;...&quot; æŒ‰é’®ï¼Œé€‰æ‹©ä½ æƒ³è¦è®¾ç½®ä¸ºç¨‹åºæ ¹ç›®å½•çš„ç›®å½•ã€‚</li><li>ç¡®è®¤è®¾ç½®åï¼Œç‚¹å‡» &quot;OK&quot; ä¿å­˜ä¿®æ”¹ã€‚</li></ol><p>ç°åœ¨ï¼Œå½“ä½ è¿è¡Œè¿™ä¸ªé…ç½®æ—¶ï¼Œç¨‹åºå°†ä½¿ç”¨ä½ æŒ‡å®šçš„ç›®å½•ä½œä¸ºæ ¹ç›®å½•ã€‚åœ¨ç¨‹åºä¸­ä½¿ç”¨ç›¸å¯¹è·¯å¾„æ—¶ï¼Œå®ƒä»¬å°†ä»¥è¿™ä¸ªæ ¹ç›®å½•ä¸ºåŸºå‡†ã€‚</p><p>è¯·æ³¨æ„ï¼Œè¿™ä¸ªè®¾ç½®ä»…å½±å“ç¨‹åºåœ¨ IntelliJ IDEA ä¸­è¿è¡Œæ—¶çš„é»˜è®¤å·¥ä½œç›®å½•ï¼Œå¹¶ä¸ä¼šæ”¹å˜ç¨‹åºåœ¨å®é™…éƒ¨ç½²æˆ–è¿è¡Œç¯å¢ƒä¸­çš„è¡Œä¸ºã€‚åœ¨å®é™…éƒ¨ç½²æ—¶ï¼Œç¨‹åºçš„æ ¹ç›®å½•å¯èƒ½ç”±éƒ¨ç½²ç¯å¢ƒæˆ–å‘½ä»¤è¡Œå‚æ•°å†³å®šã€‚</p><h3 id="_8-å®ç°applicationcontextawareæ¥å£çš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_8-å®ç°applicationcontextawareæ¥å£çš„ä½œç”¨"><span>8) å®ç°ApplicationContextAwareæ¥å£çš„ä½œç”¨</span></a></h3><p>å®ç° <code>ApplicationContextAware</code> æ¥å£çš„ä½œç”¨æ˜¯å…è®¸ä¸€ä¸ªç±»è·å–å¯¹ Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ï¼ˆ<code>ApplicationContext</code>ï¼‰çš„è®¿é—®æƒé™ã€‚é€šè¿‡å®ç°è¯¥æ¥å£ï¼Œç±»å¯ä»¥è·å¾—å¯¹åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡çš„å¼•ç”¨ï¼Œä»è€Œèƒ½å¤Ÿè¿›è¡Œæ›´é«˜çº§åˆ«çš„æ“ä½œï¼Œä¾‹å¦‚è·å–å’Œç®¡ç† Spring Beanã€å‘å¸ƒåº”ç”¨ç¨‹åºäº‹ä»¶ç­‰ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œå½“ä¸€ä¸ªç±»å®ç°äº† <code>ApplicationContextAware</code> æ¥å£ï¼Œå®ƒå¿…é¡»å®ç°æ¥å£ä¸­çš„ <code>setApplicationContext()</code> æ–¹æ³•ã€‚Spring åœ¨åˆå§‹åŒ–è¯¥ç±»çš„å®ä¾‹æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ <code>setApplicationContext()</code> æ–¹æ³•ï¼Œå¹¶å°†åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä½œä¸ºå‚æ•°ä¼ é€’ç»™è¯¥æ–¹æ³•ã€‚é€šè¿‡è¯¥æ–¹æ³•ï¼Œç±»å¯ä»¥å°†ä¼ é€’çš„åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡å­˜å‚¨ä¸ºä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œä»¥ä¾¿åœ¨éœ€è¦æ—¶è¿›è¡Œè®¿é—®ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">ApplicationContext</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">ApplicationContextAware</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBean</span> <span class="token keyword">implements</span> <span class="token class-name">ApplicationContextAware</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>applicationContext <span class="token operator">=</span> applicationContext<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> clazz<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>clazz<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>å³å¯åœ¨ <span class="token class-name">CcEmailUtils</span><span class="token punctuation">.</span><span class="token keyword">class</span> ç­‰æ²¡æœ‰è¢«<span class="token class-name">Spring</span>ç®¡ç†çš„å·¥å…·ç±»ä¸­ä½¿ç”¨<span class="token class-name">Spring</span>å¯¹è±¡
    <span class="token class-name">TrueSend</span> trueSend <span class="token operator">=</span> <span class="token class-name">SpringContextUtils</span><span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">TrueSend</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡å®ç° <code>ApplicationContextAware</code> æ¥å£ï¼Œç±»å¯ä»¥ç›´æ¥è®¿é—®åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ï¼Œä»è€Œè·å¾—æ›´å¤šçš„çµæ´»æ€§å’ŒåŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è·å–å…¶ä»– Bean çš„å¼•ç”¨ã€å‘å¸ƒåº”ç”¨ç¨‹åºäº‹ä»¶ã€è®¿é—®é…ç½®å±æ€§ç­‰ã€‚</p><h3 id="_9-spring-é™æ€èµ„æºå¯ç”¨ç‰ˆæœ¬æ§åˆ¶" tabindex="-1"><a class="header-anchor" href="#_9-spring-é™æ€èµ„æºå¯ç”¨ç‰ˆæœ¬æ§åˆ¶"><span>9ï¼‰Spring-é™æ€èµ„æºå¯ç”¨ç‰ˆæœ¬æ§åˆ¶</span></a></h3><blockquote><p>upupor blog Springç‰ˆæœ¬æ§åˆ¶yaml+MinIO+Thymeleaf</p></blockquote><p>çŠ¹è®°æ¯•ä¸šç¬¬ä¸€å¹´æ—¶ï¼Œå…¬å¸æ¯æ¬¡å‘å¸ƒå®Œæˆåï¼Œéƒ½ä¼šåœ¨ä¸€ä¸ªç¾¤é‡Œé€šçŸ¥ã€ç‰ˆæœ¬æ›´æ–°ï¼Œå„éƒ¨é—¨æ¸…ç†ç¼“å­˜ï¼Œæœ‰é—®é¢˜åŠæ—¶åé¦ˆã€‘ä¹‹ç±»çš„è¯ã€‚å½’æ ¹ç»“åº•å°±æ˜¯èµ„æºç¼“å­˜çš„é—®é¢˜ï¼Œæµè§ˆå™¨ä¼šå°†è¯·æ±‚åˆ°çš„é™æ€èµ„æºï¼Œå¦‚JSã€CSSç­‰æ–‡ä»¶ç¼“å­˜åˆ°ç”¨æˆ·æœ¬åœ°ï¼Œå½“ç”¨æˆ·å†æ¬¡è®¿é—®æ—¶å°±ä¸éœ€è¦å†æ¬¡è¯·æ±‚è¿™äº›èµ„æºäº†ï¼Œä»¥æ­¤ä¹Ÿæ˜¯æå‡äº†ç”¨æˆ·ä½“éªŒã€‚ä½†æ˜¯ä¹Ÿæ­£æ˜¯å› ä¸ºè¿™äº›èµ„æºç¼“å­˜ï¼Œå¯¼è‡´å®¢æˆ·ç«¯çš„é™æ€æ–‡ä»¶å¾€å¾€ä¸æ˜¯å½“å‰æœ€æ–°ç‰ˆæœ¬ã€‚åæ¥æœ‰åŒäº‹å¢åŠ äº†æ—¶é—´æˆ³ã€éšæœºæ•°ç­‰ï¼Œç¡®å®è¿™ä¹Ÿè§£å†³äº†å®¢æˆ·ç«¯ç¼“å­˜çš„é—®é¢˜ï¼Œä½†æ˜¯å´åˆå¸¦æ¥äº†æ–°çš„éº»çƒ¦ï¼Œå¯¼è‡´æ¯æ¬¡è®¿é—®éƒ½è¦è¯·æ±‚æœåŠ¡å™¨ï¼Œæ— å½¢ä¸­å¢åŠ äº†æœåŠ¡å™¨çš„å‹åŠ›ã€‚</p><p>https://www.cnblogs.com/laoyeye/p/10034617.html</p><blockquote><p>Q&amp;A</p><link th:href="${ossStatic} + @{/semantic-ui/semantic.min.css}" type="text/css" rel="stylesheet"><p>Thymeleafè¿™é‡Œ@{}ä¼šå¯¼è‡´ .css ä¹‹å‰ä¼šæ‹¼æ¥ä¸€ä¸²-99e54d8e467b26ef66ff560393a00091 ä¸ºä»€ä¹ˆï¼Ÿ</p></blockquote><p>Thymeleafä¸­çš„<code>@{}</code>è¯­æ³•ç”¨äºç”ŸæˆURLï¼Œå¹¶åœ¨URLä¸­é™„åŠ ä¸Šä¸‹æ–‡è·¯å¾„ã€‚åœ¨ä½ æä¾›çš„ç¤ºä¾‹ä¸­ï¼Œ<code>.css</code>ä¹‹å‰é™„åŠ çš„<code>-99e54d8e467b26ef66ff560393a00091</code>æ˜¯ä¸€ä¸ªå“ˆå¸Œå€¼ï¼Œå¯èƒ½æ˜¯ç”±äºä½ çš„åº”ç”¨ç¨‹åºæˆ–Thymeleafçš„èµ„æºç®¡ç†ç­–ç•¥è€Œç”Ÿæˆçš„ã€‚</p><p>è¿™ç§å“ˆå¸Œå€¼çš„æ·»åŠ é€šå¸¸æ˜¯ä¸ºäº†è§£å†³æµè§ˆå™¨ç¼“å­˜çš„é—®é¢˜ã€‚å½“é™æ€èµ„æºï¼ˆå¦‚CSSæ–‡ä»¶ï¼‰å‘ç”Ÿæ›´æ”¹æ—¶ï¼Œä¸ºäº†ç¡®ä¿æµè§ˆå™¨åŠ è½½æœ€æ–°çš„ç‰ˆæœ¬è€Œä¸ä½¿ç”¨ç¼“å­˜ï¼Œå¯ä»¥é€šè¿‡åœ¨URLä¸­æ·»åŠ å“ˆå¸Œå€¼æ¥åˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„URLã€‚å½“èµ„æºå‘ç”Ÿæ›´æ”¹æ—¶ï¼Œå“ˆå¸Œå€¼ä¹Ÿä¼šéšä¹‹å˜åŒ–ï¼Œä»è€Œå¼ºåˆ¶æµè§ˆå™¨é‡æ–°åŠ è½½èµ„æºã€‚</p><p>åœ¨ä½ çš„ç¤ºä¾‹ä¸­ï¼Œ<code>${ossStatic}</code>æ˜¯ä¸€ä¸ªå˜é‡ï¼Œå¯èƒ½åŒ…å«äº†èµ„æºçš„åŸºæœ¬URLè·¯å¾„ã€‚è€Œ<code>@{/semantic-ui/semantic.min.css}</code>åˆ™ä½¿ç”¨äº†Thymeleafçš„URLè¡¨è¾¾å¼ç”Ÿæˆç›¸å¯¹äºå½“å‰è¯·æ±‚ä¸Šä¸‹æ–‡çš„CSSæ–‡ä»¶URLã€‚ç»“åˆèµ·æ¥ï¼Œç”Ÿæˆçš„URLå°†æ˜¯<code>${ossStatic}</code>çš„å€¼åŠ ä¸Š<code>/semantic-ui/semantic.min.css</code>ï¼Œå¹¶é™„åŠ ä¸Šå“ˆå¸Œå€¼ã€‚</p><p>å¦‚æœä½ æƒ³å»é™¤å“ˆå¸Œå€¼çš„é™„åŠ ï¼Œå¯ä»¥æ£€æŸ¥ä½ çš„åº”ç”¨ç¨‹åºæˆ–Thymeleafçš„èµ„æºç®¡ç†é…ç½®ï¼Œçœ‹æ˜¯å¦æœ‰ç›¸å…³é…ç½®é¡¹æ§åˆ¶å“ˆå¸Œå€¼çš„æ·»åŠ ã€‚å…·ä½“é…ç½®æ–¹å¼å¯èƒ½å› ä½ æ‰€ä½¿ç”¨çš„æ¡†æ¶æˆ–å·¥å…·è€Œå¼‚ã€‚</p><p>æ˜¯ç”±Springé…ç½®æ§åˆ¶çš„ï¼š ä½¿ç”¨MD5ç”Ÿæˆç‰ˆæœ¬å·è¿›è¡Œç®¡ç† <mark>èµ„æºå-md5 æ–¹å¼</mark></p><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token comment"># é™æ€èµ„æºå¯ç”¨ç‰ˆæœ¬æ§åˆ¶</span>
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
    <span class="token key atrule">chain</span><span class="token punctuation">:</span>
      <span class="token key atrule">strategy</span><span class="token punctuation">:</span>
        <span class="token comment">#MD5å®ç°</span>
        <span class="token key atrule">content</span><span class="token punctuation">:</span>
          <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
          <span class="token key atrule">paths</span><span class="token punctuation">:</span> /<span class="token important">**</span>
          
          
æ³¨ï¼šç¬¬äºŒç§ã€ç‰ˆæœ¬å·å®ç°
<span class="token key atrule">spring</span><span class="token punctuation">:</span> 
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
    <span class="token key atrule">chain</span><span class="token punctuation">:</span>
      <span class="token key atrule">strategy</span><span class="token punctuation">:</span>
        <span class="token key atrule">fixed</span><span class="token punctuation">:</span>
          <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
          <span class="token key atrule">paths</span><span class="token punctuation">:</span> /mods/admin/<span class="token important">*.js</span>
          <span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token number">20181128</span>
&lt;script src=&quot;/20181128/mods/admin/login.js&quot;<span class="token punctuation">&gt;</span>&lt;/script<span class="token punctuation">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ps: MD5ï¼ˆMessage Digest Algorithm 5ï¼‰æ˜¯ä¸€ç§å“ˆå¸Œå‡½æ•°ï¼Œç”¨äºå°†ä»»æ„é•¿åº¦çš„æ•°æ®æ˜ å°„ä¸ºå›ºå®šé•¿åº¦çš„å“ˆå¸Œå€¼ã€‚å› æ­¤ï¼Œå¯ä»¥è¯´MD5æ˜¯é€šè¿‡å“ˆå¸Œå®ç°çš„ã€‚</p><p><strong>æ³¨</strong> å®ç°è¯¥åŠŸèƒ½çš„æ˜¯<code>ResourceUrlEncodingFilter</code>ï¼Œå®ƒåœ¨æ¨¡æ¿è¿è¡ŒæœŸä¼šé‡å†™èµ„æºé“¾æ¥ï¼ŒThymeleafï¼ŒVelocityå’ŒFreeMarkerä¼šè‡ªåŠ¨é…ç½®è¯¥filterï¼ŒJSPéœ€è¦æ‰‹åŠ¨é…ç½®ã€‚å…¶ä»–æ¨¡æ¿å¼•æ“è¿˜æ²¡è‡ªåŠ¨æ”¯æŒï¼Œä¸è¿‡ä½ å¯ä»¥ä½¿ç”¨<a href="http://docs.spring.io/spring/docs/4.3.3.RELEASE/javadoc-api/org/springframework/web/servlet/resource/ResourceUrlProvider.html" target="_blank" rel="noopener noreferrer">ResourceUrlProvider<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>è‡ªå®šä¹‰æ¨¡å—å®æˆ–å¸®åŠ©ç±»ã€‚</p><h4 id="_9-1-minioå¤„ç†" tabindex="-1"><a class="header-anchor" href="#_9-1-minioå¤„ç†"><span>9.1.MinIOå¤„ç†</span></a></h4><p>upuporåšä¸»å¤„ç†æ–¹å¼ä¸º py æ”¹åç”¨CLIä¸Šä¼ æ–‡ä»¶</p><p>æˆ‘è¿™é‡Œå°±ç®€å•ç²—æš´çš„æŠŠ MinIO çš„æ–‡ä»¶å…¨éƒ¨æ”¹å GPTï¼šé€’å½’åœ°å¤„ç†å½“å‰æ–‡ä»¶å¤¹åŠå…¶æ‰€æœ‰å­æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ï¼Œå¹¶æ›´æ”¹å®ƒä»¬çš„æ–‡ä»¶åï¼ˆåœ¨æ–‡ä»¶åçš„åç¼€åå‰é™„åŠ &quot;-&lt;æ–‡ä»¶çš„MD5å€¼&gt;&quot;ï¼‰</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code><span class="token keyword">import</span> os
<span class="token keyword">import</span> hashlib

<span class="token keyword">def</span> <span class="token function">calculate_md5</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">:</span>
    md5_hash <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">&#39;rb&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        <span class="token keyword">for</span> chunk <span class="token keyword">in</span> <span class="token builtin">iter</span><span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">4096</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">b&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            md5_hash<span class="token punctuation">.</span>update<span class="token punctuation">(</span>chunk<span class="token punctuation">)</span>
    <span class="token keyword">return</span> md5_hash<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">rename_files_with_md5</span><span class="token punctuation">(</span>folder_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># å®šä¹‰è¦å¤„ç†çš„åç¼€ååˆ—è¡¨</span>
    allowed_extensions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;.svg&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.webp&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.js&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.css&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.png&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.jpeg&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.jpg&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.ico&#39;</span><span class="token punctuation">]</span>

    <span class="token keyword">for</span> root<span class="token punctuation">,</span> dirs<span class="token punctuation">,</span> files <span class="token keyword">in</span> os<span class="token punctuation">.</span>walk<span class="token punctuation">(</span>folder_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> filename <span class="token keyword">in</span> files<span class="token punctuation">:</span>
            file_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>root<span class="token punctuation">,</span> filename<span class="token punctuation">)</span>
            file_name<span class="token punctuation">,</span> file_ext <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>splitext<span class="token punctuation">(</span>filename<span class="token punctuation">)</span>

            <span class="token comment"># æ£€æŸ¥æ–‡ä»¶åç¼€åæ˜¯å¦åœ¨å…è®¸çš„åˆ—è¡¨ä¸­</span>
            <span class="token keyword">if</span> file_ext<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">in</span> allowed_extensions<span class="token punctuation">:</span>
                md5_value <span class="token operator">=</span> calculate_md5<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span>
                new_filename <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>file_name<span class="token punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token punctuation">{</span>md5_value<span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span>file_ext<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
                new_file_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>root<span class="token punctuation">,</span> new_filename<span class="token punctuation">)</span>
                os<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> new_file_path<span class="token punctuation">)</span>

<span class="token comment">## è·å–å½“å‰æ–‡ä»¶å¤¹è·¯å¾„</span>
current_folder <span class="token operator">=</span> os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">## è°ƒç”¨å‡½æ•°é€’å½’å¤„ç†æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶</span>
rename_files_with_md5<span class="token punctuation">(</span>current_folder<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10-springboot-é…ç½®åŠ è½½ä¼˜å…ˆçº§è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#_10-springboot-é…ç½®åŠ è½½ä¼˜å…ˆçº§è¯¦è§£"><span>10. <a href="https://blog.csdn.net/lazycheerup/article/details/122257003" target="_blank" rel="noopener noreferrer">SpringBoot é…ç½®åŠ è½½ä¼˜å…ˆçº§è¯¦è§£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></span></a></h3><h4 id="_1-åŠ è½½ä½ç½®ä¸é¡ºåº" tabindex="-1"><a class="header-anchor" href="#_1-åŠ è½½ä½ç½®ä¸é¡ºåº"><span>1. åŠ è½½ä½ç½®ä¸é¡ºåº</span></a></h4><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>file:./config/
file:./
classpath:/config/
classpath:/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>file: æŒ‡å½“å‰é¡¹ç›®æ ¹ç›®å½•</li><li>classpath: æŒ‡å½“å‰é¡¹ç›®çš„resourcesç›®å½•</li></ul><h4 id="_2-q-a" tabindex="-1"><a class="header-anchor" href="#_2-q-a"><span>2. Q&amp;A</span></a></h4><p>Q: springbooté¡¹ç›®åŒæ—¶æœ‰application.propertieså’Œapplication-default.propertiesé…ç½®æ–‡ä»¶ï¼Œå¯åŠ¨åº”ç”¨ä¸¤ä¸ªéƒ½ä¼šç”Ÿæ•ˆå—</p><p>A: æ˜¯çš„ï¼ŒSpring Bootåº”ç”¨ç¨‹åºåŒæ—¶æ‹¥æœ‰application.propertieså’Œapplication-default.propertiesé…ç½®æ–‡ä»¶æ—¶ï¼Œå¯åŠ¨åº”ç”¨ç¨‹åºæ—¶ä¼šåŒæ—¶ç”Ÿæ•ˆã€‚</p><p>å…ˆåé¡ºåºå¦‚ä¸‹ï¼š</p><p>application.properties application-{active}.propertiesï¼ˆä¾‹å¦‚ï¼Œapplication-dev.propertiesã€application-prod.propertiesï¼‰ application-default.properties</p><p>è¯¦ç»†ï¼š</p><blockquote><p><strong>ç»¼ä¸Šï¼Œæœ¬åœ°åŠNacosé…ç½®ä¸­å¿ƒå…±åŒåŠ è½½é¡ºåºä¸º</strong>ï¼š</p><ol><li>bootstrap.yaml</li><li>bootstrap.properties</li><li>bootstrap-{profile}.yaml</li><li>bootstrap-{profile}.properties</li><li>application.yaml</li><li>application.properties</li><li>application-{profile}.yaml</li><li>application-{profile}.properties</li><li>nacosé…ç½®ä¸­å¿ƒå…±äº«é…ç½®ï¼ˆé€šè¿‡spring.cloud.nacos.config.shared-configsæŒ‡å®šï¼‰</li><li>Nacosé…ç½®ä¸­å¿ƒè¯¥æœåŠ¡é…ç½®ï¼ˆé€šè¿‡spring.cloud.nacos.config.prefixå’Œspring.cloud.nacos.config.file-extensionæŒ‡å®šï¼‰</li><li>Nacosé…ç½®ä¸­å¿ƒè¯¥æœåŠ¡-{profile}é…ç½®ï¼ˆé€šè¿‡spring.cloud.nacos.config.prefixå’Œspring.cloud.nacos.config.file-extensionã€ä»¥åŠspring.profiles.activeæŒ‡å®šï¼‰</li></ol><p><strong>å› æ­¤ï¼Œé…ç½®ç”Ÿæ•ˆè¦†ç›–å…³ç³»ï¼š</strong></p><p>å¯¹äºkeyåç›¸åŒï¼ŒååŠ è½½ä¼šè¦†ç›–æ‰å‰åŠ è½½ï¼Œæ•…è€Œæœ€ç»ˆä¸ºååŠ è½½çš„é…ç½®é¡¹ç”Ÿæ•ˆï¼</p><p>å¯¹äºkeyåä¸åŒï¼Œåˆ™ç›´æ¥ç”Ÿæ•ˆï¼ˆä¼šåŠ è½½ï¼Œä½†ä¸ä¼šè¢«è¦†ç›–ï¼‰ï¼›</p><p><strong>æ³¨æ„ï¼šä¸èƒ½ç†è§£ä¸ºæ–‡ä»¶çº§æ•´ä½“è¦†ç›–ï¼Œè€Œä»…æ˜¯åŒåkeyä¼šè¢«ååŠ è½½çš„é”®å€¼è¦†ç›–ã€‚</strong></p><p>å®æµ‹ application-default.properties è¦†ç›– application.properties</p></blockquote><p>ps:</p><ul><li><p>ä¹Ÿå°±æ˜¯è¯´å¦‚æœæ²¡æœ‰æŒ‡å®š {active} &amp; å¦‚æœæœ‰ default é‚£ä¹ˆå®ƒå°±ä¼šç”Ÿæ•ˆ</p></li><li><p>å¦‚æœä½ åœ¨ <code>application.properties</code> ä¸­è®¾ç½®äº† <code>spring.profiles.active=dev</code>ï¼Œé‚£ä¹ˆ <code>application-default.properties</code> çš„å±æ€§å€¼å°†ä¸ä¼šç”Ÿæ•ˆï¼Œè€Œæ˜¯ä¼šæ ¹æ®å½“å‰æ´»åŠ¨çš„é…ç½®æ–‡ä»¶æ¥åŠ è½½å¯¹åº”çš„å±æ€§ã€‚</p></li><li><p>å› æ­¤ï¼Œapplication.propertiesæ–‡ä»¶çš„ä¼˜å…ˆçº§é«˜äºapplication-default.propertiesæ–‡ä»¶ã€‚åœ¨åŒä¸€ä¸ªåŒ…ä¸‹ï¼Œå¦‚æœå­˜åœ¨åŒåçš„å±æ€§ï¼Œåˆ™åè€…ä¼šè¦†ç›–å‰è€…ï¼ˆ<mark>æ²¡æœ‰activeçš„è¯ä¸¤è€…éƒ½æ˜¯ä¼šç”Ÿæ•ˆçš„</mark>ï¼‰</p></li></ul><h2 id="_3-spring-å¾ªç¯ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_3-spring-å¾ªç¯ä¾èµ–"><span>3ï¼‰Spring å¾ªç¯ä¾èµ–</span></a></h2><blockquote><p>PSï¼šå…¶å®æ­£ç¡®ç­”æ¡ˆæ˜¯å¼€å‘äººå‘˜åšå¥½è®¾è®¡ï¼Œåˆ«è®©Beanå¾ªç¯ä¾èµ–ï¼Œä½†æ˜¯æ²¡åŠæ³•ï¼Œé¢ è¯•å®˜ä¸æƒ³å¬è¿™ä¸ªã€‚</p><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå•ä¾‹Beanåˆå§‹åŒ–å®Œæˆï¼Œè¦ç»å†ä¸‰æ­¥ï¼š<code>å®ä¾‹åŒ–ã€å±æ€§èµ‹å€¼ã€åˆå§‹åŒ–</code> ä½¿ç”¨ã€é”€æ¯</p><p><strong>æ³¨å…¥å°±å‘ç”Ÿåœ¨ç¬¬äºŒæ­¥ï¼Œå±æ€§èµ‹å€¼ï¼Œç»“åˆè¿™ä¸ªè¿‡ç¨‹ï¼ŒSpring é€šè¿‡<code>ä¸‰çº§ç¼“å­˜</code>è§£å†³äº†å¾ªç¯ä¾èµ–ï¼š</strong> é‡‡ç”¨äº†**â€œ<code>æå‰æš´éœ²</code>â€**çš„ç­–ç•¥</p><ol><li>ä¸€çº§ç¼“å­˜ : Map singletonObjectsï¼Œå•ä¾‹æ± ï¼Œç”¨äºä¿å­˜å®ä¾‹åŒ–ã€å± æ€§èµ‹å€¼ï¼ˆæ³¨å…¥ï¼‰ã€åˆå§‹åŒ–å®Œæˆçš„ bean å®ä¾‹</li><li>äºŒçº§ç¼“å­˜ : Map earlySingletonObjectsï¼Œæ—©æœŸæ›å…‰å¯¹è±¡ï¼Œç”¨äºä¿å­˜å®ä¾‹åŒ–å®Œæˆçš„ bean å®ä¾‹</li><li>ä¸‰çº§ç¼“å­˜ : Map&gt; singletonFactoriesï¼Œæ—©æœŸæ›å…‰å¯¹è±¡å·¥å‚ï¼Œç”¨äºä¿å­˜ bean åˆ›å»ºå·¥å‚ï¼Œä»¥ä¾¿äºåé¢æ‰©å±•æœ‰æœºä¼šåˆ›å»ºä»£ç†å¯¹è±¡ã€‚</li></ol></blockquote><p>æ˜¯ä»€ä¹ˆï¼š</p><blockquote><p>åœ¨ Spring åº”ç”¨ç¨‹åºä¸­ï¼Œä¸€ä¸ª Bean å¯ä»¥ä¾èµ–äºå¦ä¸€ä¸ª Beanã€‚å½“ä¸€ä¸ª Bean ä¾èµ–äºå¦ä¸€ä¸ª Bean æ—¶ï¼ŒSpring ä¼šåœ¨å®¹å™¨ä¸­æŸ¥æ‰¾å¹¶æ³¨å…¥è¯¥ Beanï¼Œä»¥æ»¡è¶³å½“å‰ Bean çš„éœ€æ±‚ã€‚è¿™ç§ä¾èµ–å…³ç³»å¯ä»¥æ˜¯å•å‘çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å¾ªç¯çš„ã€‚å¾ªç¯ä¾èµ–æŒ‡çš„æ˜¯ä¸¤ä¸ªæˆ–å¤šä¸ª Bean ä¹‹é—´ç›¸äº’ä¾èµ–çš„æƒ…å†µã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ª Beanï¼šBean A å’Œ Bean Bã€‚Bean A ä¾èµ–äº Bean Bï¼Œè€Œ Bean B ä¹Ÿä¾èµ–äº Bean Aã€‚è¿™ç§æƒ…å†µä¸‹ï¼ŒSpring å®¹å™¨ä¼šåœ¨å®ä¾‹åŒ– Bean A å’Œ Bean B æ—¶å‘ç°å¾ªç¯ä¾èµ–ï¼Œå› ä¸ºå®ƒä»¬ç›¸äº’ä¾èµ–ï¼Œæ— æ³•å…ˆåˆ›å»ºä¸€ä¸ª Beanï¼Œç„¶åæ³¨å…¥å¦ä¸€ä¸ª Beanã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒSpring æä¾›äº†ä¸€ä¸ªæœºåˆ¶ï¼Œç§°ä¸ºâ€œå¾ªç¯ä¾èµ–è§£æâ€ã€‚åœ¨å¾ªç¯ä¾èµ–è§£ææœŸé—´ï¼ŒSpring å®¹å™¨ä¼šåˆ›å»ºä¸€ä¸ª Bean çš„â€œæ—©æœŸå®ä¾‹â€ï¼Œç„¶åæ³¨å…¥å®ƒæ‰€ä¾èµ–çš„ Bean çš„å¼•ç”¨ã€‚ç„¶åï¼ŒSpring ä¼šç»§ç»­åˆ›å»ºä¾èµ–äºå½“å‰ Bean çš„å…¶ä»– Beanï¼Œç›´åˆ°åˆ›å»ºå®Œæ•´ä¸ª Bean å›¾ï¼Œç„¶åå°†è¿™äº› Bean å®ä¾‹åŒ–å¹¶æ³¨å…¥å®ƒä»¬æ‰€ä¾èµ–çš„ Beanã€‚</p><p>æ€»çš„æ¥è¯´ï¼ŒSpring çš„å¾ªç¯ä¾èµ–è§£ææœºåˆ¶å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜å¤„ç†å¾ªç¯ä¾èµ–çš„æƒ…å†µï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿‡å¤šçš„å¾ªç¯ä¾èµ–å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ï¼Œå¹¶ä¸”åœ¨è§£æè¿‡ç¨‹ä¸­ä¹Ÿå¯èƒ½å‡ºç°ä¸€äº›ä¸å¯é¢„æµ‹çš„é—®é¢˜ã€‚å› æ­¤ï¼Œåœ¨è®¾è®¡ Spring åº”ç”¨ç¨‹åºæ—¶ï¼Œåº”è¯¥å°½å¯èƒ½å‡å°‘å¾ªç¯ä¾èµ–çš„ä½¿ç”¨ï¼Œå¹¶åˆç†è®¾è®¡ Bean ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</p></blockquote><p>å¾ªç¯ä¾èµ–è§£ææ˜¯æŒ‡ Spring æ¡†æ¶ä¸­è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜çš„è¿‡ç¨‹ã€‚å¾ªç¯ä¾èµ–æŒ‡çš„æ˜¯ä¸¤ä¸ªæˆ–å¤šä¸ª Bean ä¹‹é—´ç›¸äº’ä¾èµ–çš„æƒ…å†µï¼Œè¿™ä¼šå¯¼è‡´åœ¨ Bean å®ä¾‹åŒ–æ—¶å‡ºç°æ— é™é€’å½’çš„é—®é¢˜ï¼Œä»è€Œå¯¼è‡´åº”ç”¨ç¨‹åºå¯åŠ¨å¤±è´¥ã€‚</p><p>åœ¨ Spring å®¹å™¨ä¸­ï¼Œ<strong>Bean çš„åˆ›å»ºåˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼šå®ä¾‹åŒ–å’Œåˆå§‹åŒ–</strong>ã€‚åœ¨å®ä¾‹åŒ–é˜¶æ®µï¼ŒSpring ä¼šä¸º Bean åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼›åœ¨åˆå§‹åŒ–é˜¶æ®µï¼ŒSpring ä¼šè°ƒç”¨ Bean çš„æ„é€ å‡½æ•°ã€Setter æ–¹æ³•å’Œå…¶ä»–åˆå§‹åŒ–æ–¹æ³•ï¼Œå°† Bean å®ä¾‹åŒ–å¹¶åˆå§‹åŒ–ã€‚</p><p>åœ¨è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜æ—¶ï¼ŒSpring é‡‡ç”¨äº†â€œæå‰æš´éœ²â€çš„ç­–ç•¥ã€‚å…·ä½“æ¥è¯´ï¼Œå½“ Spring å®¹å™¨åœ¨å®ä¾‹åŒ–ä¸€ä¸ª Bean æ—¶ï¼Œå¦‚æœå‘ç°è¯¥ Bean ä¾èµ–äºå¦ä¸€ä¸ªè¿˜æœªåˆ›å»ºçš„ Beanï¼Œé‚£ä¹ˆ Spring ä¼šå…ˆä¸ºä¾èµ–çš„ Bean åˆ›å»ºä¸€ä¸ªâ€œæ—©æœŸæš´éœ²çš„åŠæˆå“å®ä¾‹â€ï¼Œç„¶åå°†å…¶æ³¨å…¥åˆ°å½“å‰ Bean ä¸­ã€‚è¿™ä¸ªâ€œæ—©æœŸæš´éœ²çš„åŠæˆå“å®ä¾‹â€æ˜¯ä¸€ä¸ªæœªå®Œæˆåˆå§‹åŒ–çš„ Bean å®ä¾‹ï¼Œå®ƒåªåŒ…å«å½“å‰ Bean çš„ä¾èµ–é¡¹ï¼Œè¿˜æ²¡æœ‰å®Œæˆåˆå§‹åŒ–ã€‚å½“æ‰€æœ‰ Bean å®ä¾‹éƒ½åˆ›å»ºå®Œæˆåï¼ŒSpring å®¹å™¨ä¼šæŒ‰ç…§ä¾èµ–å…³ç³»å°†è¿™äº›â€œåŠæˆå“å®ä¾‹â€é€ä¸ªè¿›è¡Œåˆå§‹åŒ–ï¼Œä»è€Œå®Œæˆ Bean å®ä¾‹åŒ–å’Œåˆå§‹åŒ–çš„è¿‡ç¨‹ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¾ªç¯ä¾èµ–è§£æçš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‡ºç°æ­»å¾ªç¯çš„æƒ…å†µï¼Œå› æ­¤ Spring å®¹å™¨ä¼šè®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ä¸º 50 çš„è§£ææ·±åº¦é™åˆ¶ï¼Œé˜²æ­¢æ— é™å¾ªç¯ã€‚å¦‚æœè¶…è¿‡äº†è¿™ä¸ªé™åˆ¶ï¼ŒSpring ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œæç¤ºå­˜åœ¨å¾ªç¯ä¾èµ–çš„é—®é¢˜ã€‚</p><h2 id="_4-äº‹ä»¶é©±åŠ¨-eventlistener" tabindex="-1"><a class="header-anchor" href="#_4-äº‹ä»¶é©±åŠ¨-eventlistener"><span>4)äº‹ä»¶é©±åŠ¨-@EventListener</span></a></h2><p>ç¬”è®°ï¼šhttps://www.cnblogs.com/dafengdeai/articles/17073114.html</p><p>è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1Cd4y1q7Vm/?spm_id_from=333.337.search-card.all.click&amp;vd_source=0f3bf62c50d57c4a7d85b89b4d2633e0</p><p>æ›´å¥½çš„è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1Wa4y1477d?p=3&amp;vd_source=0f3bf62c50d57c4a7d85b89b4d2633e0</p><blockquote><p><mark>Springã€SpringBootå¸¸ç”¨æ‰©å±•ç‰¹æ€§ä¹‹äº‹ä»¶é©±åŠ¨</mark> çœ‹ä»£ç demo Spring Boot 2 é¡¹ç›®</p><p>ä¸€èˆ¬æ­é…ä»¥ä¸‹ä¸¤ä¸ªæ³¨è§£ä¸€èµ·ä½¿ç”¨ï¼š <strong>@EventListener @Async</strong></p><ol><li>@0rderæŒ‡å®šæ‰§è¡Œé¡ºåºåœ¨åŒæ­¥çš„æƒ…å†µä¸‹ç”Ÿæ•ˆ çœ‹è§†é¢‘ä¹Ÿå¯ä»¥æ­é…è¿™ä¸ªæ³¨è§£ï¼ŒåŠ ä¸ªæƒé‡ å‡å¦‚å¤šä¸ªListeneræ¶ˆè´¹è°å…ˆ</li><li>@Async å¼‚æ­¥æ‰§è¡Œéœ€è¦ @EnableAsync å¼€å¯å¼‚æ­¥</li></ol></blockquote><blockquote><p>äº‹ä»¶é©±åŠ¨:å³è·Ÿéšå½“å‰æ—¶é—´ç‚¹ä¸Šå‡ºç°çš„äº‹ä»¶,è°ƒåŠ¨å¯ç”¨èµ„æº,æ‰§è¡Œç›¸å…³ä»»åŠ¡,ä½¿ä¸æ–­å‡ºç°çš„é—®é¢˜å¾—ä»¥è§£å†³,é˜²æ­¢äº‹åŠ¡å †ç§¯. å¦‚:æ³¨å†Œè´¦æˆ·æ—¶ä¼šæ”¶åˆ°çŸ­ä¿¡éªŒè¯ç ,ç«è½¦å‘è½¦å‰æ”¶åˆ°æé†’,é¢„å®šé…’åº—åæ”¶åˆ°çŸ­ä¿¡é€šçŸ¥ç­‰.å¦‚:æµå®½å™¨ä¸­ç‚¹å‡»æŒ‰é’®è¯·æ±‚åå°,é¼ æ ‡ç‚¹å‡»å˜åŒ–å†…å®¹,é”®ç›˜è¾“å…¥æ˜¾ç¤ºæ•°æ®,æœåŠ¡æ¥æ”¶è¯·æ±‚ååˆ†å‘è¯·æ±‚ç­‰.åœ¨è§£å†³ä¸Šè¿°é—®é¢˜æ—¶,åº”ç”¨ç¨‹åºæ˜¯ç”±&quot;äº‹ä»¶é©±åŠ¨è¿è¡Œçš„,è¿™ç±»ç¨‹åºåœ¨ç¼–å†™æ—¶å¾€å¾€å¯ä»¥é‡‡ç”¨ç›¸åŒçš„æ¨¡å‹å®ç°,æˆ‘ä»¬å¯ä»¥å°†è¿™ç§ç¼–ç¨‹æ¨¡å‹ç§°ä¸ºäº‹ä»¶é©±åŠ¨æ¨¡å‹. (PS:äº‹ä»¶é©±åŠ¨æ¨¡å‹å…¶å®æ˜¯ä¸€ç§æŠ½è±¡æ¨¡å‹,ç”¨äºå¯¹ç”±å¤–éƒ¨äº‹ä»¶é©±åŠ¨ç³»ç»Ÿä¸šåŠ¡é€»è¾‘è¿™ç±»åº”ç”¨ç¨‹åºè¿›è¡Œå»ºæ¨¡.)</p></blockquote><p>debugèµ°åˆ°ä¸€æ­¥ï¼Œä¸æ‡‚</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@Resource</span>
<span class="token keyword">private</span> <span class="token class-name">ApplicationEventPublisher</span> eventPublisher<span class="token punctuation">;</span>

<span class="token comment">//UNKNOWN @FunctionalInterfaceè¿™é‡Œçš„ä½œç”¨æ˜¯ä»€ä¹ˆ          @EventListeneræ³¨è§£ï¼ï¼ï¼ï¼ï¼ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</span>
eventPublisher<span class="token punctuation">.</span><span class="token function">publishEvent</span><span class="token punctuation">(</span>sendEmailEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>åæ¥æ‡‚äº†ï¼Œä¸Šé¢æ˜¯å‘å¸ƒäº‹ä»¶äº†              æœ‰ç›¸å¯¹äºçš„æ–¹æ³•ç›‘å¬æ¶ˆè´¹è¿™ä¸ªäº‹ä»¶ï¼š<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
    <span class="token annotation punctuation">@EventListener</span>
    <span class="token annotation punctuation">@Async</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendEmail</span><span class="token punctuation">(</span><span class="token class-name">EmailEvent</span> emailEvent<span class="token punctuation">)</span> 
    
<span class="token constant">PS</span>ï¼šæ–¹æ³•å‚æ•°éœ€è¦å’Œå‘å¸ƒ sendEmailEvent ç±»å‹å¯¹åº”ï¼Œ   è¿™æ ·æ‰æ˜¯ä¸€ä¸€å¯¹åº”æ¶ˆè´¹
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><mark>é‡ç‚¹å°±æ˜¯è¿™ä¸‰ä¸ªç±»ï¼Œææ¸…å°±è¡Œï¼ï¼ï¼å¯ä»¥çœ‹è‡ªå·±å†™çš„ä»£ç  æ³¨æ„ï¼šApplicationEvent å¯ä»¥ä¸å®ç°æ‰€ä»¥é‡å¿ƒå…¶å®å°±ä¸¤ä¸ªç±»</mark></p><ol><li>Springäº‹ä»¶é©±åŠ¨æœ€åŸºæœ¬çš„ä½¿ç”¨ <code>ApplicationEventPublisher</code>,<code>ApplicationEvent</code>,<code>ApplicationListener</code> ï¼ˆSpringæŠ½è±¡å‡ºäº†è¿™åŸºæœ¬çš„ä¸‰ä¸ªã€‚ äº‹ä»¶ç”Ÿäº§æ–¹ã€äº‹ä»¶ã€äº‹ä»¶æ¶ˆè´¹æ–¹ï¼‰</li><li>ApplicotionEventPublisher å­ç±» <code>ApplicationContext</code> ï¼ˆåœ¨å¯åŠ¨ç±»ä¸­è¿™ä¸ªå¸¸ç”¨ä¸€äº›applicationContext.publishEvent(new ApplicationEvent(this){})ï¼‰</li><li>äº‹ä»¶æºã€ç›‘å¬å™¨éœ€è¦è¢«springç®¡ç†</li><li>ç›‘å¬å™¨éœ€è¦å®ç°ApplicationListener&lt;ApplicotionEvent&gt; xd: å¯æ³¨è§£ï¼</li><li><strong>å¯ä½“ç°äº‹ä»¶æºå’Œç›‘å¬å™¨ä¹‹é—´çš„æ¾è€¦åˆä»…ä¾èµ–springã€ApplicationEvent</strong>ï¼ˆå‘å¸ƒã€ç›‘å¬ä¸¤ä¸ªç±»ä¸­éƒ½æ²¡æœ‰å¦ä¸€ä¸ªçš„å¼•ç”¨ï¼ï¼‰</li></ol><p>XDï¼š</p><ol><li><p>publisher-ç”Ÿäº§è€…ï¼Œ Listenerï¼ˆæ³¨è§£åˆ°æ–¹æ³•ï¼‰-æ¶ˆè´¹è€… publishEventå‡ æ¬¡ï¼Œlistenerå°±ä¼šæ¶ˆè´¹å‡ æ¬¡</p></li><li><p>ApplicationEvent å¯ä»¥ä¸å®ç°ï¼Œçœ‹é¡¶å±‚çš„è¿™ä¸ªæ¥å£æºç å…¶å®ä¹Ÿè½¬æˆäº† Objectï¼Œä½†æ˜¯æŒ‰è§„èŒƒæ³¨é‡Šæ¥è¯´å¸Œæœ›æ‰€æœ‰çš„äº‹ä»¶ç±»éƒ½æœ€å¥½å®ç° ApplicationEvent</p><ul><li><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">ApplicationEventPublisher</span><span class="token punctuation">.</span><span class="token keyword">class</span>

<span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">publishEvent</span><span class="token punctuation">(</span><span class="token class-name">ApplicationEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">publishEvent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">)</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
	

<span class="token comment">//æ‰€ä»¥äº‹ä»¶ç±»æ²¡æœ‰extends ApplicationEventä¹Ÿè¡Œå…¶å®èµ°çš„æ˜¯è¿™é‡Œ</span>
<span class="token keyword">void</span> <span class="token function">publishEvent</span><span class="token punctuation">(</span><span class="token class-name">Object</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ol><h2 id="_5-springmvcçš„æ‰§è¡Œæµç¨‹" tabindex="-1"><a class="header-anchor" href="#_5-springmvcçš„æ‰§è¡Œæµç¨‹"><span>5ï¼‰SpringMVCçš„æ‰§è¡Œæµç¨‹</span></a></h2><ol><li>ç”¨æˆ·å‘èµ·è¯·æ±‚ï¼Œè¯·æ±‚å…ˆè¢« Servlet æ‹¦æˆªè½¬å‘ç»™ Spring MVC æ¡†æ¶</li><li>Spring MVC é‡Œé¢çš„ DispatcherSerlvet æ ¸å¿ƒæ§åˆ¶å™¨ï¼Œä¼šæ¥æ”¶åˆ°è¯·æ±‚å¹¶è½¬å‘ç»™HandlerMapping</li><li>HandlerMapping è´Ÿè´£è§£æè¯·æ±‚ï¼Œæ ¹æ®è¯·æ±‚ä¿¡æ¯å’Œé…ç½®ä¿¡æ¯æ‰¾åˆ°åŒ¹é…çš„ Controllerç±»ï¼Œä¸è¿‡è¿™é‡Œå¦‚æœæœ‰é…ç½®æ‹¦æˆªå™¨ï¼Œå°±ä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œæ‹¦æˆªå™¨é‡Œé¢çš„ preHandleæ–¹æ³•</li><li>æ‰¾åˆ°åŒ¹é…çš„ Controller ä»¥åï¼ŒæŠŠè¯·æ±‚å‚æ•°ä¼ é€’ç»™ Controller é‡Œé¢çš„æ–¹æ³•</li><li>Controller ä¸­çš„æ–¹æ³•æ‰§è¡Œå®Œä»¥åï¼Œä¼šè¿”å›ä¸€ä¸ª ModeAndViewï¼Œè¿™é‡Œé¢ä¼šåŒ…æ‹¬è§†å›¾åç§°å’Œéœ€è¦ä¼ é€’ç»™è§†å›¾çš„æ¨¡å‹æ•°æ®</li><li>è§†å›¾è§£æå™¨æ ¹æ®åç§°æ‰¾åˆ°è§†å›¾ï¼Œç„¶åæŠŠæ•°æ®æ¨¡å‹å¡«å……åˆ°è§†å›¾é‡Œé¢å†æ¸²æŸ“æˆ Html å†…å®¹è¿”å›ç»™å®¢æˆ·ç«¯</li></ol><h2 id="_6-cors-è·¨åŸŸ" tabindex="-1"><a class="header-anchor" href="#_6-cors-è·¨åŸŸ"><span>6ï¼‰CORS è·¨åŸŸ</span></a></h2><blockquote><p>1995å¹´ï¼ŒåŒæºæ”¿ç­–ç”± Netscape å…¬å¸å¼•å…¥æµè§ˆå™¨ã€‚ç›®å‰ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½å®è¡Œè¿™ä¸ªæ”¿ç­–</p><p><strong>å…¶å®ï¼Œå‡†ç¡®çš„æ¥è¯´ï¼Œè·¨åŸŸæœºåˆ¶æ˜¯é˜»æ­¢äº†æ•°æ®çš„è·¨åŸŸè·å–ï¼Œä¸æ˜¯é˜»æ­¢è¯·æ±‚å‘é€ã€‚</strong></p></blockquote><h4 id="ç›®çš„-è§£å†³springbootè·¨åŸŸè¯·æ±‚çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#ç›®çš„-è§£å†³springbootè·¨åŸŸè¯·æ±‚çš„é—®é¢˜"><span>ç›®çš„ï¼šè§£å†³springbootè·¨åŸŸè¯·æ±‚çš„é—®é¢˜</span></a></h4><h5 id="ç¬¬ä¸€ç§-corsconfig" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸€ç§-corsconfig"><span>ç¬¬ä¸€ç§ ï¼ˆCorsConfig ï¼‰</span></a></h5><p>é…ç½® @Bean CorsFilter.class å®ç°å…¨å±€è·¨åŸŸ,è‡ªå®šä¹‰å¯ä»¥è®¿é—®çš„åœ°å€</p><h5 id="ç¬¬äºŒç§-æ³¨è§£æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#ç¬¬äºŒç§-æ³¨è§£æ–¹å¼"><span>ç¬¬äºŒç§ï¼šæ³¨è§£æ–¹å¼</span></a></h5><p>@CrossOrigin</p><h2 id="oo-ç¢°åˆ°è¿‡çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#oo-ç¢°åˆ°è¿‡çš„é—®é¢˜"><span>OOï¼‰ç¢°åˆ°è¿‡çš„é—®é¢˜</span></a></h2><blockquote><p>é…ç½®æ–‡ä»¶çƒ­éƒ¨ç½²ï¼šå› ä¸ºè¿™ä¸ªBeanæ˜¯å¯åŠ¨æ—¶åŠ è½½çš„ï¼Œå¹¶ä¸æ˜¯è¿è¡Œæ—¶å€™å®æ—¶æ‹¿</p></blockquote><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token comment">#spring cache</span>
  <span class="token key atrule">cache</span><span class="token punctuation">:</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> redis
    <span class="token key atrule">redis</span><span class="token punctuation">:</span>
      <span class="token key atrule">time-to-live</span><span class="token punctuation">:</span> <span class="token number">100000</span> <span class="token comment">#è¿™é‡Œæˆ‘æƒ³çƒ­éƒ¨ç½²ï¼Œæä¸€ä¸‹åˆ  jrebel+devtools éƒ½ä¸è¡Œè¿˜å¾—é‡å¯é¡¹ç›®</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>é™æ€èµ„æºè®¿é—®ä¸åˆ°ï¼Œå› ä¸ºåŠ äº†ä¸Šä¸‹æ–‡è·¯å¾„</p></blockquote><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token comment">#ä¼šå¯¼è‡´é—®é¢˜</span>
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">servlet</span><span class="token punctuation">:</span>
    <span class="token key atrule">context-path</span><span class="token punctuation">:</span> /yigo
    
<span class="token comment">#æš‚æ—¶ç”¨çš„æ˜¯è¿™ä¸ªè§£å†³</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">mvc</span><span class="token punctuation">:</span>
    <span class="token key atrule">static-path-pattern</span><span class="token punctuation">:</span> /static/<span class="token important">**</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><blockquote><p>æœªè§£å†³ï¼šçˆ¶ Moduleæœ‰</p><p><a href="https://www.cnblogs.com/wandoupeas/p/spring-boot-configuration-processor-not-configured.html#!comments" target="_blank" rel="noopener noreferrer">ç½‘ä¸Šè¿˜æœ‰ä¸ªè§£å†³æ–¹æ³•ä¸ç†è§£ä½†å¯è¡Œ!&lt;path&gt;<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> çœ‹ä¸‹é¢ä¼šå‡ºå…¶å®ƒé—®é¢˜</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code>çˆ¶æœ‰è¿™ä¸ªæŒ‰é“ç†å­å¼•å…¥çˆ¶åº”è¯¥ä¹Ÿæœ‰
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-configuration-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>


ä½†æ˜¯å­å¿…é¡»è‡ªå·±å¯¼å…¥å¹¶åŠ ä¸ª optional æ‰å¯ä»¥
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-configuration-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>@importå…¬å…±æ¨¡å—çš„å®ä½“ç±»å¯¼è‡´lombokçš„æ³¨è§£å¤±æ•ˆ Gulimallæœªè§£å†³ä¸åšäº†ï¼Œæ˜¯åšåˆ°é™æµçªç„¶å°±è¿™ä¸ªé—®é¢˜ä¸åšäº†</p></blockquote><figure><img src="https://images.zzq8.cn/img/202302111407769.png" alt="image-20230211140746713" tabindex="0" loading="lazy"><figcaption>image-20230211140746713</figcaption></figure><p>ä»Šå¤©é‡æ–°å¯¼å…¥è¿™ä¸ªé¡¹ç›®æ—¶ï¼Œçœ‹åˆ° idea çš„è¿™ä¸ªæŠ¥é”™çªç„¶é†’æ‚Ÿï¼ï¼ï¼çœ‹ä¸Šé¢ç¬”è®°å½“æ—¶ä¸ºä»€ä¹ˆç”¨å®ƒçš„åœºæ™¯</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>                    æœ‰è¿™ä¸ªæ³¨è§£ä¼šå¯¼è‡´ lombok æ³¨è§£ä¸èƒ½æ­£å¸¸ç¼–è¯‘ï¼ï¼ï¼è¦ä¹ˆåŠ è¿›æ¥è¦ä¹ˆå»æ‰è¿™ä¸ªæ³¨è§£ï¼<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>                    <span class="token generics"><span class="token punctuation">&lt;</span>annotationProcessorPaths<span class="token punctuation">&gt;</span></span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>                        <span class="token generics"><span class="token punctuation">&lt;</span>path<span class="token punctuation">&gt;</span></span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>                            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>                            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>configuration<span class="token operator">-</span>processor<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>                            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.1</span><span class="token number">.8</span><span class="token punctuation">.</span><span class="token constant">RELEASE</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>                        <span class="token operator">&lt;</span><span class="token operator">/</span>path<span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>annotationProcessorPaths<span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><blockquote><p>å¤šé…ç½®æ¿€æ´»é—®é¢˜ï¼šactive profiles åªè¦å†™applicationåé¢çš„åå­—å°±è¡Œï¼Œå†™å…¨äº†åè€Œå¤±æ•ˆï¼ï¼ï¼ https://segmentfault.com/q/1010000042312154 ä¹Ÿå¯ --spring.profiles.active=app-bpdev (ç­‰åŒäºåœ¨ideaä¸­é…ç½® å¦‚ä¸‹å›¾ä½ç½®)</p></blockquote><figure><img src="https://images.zzq8.cn/img/202308020858808.png" alt="image-20230802085814446" tabindex="0" loading="lazy"><figcaption>image-20230802085814446</figcaption></figure><h2 id="ç©è½¬-spring-å…¨å®¶æ¡¶" tabindex="-1"><a class="header-anchor" href="#ç©è½¬-spring-å…¨å®¶æ¡¶"><span><a href="https://time.geekbang.org/course/intro/100023501" target="_blank" rel="noopener noreferrer">ç©è½¬ Spring å…¨å®¶æ¡¶<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></span></a></h2><blockquote><p>è¿› title link çœ‹è¯¾ç¨‹ç›®å½•ã€è¯¾ç¨‹ä»‹ç»</p></blockquote><p>å¹³æ¿é—®é¢˜ï¼š</p><p>springboot datasourceè‡ªåŠ¨è£…é…mysqlæ•°æ®æºã€‚ã€‚h2ä¸ºä»€ä¹ˆä¸ç”¨é…æ•°æ®æº</p><blockquote><p>é¡¹ç›®éœ€è¦æœ‰è‡ªå·±çš„parelå¦‚ä½•å¤„ç½®springbootçš„parent</p></blockquote><p>spring-boot-dependencies æ”¾åˆ° &lt;denpendencyManagement&gt;</p><img src="https://images.zzq8.cn/img/202302231452941.png" alt="image-20230223145242628" style="zoom:25%;"><blockquote><p>CommandLineRunner æ¥å£çš„ä½œç”¨</p></blockquote><p>CommandLineRunner æ¥å£æ˜¯ Spring Boot ä¸­çš„ä¸€ä¸ªæ¥å£ï¼Œç”¨äºåœ¨åº”ç”¨å¯åŠ¨åæ‰§è¡Œä¸€äº›ç‰¹å®šçš„ä»»åŠ¡ã€‚è¯¥æ¥å£åªæœ‰ä¸€ä¸ªæ–¹æ³• run()ï¼Œå½“ Spring Boot åº”ç”¨å¯åŠ¨å®Œæˆåï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œ run() æ–¹æ³•ã€‚CommandLineRunner æ¥å£å¸¸ç”¨äºæ‰§è¡Œä¸€äº›åˆå§‹åŒ–ä»»åŠ¡ï¼Œä¾‹å¦‚è¯»å–é…ç½®æ–‡ä»¶ã€åˆå§‹åŒ–æ•°æ®ç­‰ã€‚ä¸ä¹‹ç±»ä¼¼çš„è¿˜æœ‰å¦ä¸€ä¸ªæ¥å£ ApplicationRunnerï¼Œ<code>ä¸åŒä¹‹å¤„åœ¨äºå®ƒçš„ run() æ–¹æ³•æ¥æ”¶çš„å‚æ•°æ˜¯ä¸€ä¸ª ApplicationArguments å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å°è£…äº†å‘½ä»¤è¡Œå‚æ•°çš„ä¿¡æ¯ã€‚</code>é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ç° CommandLineRunner æˆ– ApplicationRunner æ¥å£ï¼Œåœ¨ Spring Boot åº”ç”¨å¯åŠ¨åè‡ªåŠ¨æ‰§è¡Œä¸€äº›åˆå§‹åŒ–ä»»åŠ¡ã€‚</p><p><strong>XD: å…¶å®ä¸€æ ·çš„ï¼Œå¯èƒ½å°±æ˜¯ApplicationArgumentsè¿™ä¸ªå¯¹è±¡å°è£…äº†æ›´å¥½æ“ä½œ ç¨‹åºå‚æ•°ï¼ˆProgram argumentsï¼‰è€Œå·²ã€‚ã€‚ã€‚<code>args.getSourceArgs()</code></strong><strong>è€Œ String... argså…¶å®ä¸€æ ·å¯ä»¥æ‹¿å‚æ•°ï¼ï¼ï¼</strong></p><p>java -jar your-project.jar --param1=value1 --param2=value2 é€šè¿‡åœ¨ <code>java -jar</code> å‘½ä»¤åæ·»åŠ å‚æ•°ï¼Œ<mark>-- å¼€å¤´çš„è¿™äº›å‚æ•°è¢«è®¤ä¸ºæ˜¯ç¨‹åºå‚æ•°ï¼ˆProgram argumentsï¼‰ã€‚ åŒºåˆ†ï¼ˆEnvironment variablesï¼‰</mark></p><p>ä»¥ä¸‹å‡ ç§æ–¹å¼éƒ½å¯ä»¥è¢«@Valueè¯»å–åˆ°:</p><h5 id="_1ã€vm-options" tabindex="-1"><a class="header-anchor" href="#_1ã€vm-options"><span>1ã€VM options</span></a></h5><p><code>java -jar -Dserver.port=8888 -Xms1024m demo.jar</code> è¿™ç§æ–¹å¼å¢åŠ çš„å‚æ•°æ˜¯è¢«è®¾ç½®åˆ°åº”ç”¨çš„ç³»ç»Ÿå±æ€§ä¸­ï¼Œå¯ä»¥ä½¿ç”¨System.getProperty(â€œserver.portâ€)è·å–ï¼ˆå¯ä»¥åœ¨ideaçš„idea VM optionsä¸­é…ç½®ï¼Œä»¥ç©ºæ ¼åˆ†éš”ï¼‰</p><p><strong>VM optionså…¶å®å°±æ˜¯æˆ‘ä»¬åœ¨ç¨‹åºä¸­éœ€è¦çš„è¿è¡Œæ—¶ç¯å¢ƒå˜é‡ï¼Œå®ƒéœ€è¦ä»¥-Dæˆ–-Xæˆ–-XXå¼€å¤´ï¼Œæ¯ä¸ªå‚æ•°ä½¿ç”¨ç©ºæ ¼åˆ†éš”</strong> ä½¿ç”¨æœ€å¤šçš„å°±æ˜¯-Dkey=valueè®¾å®šç³»ç»Ÿå±æ€§å€¼ï¼Œæ¯”å¦‚-Dspring.profiles.active=dev3 -Dï¼ˆdefintionï¼‰è¡¨ç¤ºè‡ªå®šä¹‰å‚æ•°</p><h5 id="_2ã€program-arguments" tabindex="-1"><a class="header-anchor" href="#_2ã€program-arguments"><span>2ã€Program arguments</span></a></h5><p><code>java -jar demo.jar --server.port=8888</code> è¿™ç§æ–¹å¼å¢åŠ çš„å‚æ•°æ˜¯å±äºå‘½ä»¤è¡Œå‚æ•°ï¼Œå³ä¼šä»springbootå¯åŠ¨æ—¶çš„mainæ–¹æ³•çš„String[] argsä¸­ä½œä¸ºå‚æ•°ä¼ å…¥ï¼ˆå¯ä»¥åœ¨ideaçš„program argumentsä¸­é…ç½®ï¼Œ<strong>ä»¥ç©ºæ ¼åˆ†éš”</strong>ï¼‰</p><p><strong>Program argumentsä¸ºæˆ‘ä»¬ä¼ å…¥mainæ–¹æ³•çš„å­—ç¬¦ä¸²æ•°ç»„args[]ï¼Œ<mark>å®ƒé€šå¸¸ä»¥--å¼€å¤´</mark></strong>ï¼Œå¦‚--spring.profiles.active=dev3</p><p>ç­‰ä»·äº-Dspring.profiles.active=dev3å¦‚æœåŒæ—¶å­˜åœ¨ï¼Œä»¥Program argumentsé…ç½®ä¼˜å…ˆ</p><h5 id="_3ã€environment-variables" tabindex="-1"><a class="header-anchor" href="#_3ã€environment-variables"><span>3ã€Environment variables</span></a></h5><p>ä»æ“ä½œç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ä¸­è¯»å– è¿™ç§æ–¹å¼çš„å‚æ•°å³å±äºæ“ä½œç³»ç»Ÿæ–¹é¢çš„ï¼Œæ¯”å¦‚å®‰è£…jdkæ—¶è®¾ç½®çš„ç¯å¢ƒå˜é‡ï¼Œå®šä¹‰JAVA_HOMEï¼Œä¹Ÿå¯ä»¥é€šè¿‡System.getenv(â€œJAVA_HOMEâ€)è·å–ï¼Œï¼ˆå¯ä»¥åœ¨ideaçš„VM Environment variablesä¸­é…ç½®ï¼Œä»¥;åˆ†éš”ï¼‰</p><p>Environment variablesæ²¡æœ‰å‰ç¼€ï¼Œä¼˜å…ˆçº§ä½äºVM optionsï¼Œå³å¦‚æœVM optionsæœ‰ä¸€ä¸ªå˜é‡å’ŒEnvironment variableä¸­çš„å˜é‡çš„keyç›¸åŒï¼Œåˆ™ä»¥VM optionsä¸­ä¸ºå‡†ã€‚</p><h5 id="_4ã€é€šè¿‡é¡¹ç›®ä¸­é…ç½®æ–‡ä»¶bootstrap-applicationæ–‡ä»¶è½½å…¥" tabindex="-1"><a class="header-anchor" href="#_4ã€é€šè¿‡é¡¹ç›®ä¸­é…ç½®æ–‡ä»¶bootstrap-applicationæ–‡ä»¶è½½å…¥"><span>4ã€é€šè¿‡é¡¹ç›®ä¸­é…ç½®æ–‡ä»¶bootstrap/applicationæ–‡ä»¶è½½å…¥</span></a></h5><p>è¿™ç§æ–¹å¼æ˜¯åœ¨é¡¹ç›®ä¸­é…ç½®çš„æ–¹å¼ï¼Œæ¯”è¾ƒå¸¸è§</p><blockquote><p>h2æ•°æ®åº“ä¸ºä»€ä¹ˆä¸éœ€è¦é…ç½®</p></blockquote><p>åµŒå…¥å¼æ•°æ®åº“ï¼šH2æ•°æ®åº“æ˜¯ä¸€æ¬¾åµŒå…¥å¼æ•°æ®åº“ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå¯ä»¥è¢«åµŒå…¥åˆ°Javaåº”ç”¨ç¨‹åºä¸­ï¼Œä½œä¸ºJavaç¨‹åºçš„ä¸€ä¸ªåº“ã€‚å› æ­¤ï¼ŒH2æ•°æ®åº“ä¸éœ€è¦ç‹¬ç«‹çš„æœåŠ¡å™¨è¿›ç¨‹ï¼Œä¸éœ€è¦é¢å¤–çš„é…ç½®å’Œç®¡ç†ï¼Œåªéœ€è¦åœ¨Javaåº”ç”¨ç¨‹åºä¸­è¿›è¡Œç®€å•çš„é…ç½®å³å¯ä½¿ç”¨ã€‚</p><h3 id="é…ç½®å¤šæ•°æ®æº" tabindex="-1"><a class="header-anchor" href="#é…ç½®å¤šæ•°æ®æº"><span>é…ç½®å¤šæ•°æ®æº</span></a></h3><blockquote><p>å›¾ç‰‡å¾ˆæ¸…æ¥šäº†</p></blockquote><p>æˆ‘ç†è§£ï¼šé‡å†™ä¸‰ä¸ªbean æ¯åŠ ä¸€ä¸ªæ•°æ®æºå°±é‡å†™ä¸€éæ”¾åˆ° Spring Bean</p><ol><li>DataSourceProperties è¿™æ ·å³å¯åœ¨configurationé…ç½®æˆ‘çš„æ•°æ®æºï¼ŒåŒºåˆ†å¼€å…¶ä»–çš„åŠ å‰ç¼€</li><li>DataSource é€šè¿‡ä¸Šè€…çš„ API Create æ•°æ®æºï¼Œå¤§è‡´å°±æ˜¯initializeDataSourceBuilderæ–¹æ³•é€šè¿‡ ClassLoader æ‹¿ driverClassName åˆ›å»º</li><li>PlatformTransactionManager æ¯ä¸ªæ•°æ®åº“éƒ½è¦è®¾å¥½è‡ªå·±å¯¹åº”çš„äº‹åŠ¡ç®¡ç†å™¨</li></ol><img src="https://images.zzq8.cn/img/202302231721768.png" alt="image-20230223172146262" style="zoom:25%;"></div><!--[--><!----><!--]--><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a href="https://github.com/zzq8/zzq8/edit/main/src/studynotes/JavaFramework/SpringBoot.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link vp-meta-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 1024zzq@gmail.com">MiniPC</span>,<!--]--><!--[--><span class="vp-meta-info" title="email: 1024zzq@gmail.com">Fighting</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link nav-link prev" href="/studynotes/JavaFramework/MyBatis.html" aria-label="MyBatis"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->MyBatis</div></a><a class="route-link nav-link next" href="/studynotes/JavaFramework/SpringCloud.html" aria-label="SpringCloud"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">SpringCloud<!----></div></a></nav><!----><!--[--><!----><!--]--><!--]--></main><!--]--><!----></div><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-C9WVnRdf.js" defer></script>
  </body>
</html>
