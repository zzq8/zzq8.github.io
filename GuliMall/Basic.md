# è°·ç²’å•†åŸ

> è°·ç²’å•†åŸæ˜¯ä¸€ä¸ªB2Cæ¨¡å¼çš„ç”µå•†å¹³å°ï¼Œé”€å”®è‡ªè¥å•†å“ç»™å®¢æˆ·
>
> [é›·ç¥Bç«™æ•™ç¨‹](https://www.bilibili.com/video/BV1np4y1C7Yf?p=2&spm_id_from=pageDriver&vd_source=0f3bf62c50d57c4a7d85b89b4d2633e0)ï¼Œåˆ†åŸºç¡€ã€é«˜çº§ã€é›†ç¾¤ä¸‰ç¯‡ã€‚â€œä¸è¦åšé”¤å­ä¹‹ç¥ï¼Œè¦åšé›·éœ†ä¹‹ç¥â€
>
> [æ¥å£æ–‡æ¡£åœ°å€](https://easydoc.net/s/78237135/ZUqEdvA4/hKJTcbfd)    ä¸€äº›ä¸šåŠ¡çš„å®ç°æ„Ÿè§‰å°±æŒºè´´è¿‘ç®—æ³•çš„ï¼Œè‡ªæˆ‘æ„Ÿè§‰æ•°æ®åº“çš„è®¾è®¡æ˜¯æœ€é‡è¦çš„
>
> [åˆ«äººå‰ç«¯ä»£ç ](https://gitee.com/AdverseQ/gulimall-mall-front-end)            [åˆ«äººåç«¯ä»£ç ](https://gitee.com/AdverseQ/gulimall_Advanced)
>
> Googleåˆ°çš„ç¬”è®°å¾ˆè¯¦ç»†ï¼š[åˆ«äººç¬”è®°](https://blog.csdn.net/hancoder/article/details/106922139)   [åˆ«äººä»£ç ](https://github.com/NiceSeason/gulimall-learning)
>
> æœ€é«˜å¢ƒç•Œå°±æ˜¯æ•°æ®åº“è®¾è®¡å¸ˆå’Œç³»ç»Ÿæ¶æ„å¸ˆ

# ä¸€ã€å‰è¨€

## 1. é¡¹ç›®ç®€ä»‹

> å¸‚é¢ä¸Šæœ‰5ç§å¸¸è§çš„ç”µå•†æ¨¡å¼ B2Bã€B2Cã€C2Bã€C2Cã€O2O

#### 1.1 B2B æ¨¡å¼

```markdown
B2B(Business to Business)ï¼Œæ˜¯æŒ‡å•†å®¶å’Œå•†å®¶å»ºç«‹çš„å•†ä¸šå…³ç³»ï¼Œå¦‚é˜¿é‡Œå·´å·´
```

#### 1.2 B2C æ¨¡å¼

```markdown
B2C(Business to Consumer) å°±æ˜¯æˆ‘ä»¬ç»å¸¸çœ‹åˆ°çš„ä¾›åº”å•†ç›´æ¥æŠŠå•†å“ä¹°ä¸ª
ç”¨æˆ·ï¼Œå³ â€œå•†å¯¹å®¢â€ æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å‘¢è¯´çš„å•†ä¸šé›¶å”®ï¼Œç›´æ¥é¢å‘æ¶ˆè´¹é”€
å”®äº§å“å’ŒæœåŠ¡ï¼Œå¦‚è‹å®æ˜“è´­ï¼Œäº¬ä¸œï¼Œå¤©çŒ«ï¼Œå°ç±³å•†åŸ
```

etc.



## ==**2. æ¶æ„å›¾ï¼š**==

![image-20220720220817554](http://image.zzq8.cn/img/202207202224096.png)

![image-20220722154237978](http://image.zzq8.cn/img/202207221542079.png)

## 3. åˆ†å¸ƒå¼åŸºç¡€æ¦‚å¿µ

å¸¸è§çš„è´Ÿè½½å‡è¡¡ç®—æ³•ï¼šè®°ä¸€ä¸‹æœ€åä¸€ä¸ªï¼

* è½®è¯¢ï¼šä¸ºç¬¬ä¸€ä¸ªè¯·æ±‚é€‰æ‹©å¥åº·æ± ä¸­çš„ç¬¬ä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œç„¶åæŒ‰é¡ºåºå¾€åä¾æ¬¡é€‰æ‹©ï¼Œç›´åˆ°æœ€åä¸€ä¸ªï¼Œç„¶åå¾ªç¯ã€‚ 
* æœ€å°è¿æ¥ï¼šä¼˜å…ˆé€‰æ‹©è¿æ¥æ•°æœ€å°‘ï¼Œä¹Ÿå°±æ˜¯å‹åŠ›æœ€å°çš„åç«¯æœåŠ¡å™¨ï¼Œåœ¨ä¼šè¯è¾ƒé•¿çš„æƒ…å†µä¸‹å¯ä»¥è€ƒè™‘é‡‡å–è¿™ç§æ–¹å¼ã€‚ 
* æ•£åˆ—ï¼šæ ¹æ®è¯·æ±‚æºçš„ IP çš„æ•£åˆ—ï¼ˆhashï¼‰æ¥é€‰æ‹©è¦è½¬å‘çš„æœåŠ¡å™¨ã€‚è¿™ç§æ–¹å¼å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šä¿è¯ç‰¹å®šç”¨æˆ·èƒ½è¿æ¥åˆ°ç›¸åŒçš„æœåŠ¡å™¨ã€‚å¦‚æœä½ çš„åº”ç”¨éœ€è¦å¤„ç†çŠ¶æ€è€Œè¦æ±‚ç”¨æˆ·èƒ½è¿æ¥åˆ° å’Œä¹‹å‰ç›¸åŒçš„æœåŠ¡å™¨ï¼Œå¯ä»¥è€ƒè™‘é‡‡å–è¿™ç§æ–¹å¼ã€‚



åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå„ä¸ªæœåŠ¡å¯èƒ½å¤„äºä¸åŒä¸»æœºï¼Œä½†æ˜¯æœåŠ¡ä¹‹é—´ä¸å¯é¿å…çš„éœ€è¦äº’ç›¸è°ƒç”¨ï¼Œæˆ‘ä»¬ç§°ä¸ºè¿œç¨‹è°ƒç”¨ã€‚ SpringCloud ä¸­ä½¿ç”¨ HTTP+JSON çš„æ–¹å¼å®Œæˆè¿œç¨‹è°ƒç”¨ã€

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](http://image.zzq8.cn/img/202207221518690.png)

# äºŒã€Docker å­¦ä¹ 

> æ ¹æ® [å®˜ç½‘æ–‡æ¡£](https://docs.docker.com/engine/install/centos/) æ¥å®‰è£…...
>
> å»ºè®®çœ‹çœ‹ [èœé¸Ÿ](https://www.runoob.com/docker/docker-container-usage.html) çš„æ•™ç¨‹å…¥é—¨ä¸€ä¸‹ Dockerï¼ï¼ï¼



å› ä¸º DockerHub æ˜¯å›½å¤–ç½‘ç«™ï¼Œå¯ä»¥ç™»å½• **é˜¿é‡Œäº‘** æ‰¾åˆ°å®¹å™¨é•œåƒæœåŠ¡ï¼Œä½¿ç”¨é•œåƒåŠ é€Ÿå™¨

```bash
# é…ç½®é•œåƒåŠ é€Ÿ
sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.json <<-'EOF'
{
  "registry-mirrors": ["https://chqac97z.mirror.aliyuncs.com"]
}
EOF
sudo systemctl daemon-reload
sudo systemctl restart docker
```



==**å° Tip å€¼å¾—å­¦ä¹ **==ï¼šç”¨ Docker å°±å‚è€ƒè¿™ä¸ªä¾‹å­ï¼

## 1. MySQL

### 1.1 å®‰è£…

æ‹‰é•œåƒ **æ³¨æ„ -v å·²ç» Docker æˆ‘ä¸‹é¢çš„ç†å¿µç†è§£ï¼**

-v å¤–éƒ¨:Dockerå®¹å™¨å†…éƒ¨ï¼Œä»¥åæƒ³æ”¹é…ç½®åˆ°å¤–éƒ¨çš„ linux æŒ‚è½½çš„æ–‡ä»¶é‡Œæ”¹å®¹å™¨ä¹Ÿå°±è·Ÿç€æ”¹äº†ï¼

ç†è§£æˆ Linux å’Œ Dockerå®¹å™¨ï¼ˆ**å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå®Œæ•´çš„Linux**ã€å®¹å™¨çš„ bin/bash é‡Œæ²¡æœ‰ wgetï¼Œå¤–é¢ linuxæœ‰ã€‘ï¼‰æ˜¯éš”ç¦»çš„ï¼Œæ‰€ä»¥éœ€è¦ç«¯å£æ˜ å°„ç›®å½•æŒ‚è½½ï¼ï¼ï¼çœ‹å›¾

```bash
--- 1 æ‹‰å»mysqlé•œåƒ ã€å…¶å®ï¼Œrunæ—¶å‘ç°æ²¡æœ‰pullä¹Ÿä¼šè‡ªåŠ¨pullï¼Œæ‰€ä»¥è¿™æ­¥å¯ä»¥çœç•¥çš„ã€‘---
docker pull mysql #é»˜è®¤æ‹‰æœ€æ–°çš„
docker pull mysql:5.7 #æ‹‰å–æŒ‡å®šçš„

--- 2 å¯åŠ¨mysqlå®¹å™¨ ---
# --nameæŒ‡å®šå®¹å™¨åå­— -vç›®å½•æŒ‚è½½ -pæŒ‡å®šç«¯å£æ˜ å°„  -eè®¾ç½®mysqlå‚æ•° -dåå°è¿è¡Œ
docker run -p 3306:3306 --name mysql \
-v /mydata/mysql/log:/var/log/mysql \
-v /mydata/mysql/data:/var/lib/mysql \
-v /mydata/mysql/conf:/etc/mysql \
-e MYSQL_ROOT_PASSWORD=123456 \
-d mysql:5.7
#è¿™ä¸ª -v ç›®å½•æŒ‚è½½ç»å¸¸ç”¨ï¼ŒMySQLã€Redis... 
#å› ä¸º MySQL ç›¸å½“äºéƒ¨ç½²åˆ°äº†ä¸€å°éš”ç¦»çš„è™šæ‹Ÿçš„ Linux(Docker å®¹å™¨éš”ç¦») ä¸Šäº†ï¼Œä½†æˆ‘ä»¬åˆæƒ³çœ‹åˆ°æœŸä¸­ä¸€äº›ç›®å½•
å‚æ•°è¯´æ˜
-p 3306:3306ï¼šå°†å®¹å™¨çš„ 3306 ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„ 3306 ç«¯å£
-v /mydata/mysql/conf:/etc/mysqlï¼šå°†é…ç½®æ–‡ä»¶å¤¹æŒ‚è½½åˆ°ä¸»æœº
-v /mydata/mysql/log:/var/log/mysqlï¼šå°†æ—¥å¿—æ–‡ä»¶å¤¹æŒ‚è½½åˆ°ä¸»æœº
-v /mydata/mysql/data:/var/lib/mysql/ï¼šå°†é…ç½®æ–‡ä»¶å¤¹æŒ‚è½½åˆ°ä¸»æœº-e MYSQL_ROOT_PASSWORD=123456ï¼šåˆå§‹åŒ– 123456 

--- 3 è¿›å…¥å®¹å™¨ ---
#éªŒè¯ ä»¥rootèº«ä»½è¿›å…¥mysqlå®¹å™¨å†…éƒ¨  root@f126639a0424:/#  -itã€äº¤äº’æ¨¡å¼ã€‘  bin/bashã€æ§åˆ¶å°ã€‘
docker exec -it å®¹å™¨åç§°|å®¹å™¨id bin/bash
docker exec -it mysql bin/bash
```

![image-20220724160235682](http://image.zzq8.cn/img/202207241602886.png)



> Linux ps ï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šprocess statusï¼‰å‘½ä»¤ç”¨äºæ˜¾ç¤ºå½“å‰è¿›ç¨‹çš„çŠ¶æ€ï¼Œç±»ä¼¼äº windows çš„ä»»åŠ¡ç®¡ç†å™¨ã€‚
>
> docker ps

> è®¾ç½® docker æŒ‡å®šå®¹å™¨è‡ªåŠ¨å¯åŠ¨ï¼Œè¿™ä¸ªè¯­å¥åœ¨èœé¸Ÿæ‰¾ä¸åˆ°

```bash
docker update xxx --restart=always
```





### 1.2 é…ç½®

1. åœ¨æŒ‚è½½çš„ conf ç›®å½•åŠ  MySQL é…ç½®

```bash
[client]
default-character-set=utf8
[mysql]
default-character-set=utf8
[mysqld]
init_connect='SET collation_connection = utf8_unicode_ci' init_connect='SET NAMES utf8' character-set-server=utf8
collation-server=utf8_unicode_ci
skip-character-set-client-handshake
skip-name-resolve
```

2. è¿› MySQL å®¹å™¨ éªŒè¯æŒ‚è½½ç”Ÿæ•ˆï¼

```bash
# ä½¿ç”¨ docker ps æ¥æŸ¥çœ‹æˆ‘ä»¬æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼š
docker ps

docker exec -it mysql bin/bash
cd /etc/mysql

# é‡å¯æŒ‡å®š imageï¼Œç”¨äºæ”¹å®Œé…ç½®åé‡å¯
docker restart mysql

```



### 1.3 ä½¿ç”¨

```bash
# è¿›å…¥å®¹å™¨  æ¨èå¤§å®¶ä½¿ç”¨ docker exec å‘½ä»¤ï¼Œå› ä¸ºæ­¤å‘½ä»¤ä¼šé€€å‡ºå®¹å™¨ç»ˆç«¯ï¼Œä½†ä¸ä¼šå¯¼è‡´å®¹å™¨çš„åœæ­¢ã€‚
# -itã€äº¤äº’æ¨¡å¼ã€‘  bin/bashã€æ§åˆ¶å°ã€‘
docker exec -it mysql /bin/bash

# é€šè¿‡å®¹å™¨çš„ mysql å‘½ä»¤è¡Œå·¥å…·è¿æ¥
docker exec -it mysql mysql -uroot -p123456
```

`docker exec -it mysql mysql -uroot -p123456`



## 2. Redis

> æ³¨æ„å’Œ MySQL ä¸åŒï¼Œå› ä¸ºè¦é€šè¿‡é…ç½®æ–‡ä»¶å¯åŠ¨ Redis æ‰€ä»¥éœ€è¦å…ˆåˆ›å¥½æ–‡ä»¶ï¼

1. ä¸‹è½½ latest çš„ç‰ˆæœ¬å°±å¥½ `docker pull redis`

2. ```bash
   # å…ˆåˆ›å¥½æ–‡ä»¶ï¼ ä¿®æ”¹éœ€è¦è‡ªå®šä¹‰çš„é…ç½®(docker-redisé»˜è®¤æ²¡æœ‰é…ç½®æ–‡ä»¶ï¼Œè‡ªå·±åœ¨å®¿ä¸»æœºå»ºç«‹åæŒ‚è½½æ˜ å°„)
   mkdir -p /mydata/redis/conf
   touch /mydata/redis/conf/redis.conf
   ```

3. ```bash
   docker run -p 6379:6379 --name redis -v /mydata/redis/data:/data \
   -v /mydata/redis/conf/redis.conf:/etc/redis/redis.conf \
   -d redis redis-server /etc/redis/redis.conf
   ```

4. `docker exec -it redis redis-cli`

---



```bash
# Redis ä»cliä¸­è®¾ç½®å¯†ç 
config set requirepass test123

# åŠ é…ç½®
bind 0.0.0.0 å¼€å¯è¿œç¨‹æƒé™
appendonly yes å¼€å¯aofæŒä¹…åŒ–
```



# ä¸‰ã€é¡¹ç›®å‡†å¤‡

## 1. å‰ç«¯

### 1.1 å‰è¨€

> vsCode å¥½ç”¨çš„å¿«æ·é”®ï¼ŒCtrl E é€‰ä¸­ä¸‹ä¸€ä¸ªåŒåå•è¯ / Alt ç‚¹å‡»å…‰æ ‡å¤šä¸ª
>
> ctrl + ` æ‰“å¼€ç»ˆç«¯

**å¯åŠ¨é¡¹ç›®ï¼š**

**æˆ‘ä»¬å…³æ³¨ä¸ node.js çš„ npm åŠŸèƒ½å°±è¡Œï¼› NPM æ˜¯éšåŒ NodeJS ä¸€èµ·å®‰è£…çš„åŒ…ç®¡ç†å·¥å…·**

* å¯¼å…¥vscode
* ç»ˆç«¯ `npm install`ï¼ˆ==ç›¸å½“äº Maven ä¸‹è½½ä¾èµ–åŒ…==ï¼‰
  * **è¿™é‡Œæ˜¯æ ¹æ®package.jsonä¸‹è½½åç«¯æ˜¯pom.xml**
  * ä¸‹è½½å®Œçš„ä¾èµ–ä¼šåœ¨ node_modules åŒ…ä¸‹é¢
* `npm run dev`



**Babelï¼šå°†æ–°ç‰¹æ€§ä»£ç è‡ªåŠ¨è½¬æ¢æˆæµè§ˆå™¨èƒ½å…¼å®¹çš„è€ä»£ç **

Webpackï¼šæ‰“åŒ…å·¥å…·

ES6 & Vue å¿«é€Ÿå…¥é—¨



### 1.2 ES6

å…·ä½“çœ‹æ–‡æ¡£ï¼š[03ã€å‰ç«¯å¼€å‘åŸºç¡€çŸ¥è¯†](https://gitee.com/codezzq/study-notes/raw/master/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E/03%E3%80%81%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.pdf) ç‚¹ **åŸå§‹æ•°æ®** å¯ä»¥çœ‹ï¼

> let æœ‰ç‚¹å¼ºç±»å‹è¯­è¨€çš„æ„æ€ï¼š
>
> 1. var å£°æ˜çš„å˜é‡å¾€å¾€ä¼šè¶ŠåŸŸï¼Œlet å£°æ˜çš„å˜é‡æœ‰ä¸¥æ ¼å±€éƒ¨ä½œç”¨åŸŸï¼ˆvar å…¨å±€  let å±€éƒ¨ï¼‰
> 2. var å¯ä»¥å£°æ˜å¤šæ¬¡ï¼Œlet åªèƒ½å£°æ˜ä¸€æ¬¡
> 3. var ä¼šå˜é‡æå‡ï¼Œ let ä¸å­˜åœ¨å˜é‡æå‡
> 4. const å£°æ˜å¸¸é‡ï¼ˆåªè¯»å˜é‡ï¼‰
> 5. **å¯¹è±¡è§£æ„**
> 6. å¤šè¡Œå­—ç¬¦ä¸²ç›¸å½“äºåŠ å¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œç”¨==åå¼•å· `== 
> 7. **${} å®ç°å­—ç¬¦ä¸²æ‹¼æ¥**
>    * æ³¨æ„è¿™é‡Œ 7 è¦å’Œ 6 ä¸€èµ·ç”¨ï¼let info = \`æˆ‘æ˜¯${name}ï¼Œä»Šå¹´${age}äº†\`;
>
> 1. ==[å‡½æ•°è¡¨è¾¾å¼](https://zh.javascript.info/function-expressions) åŒºåˆ« **å‡½æ•°å£°æ˜**==
>
> 2. etc.
>
> 3. è¿˜æœ‰ç®­å¤´å‡½æ•°+è§£æ„
>
>    ```javascript
>    const person = {
>        name: "jack",
>        age: 21,
>        language: ['java', 'js', 'css']
>    }
>                                                    
>    // var hello1 = (param) => console.log("hello," + param.name);
>    // hello1(person);
>    var hello2 = ({name}) => console.log("hello," + name);
>    hello2(person);



> é’ˆå¯¹åµŒå¥—çš„ ajax ES6 æä¾› ==Promise==
>
> [Gitee ä»£ç ](https://gitee.com/codezzq/gulimall/blob/master/gulimall-product/src/main/resources/static/6.promise.html)  æ„Ÿè§‰å¯ä»¥ç†è§£æˆæŠŠ åµŒå¥— è°ƒç”¨ï¼Œå˜æˆ é“¾å¼ è°ƒç”¨



>åœ¨JavaScriptä¸­`å®å‚`ä¸`å½¢å‚`æ•°é‡å¹¶ä¸éœ€è¦åƒJAVAä¸€æ ·å¿…é¡»åœ¨æ•°é‡ä¸Šä¸¥æ ¼ä¿æŒä¸€è‡´ï¼Œå…·æœ‰å¾ˆå¤§çš„çµæ´»æ€§ã€‚å¦‚ä¸‹ï¼š==ä¸‹é¢å››ä¸ªè°ƒç”¨éƒ½èƒ½æ‰§è¡Œï¼==

```javascript
function test(str1, str2, str3) {
    // ......
}
test();                             // str1: undefined, str2: undefined, str3: undefined
test('hello');                      // str1: 'hello', str2: undefined, str3: undefined
test('hello', 'world');             // str1: 'hello', str2: 'world', str3: undefined
test('hello', 'world', '!');        // str1: 'hello', str2: 'world', str3: '!'
```



> ç®€åŒ–

```js
computed: {
    totalPrice: function(){} 
    ç­‰ä»·äº
    totalprice(){}
}
```



> js ä¸¤ç§æ–¹æ³•æ„å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼š
>
> * ä½¿ç”¨ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡ï¼Œå…¶ç”±åŒ…å«åœ¨æ–œæ ä¹‹é—´çš„æ¨¡å¼ç»„æˆï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
>   * var re = /ab+c/;
>   * è„šæœ¬åŠ è½½åï¼Œæ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡å°±ä¼šè¢«ç¼–è¯‘ã€‚å½“æ­£åˆ™è¡¨è¾¾å¼ä¿æŒä¸å˜æ—¶ï¼Œä½¿ç”¨æ­¤æ–¹æ³•å¯è·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚
> * æˆ–è€…è°ƒç”¨[`RegExp`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp)å¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
>   * var re = new RegExp("ab+c");
>   * åœ¨è„šæœ¬è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œç”¨æ„é€ å‡½æ•°åˆ›å»ºçš„æ­£åˆ™è¡¨è¾¾å¼ä¼šè¢«ç¼–è¯‘ã€‚å¦‚æœæ­£åˆ™è¡¨è¾¾å¼å°†ä¼šæ”¹å˜ï¼Œæˆ–è€…å®ƒå°†ä¼šä»ç”¨æˆ·è¾“å…¥ç­‰æ¥æºä¸­åŠ¨æ€åœ°äº§ç”Ÿï¼Œå°±éœ€è¦ä½¿ç”¨æ„é€ å‡½æ•°æ¥åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼ã€‚



### 1.3 æ¨¡å—åŒ–

> æ¨¡å—åŒ–å°±æ˜¯æŠŠä»£ç è¿›è¡Œæ‹†åˆ†ï¼Œæ–¹ä¾¿é‡å¤åˆ©ç”¨ã€‚**ç±»ä¼¼ java ä¸­çš„å¯¼åŒ…**ï¼šè¦ä½¿ç”¨ä¸€ä¸ªåŒ…ï¼Œå¿…é¡»å…ˆå¯¼åŒ…ã€‚è€Œ JS ä¸­æ²¡æœ‰åŒ…çš„æ¦‚å¿µï¼Œæ¢æ¥çš„æ˜¯ æ¨¡å—ã€‚

æ¨¡å—åŠŸèƒ½ä¸»è¦ç”±ä¸¤ä¸ªå‘½ä»¤æ„æˆï¼š`export`å’Œ`import`ã€‚ 

* `export`å‘½ä»¤ç”¨äºè§„å®šæ¨¡å—çš„å¯¹å¤–æ¥å£ã€‚
* `import`å‘½ä»¤ç”¨äºå¯¼å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½ã€‚
  * æ³¨æ„ import è¿˜ä¸ç®—å®Œï¼Œè¦ç”¨çš„è¯å¾—åœ¨éœ€è¦æ³¨å…¥åˆ°å¯¹è±¡ä¸­æ‰èƒ½ä½¿ç”¨ **components**


`export`ä¸ä»…å¯ä»¥å¯¼å‡ºå¯¹è±¡ï¼Œ**ä¸€åˆ‡JSå˜é‡éƒ½å¯ä»¥å¯¼å‡º**ã€‚æ¯”å¦‚ï¼šåŸºæœ¬ç±»å‹å˜é‡ã€å‡½æ•°ã€æ•°ç»„ã€å¯¹è±¡ã€‚



### 1.4 ==Vue 2==

> è¯¦ç»†ç‚¹çœ‹ï¼š[Vueå…¥é—¨å­¦ä¹ ç¬”è®°](https://blog.csdn.net/qq_42295733/article/details/104077906)   &   [03ã€å‰ç«¯å¼€å‘åŸºç¡€çŸ¥è¯†](https://gitee.com/codezzq/study-notes/raw/master/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E/03%E3%80%81%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.pdf) 
>
> åœ¨ MVVM ä¹‹å‰ï¼Œå¼€å‘äººå‘˜ä»åç«¯è·å–éœ€è¦çš„æ•°æ®æ¨¡å‹ï¼Œç„¶åè¦é€šè¿‡DOMæ“ä½œModel æ¸²æŸ“åˆ° View ä¸­ã€‚è€Œåå½“ç”¨æˆ·æ“ä½œè§†å›¾ï¼Œæˆ‘ä»¬è¿˜éœ€è¦é€šè¿‡ DOM è·å– View ä¸­çš„æ•°æ®ï¼Œç„¶ååŒæ­¥åˆ°Model ä¸­ã€‚ 
>
> è€Œ MVVM ä¸­çš„ VM è¦åšçš„äº‹æƒ…å°±æ˜¯æŠŠ DOM æ“ä½œå®Œå…¨å°è£…èµ·æ¥ï¼Œ**å¼€å‘äººå‘˜ä¸ç”¨å†å…³å¿ƒModel å’Œ View ä¹‹é—´æ˜¯å¦‚ä½•äº’ç›¸å½±å“çš„**

#### **1.4.1 æ–°å»ºé¡¹ç›®ï¼š**

* å½“å‰å·¥ç¨‹è¦ç”¨ npm `npm init -y` åˆå§‹åŒ–é¡¹ç›®ï¼Œå‡ºæ¥ä¸€ä¸ª package.json

* ç»ˆç«¯ `npm install vue@2`ï¼ˆ==ç›¸å½“äº Maven ä¸‹è½½ä¾èµ–åŒ…==ï¼‰åŠ ä¸Š@2ï¼Œ**æ–°ç‰ˆæœ¬æ²¡æœ‰vue.jsæ–‡ä»¶**
  * **è¿™é‡Œæ˜¯æ ¹æ®package.jsonä¸‹è½½åç«¯æ˜¯pom.xml**
  * ä¸‹è½½å®Œçš„ä¾èµ–ä¼šåœ¨ node_modules åŒ…ä¸‹é¢ï¼Œä¸”è¿™ä¸ªåŒ…ä¸‹æœ‰ vue åŒ…
* html é¡µé¢ script å¼•å…¥ `./node_modules/vue/dist/`
* `npm run dev`



å°šä¸Šä¼˜é€‰ç¬”è®°ï¼š

```shell
#å…¨å±€å®‰è£…å‘½ä»¤è¡Œå·¥å…·    å®æµ‹ï¼šä¸æ‰§è¡Œè¿™è¡Œä¸‹é¢çš„ vue æ ‡è¯†éƒ½è¯†åˆ«ä¸äº†  vue : æ— æ³•å°†â€œvueâ€é¡¹è¯†åˆ«ä¸º cmdletã€å‡½æ•°ã€è„šæœ¬æ–‡ä»¶æˆ–å¯è¿è¡Œç¨‹åºçš„åç§°
npm install --location=global @vue/cli
#åˆ›å»ºä¸€ä¸ªé¡¹ç›®
vue create vue-test #é€‰æ‹©vue2
#è¿›å…¥åˆ°é¡¹ç›®ç›®å½•
cd vue-test
#å¯åŠ¨ç¨‹åº
npm run serve
```

å¦‚æœå¯åŠ¨ä¸èµ·æ¥ digital envelope routines::unsupported
å¯èƒ½æ˜¯Nodeç‰ˆæœ¬ä¸ä¸€æ ·ï¼Œå¯ä»¥æŠŠ node_modules ç›®å½•åˆ æ‰ï¼Œé‡æ–° `npm install`  [ä¸è¡Œï¼Œæˆ‘æ¢16ç‰ˆæœ¬æ‰è¡Œ]

#### **1.4.2 å¸¸ç”¨çš„å±æ€§:**

- v-if
- v-else-if
- v-else
- v-for
- v-on ç»‘å®šäº‹ä»¶ , ç®€å†™`@`
- **v-model æ•°æ®åŒå‘ç»‘å®š**ï¼ˆæ¨¡å‹ã€è§†å›¾ï¼‰
  - [`.number`](https://cn.vuejs.org/guide/essentials/forms.html#number) â€”â€”å°†è¾“å…¥çš„åˆæ³•ç¬¦ä¸²è½¬ä¸ºæ•°å­—             [å»ºè®®çœ‹è¿™ä¸ªä¾‹å­](https://blog.csdn.net/m0_67402013/article/details/123303586)

- v-bind ç»™ç»„ä»¶ç»‘å®šå‚æ•°,ç®€å†™ `:`
  - æ•°æ®åº“é‡Œæ•°æ®æ˜¯ int è¿™é‡Œå°±å¯ä»¥å†’å·ç»‘å®šææˆæ•°å­—  :active-value="1" :inactive-value="0"

- **v-html**

> ä¸€äº›æƒŠè‰³çš„ç¤ºä¾‹ï¼š

**v-onã€v-model...**

1. äº‹ä»¶ä¿®é¥°ç¬¦ï¼ˆé˜»æ­¢å†’æ³¡ï¼Œä¸ç„¶é‡Œé¢divç‚¹ä¸€ä¸‹å¼¹ä¸¤ä¸ªï¼‰
2. æŒ‰é”®ä¿®é¥°ç¬¦ï¼ˆè¿™ä¸ªå¾ˆæœ‰æ„æ€ï¼å¯ä»¥ç›‘å¬é”®ç›˜ï¼ï¼‰

```js
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div id="app">
        Â Â Â Â Â Â Â Â 
        <!--äº‹ä»¶ä¸­ç›´æ¥å†™jsç‰‡æ®µ-->
        <button v-on:click="num++">ç‚¹èµ</button>
        <!--äº‹ä»¶æŒ‡å®šä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå¿…é¡»æ˜¯Vueå®ä¾‹ä¸­å®šä¹‰çš„å‡½æ•°-->
        <button @click="cancle">å–æ¶ˆ</button>
        <!--  -->
        <h1>æœ‰{{num}}ä¸ªèµ</h1>


        <!-- äº‹ä»¶ä¿®é¥°ç¬¦ -->
        <div style="border: 1px solid red;padding: 20px;" v-on:click.once="hello">
            å¤§div
            <div style="border: 1px solid blue;padding: 20px;" @click.stop="hello">
                å°div <br />
                <a href="http://www.baidu.com" @click.prevent.stop="hello">å»ç™¾åº¦</a>
            </div>
        </div>



        <!-- æŒ‰é”®ä¿®é¥°ç¬¦ï¼š -->
        <input type="text" v-model="num" v-on:keyup.up="num+=2" @keyup.down="num-=2" @click.ctrl="num=10"><br />

        æç¤ºï¼š

    </div>
    <script src="../node_modules/vue/dist/vue.js"></script>

    <script>
        new Vue({
            el:"#app",
            data:{
                num: 1
            },
            methods:{
                cancle(){
                    this.num--;
                },
                hello(){
                    alert("ç‚¹å‡»äº†")
                }
            }
        })
    </script>
</body>

</html>
```



**vueçš„å‡½æ•°è°ƒç”¨åŠ ä¸åŠ ()éƒ½å¯ä»¥çš„ï¼ˆjsé‡Œç¡®å®ä¸è¡Œï¼Œä¸è¿‡vueé‡Œå¯ä»¥ï¼‰**

```js
@click="addCategory()"        
--- vs ---  åœ¨ Vue ä¸­ä¸¤è€…éƒ½å¯ä»¥
@click="addCategory"
```





**ä½¿ç”¨ `props` å±æ€§ä¼ é€’å‚æ•°**

```js
<div id="app">
    <ul>
        <my_component_li v-for="item in items" v-bind:item="item"></my_component_li>
    </ul>
</div>
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<script>
    Vue.component(
        'my_component_li',{
            props: ['item'], //é€šè¿‡å¾ªç¯çš„éå†itemï¼Œç»‘å®šå±æ€§ï¼Œæ­¤å±æ€§â€˜itemâ€™ä½œä¸ºåª’ä»‹ï¼Œä¼ é€’ç»™æ¨¡æ¿
            template:'<li>{{item}}</li>'
        }
    );

    //viewModel å®ç°ä¸ModelåŒå‘ç»‘å®šï¼ŒåŠ¨æ€æ›´æ–°è§†å›¾
    var vm = new Vue({
        el:"#app",
        data: {
            items: ["ææ³½ç‰è€ƒè¥¿ç”µ","è¥¿ç”µå¿…ä¸Šå²¸","è¥¿ç”µæˆ‘æ¥äº†"]
        }
    });
</script>

```

è¯´æ˜ï¼š

* v-for="item in items"ï¼šéå† Vue å®ä¾‹ä¸­å®šä¹‰çš„åä¸º items çš„æ•°ç»„ï¼Œå¹¶åˆ›å»ºåŒç­‰æ•°é‡çš„ç»„ä»¶
* v-bind:item="item"ï¼šå°†éå†çš„ item é¡¹ç»‘å®šåˆ°ç»„ä»¶ä¸­ props å®šä¹‰çš„åä¸º item å±æ€§ä¸Šï¼›= å·å·¦è¾¹çš„ item ä¸º props å®šä¹‰çš„å±æ€§åï¼Œå³è¾¹çš„ä¸º item in items ä¸­éå†çš„ item é¡¹çš„å€¼



**v-html**

```js
<body>

    <div id="app">
        <!-- ä¼šå˜æˆ <span><h1>Hello</h1></span> -->
        <span v-html="msg"></span>
    </div>

    <script src="../node_modules/vue/dist/vue.js"></script>

    <script>
        new Vue({
            el: "#app",
            data: {
                msg: "<h1>Hello</h1>",
            }
        })
    </script>

</body>
```



> v-if  VS  v-show
>
> v-if æ˜¯ç›´æ¥ F12 ä¸­çœ‹ä¸åˆ°ä»£ç äº†ï¼Œv-show æ˜¯ display å±æ€§ä¸º false



==**è®¡ç®—å±æ€§ & ç›‘å¬å™¨**==

```js
<body>
    <div id="app">
        <!-- æŸäº›ç»“æœæ˜¯åŸºäºä¹‹å‰æ•°æ®å®æ—¶è®¡ç®—å‡ºæ¥çš„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è®¡ç®—å±æ€§ã€‚æ¥å®Œæˆ -->
        <ul>
            <li>è¥¿æ¸¸è®°ï¼› ä»·æ ¼ï¼š{{xyjPrice}}ï¼Œæ•°é‡ï¼š<input type="number" v-model="xyjNum"> </li>
            <li>æ°´æµ’ä¼ ï¼› ä»·æ ¼ï¼š{{shzPrice}}ï¼Œæ•°é‡ï¼š<input type="number" v-model="shzNum"> </li>
            <li>æ€»ä»·ï¼š{{totalPrice}}</li>
            {{msg}}
        </ul>
    </div>
    <script src="../node_modules/vue/dist/vue.js"></script>

    <script>
        //watchå¯ä»¥è®©æˆ‘ä»¬ç›‘æ§ä¸€ä¸ªå€¼çš„å˜åŒ–ã€‚ä»è€Œåšå‡ºç›¸åº”çš„ååº”ã€‚
        new Vue({
            el: "#app",
            data: {
                xyjPrice: 99.98,
                shzPrice: 98.00,
                xyjNum: 1,
                shzNum: 1,
                msg: ""
            },
            computed: {
                totalPrice(){
                    return this.xyjPrice*this.xyjNum + this.shzPrice*this.shzNum
                }
            },
            watch: {
                xyjNum(newVal,oldVal){
                    if(newVal>=3){
                        this.msg = "åº“å­˜è¶…å‡ºé™åˆ¶";
                        this.xyjNum = 3
                    }else{
                        this.msg = "";
                    }
                }
            },
        })
    </script>

</body>
```



##### æ³¨æ„ï¼š**ç»„ä»¶çš„ data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¸å†æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚**  data + return

å¯å…¨å±€ / å±€éƒ¨

```js
<body>
    <div id="app">
        <button v-on:click="count++">æˆ‘è¢«ç‚¹å‡»äº† {{count}} æ¬¡</button>

        <counter></counter>
        <counter></counter>
        <counter></counter>
        <counter></counter>
        <counter></counter>

        <button-counter></button-counter>
    </div>
    <script src="../node_modules/vue/dist/vue.js"></script>

    <script>
        //1ã€å…¨å±€å£°æ˜æ³¨å†Œä¸€ä¸ªç»„ä»¶
        Vue.component("counter", {
            template: `<button v-on:click="count++">æˆ‘è¢«ç‚¹å‡»äº† {{count}} æ¬¡</button>`,
            data() {
                return {
                    count: 1
                }
            }
        });

        //2ã€å±€éƒ¨å£°æ˜ä¸€ä¸ªç»„ä»¶
        const buttonCounter = {
            template: `<button v-on:click="count++">æˆ‘è¢«ç‚¹å‡»äº† {{count}} æ¬¡~~~</button>`,
            data() {
                return {
                    count: 1
                }
            }
        };

        new Vue({
            el: "#app",
            data: {
                count: 1
            },
            components: {
                'button-counter': buttonCounter
            }
        })
    </script>
</body>
```



ä¸ºäº†ç®€åŒ–å¼€å‘ï¼Œ**Vue ä¸ºç”Ÿå‘½å‘¨æœŸä¸­çš„æ¯ä¸ªçŠ¶æ€éƒ½è®¾ç½®äº†é’©å­å‡½æ•°ï¼ˆç›‘å¬å‡½æ•°ï¼‰**



#### 1.4.3 æ¨¡å—åŒ–å¼€å‘

> ä½¿ç”¨ vue-cli å¿«é€Ÿæ­å»ºè„šæ‰‹æ¶å·¥ç¨‹
>
> vue-cliæ˜¯ä»€ä¹ˆï¼švue-cliæ˜¯vueçš„å‘½ä»¤è¡Œå·¥å…·ï¼Œåªè¦æŒ‰ç…§å®˜ç½‘æ•²å‡ è¡Œå‘½ä»¤å°±å¯ä»¥æ–°å»ºä¸€ä¸ªåŸºæœ¬çš„vueé¡¹ç›®æ¡†æ¶ã€‚æ–¹ä¾¿å¿«æ·ã€‚
>
> vue-cliå’Œwebpackæ˜¯ä»€ä¹ˆå…³ç³»ï¼švue-cli é‡Œé¢åŒ…å«äº†webpackï¼Œ å¹¶ä¸”é…ç½®å¥½äº†åŸºæœ¬çš„webpackæ‰“åŒ…è§„åˆ™

1. npm install webpack -gï¼ˆå…¨å±€å®‰è£… webpack ï¼‰
2. npm install -g @vue/cli-init ï¼ˆå…¨å±€å®‰è£… vue è„šæ‰‹æ¶ ï¼‰
3. åˆå§‹åŒ– vue é¡¹ç›®ï¼ˆvue init webpack appnameï¼švue è„šæ‰‹æ¶ä½¿ç”¨ webpack æ¨¡æ¿åˆå§‹åŒ–ä¸€ä¸ªappname é¡¹ç›®ï¼‰
4. å¯åŠ¨ vue é¡¹ç›®ï¼ˆé¡¹ç›®çš„ package.json ä¸­æœ‰ scriptsï¼Œä»£è¡¨æˆ‘ä»¬èƒ½è¿è¡Œçš„å‘½ä»¤ npm start = npm run devï¼šå¯åŠ¨é¡¹ç›® npm run buildï¼šå°†é¡¹ç›®æ‰“åŒ…ï¼‰



è®²è§£ä¸€ä¸‹ç›®å½•ğŸ¤ºï¼š

1. **build** å’Œ webpack æœ‰å…³çš„ä»£ç 
2. **config** é…ç½®ä¿¡æ¯ï¼Œå¦‚é¡¹ç›®ç«¯å£é…ç½®
3. **node_modules** é¡¹ç›®æ‰€æœ‰çš„ä¾èµ–ï¼Œç›¸å½“äº Maven ä¸‹è½½ä¾èµ–åŒ…
4. **src** æˆ‘ä»¬ç¼–å†™ä»£ç çš„åœ°æ–¹
5. **.babellrc** å°†æ–°ç‰¹æ€§ä»£ç è‡ªåŠ¨è½¬æ¢æˆæµè§ˆå™¨èƒ½å…¼å®¹çš„è€ä»£ç 
6. **package.json** ç›¸å½“äºåç«¯çš„ pom.xml
7. **package-lock.json** æ˜¯ä¸Šè€…çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬å»å“ªé‡Œä¸‹



src/main.js ä¸»ç¨‹åº



#### 1.4.3 Element-UI

Element UI åŸºäº Vue 2.0 çš„æ¡Œé¢ç«¯ç»„ä»¶åº“ï¼ˆå…·ä½“çœ‹å®˜ç½‘ï¼‰

npm install element-ui

è£…å®Œåå¯åœ¨ **package.json** çœ‹åˆ°ä¿¡æ¯

åœ¨ main.js å¯¼å…¥

```js
import ElementUI from 'element-ui';
import 'element-ui/lib/theme-chalk/index.css';

Vue.use(ElementUI);
```

çœ‹æ–‡æ¡£å†™å°±è¡Œäº†ï¼Œæ–‡æ¡£æ˜æ˜ç™½ç™½ï¼Œuiæ¡†æ¶å­¦ä¹ æ²¡å•¥æˆæœ¬ï¼Œå°±æ˜¯cv

è¸©å‘ï¼šnpm å®‰è£…åï¼Œç”¨ <el-image> çš„æ—¶å€™æŠ¥é”™ 

`Unknown custom element: <el-image> - did you register the component correctly?`

è§£å†³ï¼šæ–‡æ¡£ -> å¿«é€Ÿä¸Šæ‰‹ è‡ªå·±copyå®Œæ•´ç»„ä»¶åˆ—è¡¨import {}é‡Œé¢çš„å’Œuseï¼Œåˆ° src\element-ui\index.js  å†æŠŠä¸€äº›æ²¡æœ‰çš„ç»„ä»¶åˆ æ‰



#### 1.4.4 è§£å†³é—ªçƒé—®é¢˜

```html
    <!--v-cloak è§£å†³é—ªçƒé—®é¢˜-->
    <style>
        [v-cloak] {
            display: none;
        }
    </style>
```



#### 1.4.5 ==ç”Ÿå‘½å‘¨æœŸæ–¹æ³•==

```json
  			"components: {},",

            "data() {",
            "//è¿™é‡Œå­˜æ”¾æ•°æ®",
            "return {",
            "",
            "};",
            "},",

            "//ç›‘å¬å±æ€§ ç±»ä¼¼äºdataæ¦‚å¿µ",
            "computed: {},",
            "//ç›‘æ§dataä¸­çš„æ•°æ®å˜åŒ–",
            "watch: {},",
            "//æ–¹æ³•é›†åˆ",
            "methods: {",
            "",
            "},",
            "//ç”Ÿå‘½å‘¨æœŸ - åˆ›å»ºå®Œæˆï¼ˆå¯ä»¥è®¿é—®å½“å‰thiså®ä¾‹ï¼‰",
            "created() {",
            "",
            "},",
            "//ç”Ÿå‘½å‘¨æœŸ - æŒ‚è½½å®Œæˆï¼ˆå¯ä»¥è®¿é—®DOMå…ƒç´ ï¼‰",
            "mounted() {",
            "",
            "},",
            "beforeCreate() {}, //ç”Ÿå‘½å‘¨æœŸ - åˆ›å»ºä¹‹å‰",
            "beforeMount() {}, //ç”Ÿå‘½å‘¨æœŸ - æŒ‚è½½ä¹‹å‰",
            "beforeUpdate() {}, //ç”Ÿå‘½å‘¨æœŸ - æ›´æ–°ä¹‹å‰",
            "updated() {}, //ç”Ÿå‘½å‘¨æœŸ - æ›´æ–°ä¹‹å",
            "beforeDestroy() {}, //ç”Ÿå‘½å‘¨æœŸ - é”€æ¯ä¹‹å‰",
            "destroyed() {}, //ç”Ÿå‘½å‘¨æœŸ - é”€æ¯å®Œæˆ",
            "activated() {}, //å¦‚æœé¡µé¢æœ‰keep-aliveç¼“å­˜åŠŸèƒ½ï¼Œè¿™ä¸ªå‡½æ•°ä¼šè§¦å‘",
            "}",
```



### 1.5 é«˜çº§éƒ¨åˆ†

==çˆ¶å­ç»„ä»¶ä¼ é€’æ•°æ®==ï¼šä»”ç»†çœ‹ä¸‹é¢çš„ä¾‹å­ä¾¿äºç†è§£ï¼

```js
/**
 * çˆ¶å­ç»„ä»¶ä¼ é€’æ•°æ®
 * 1)ã€å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œäº‹ä»¶æœºåˆ¶ï¼›
 *    å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶å‘é€ä¸€ä¸ªäº‹ä»¶ï¼Œæºå¸¦ä¸Šæ•°æ®ã€‚
 * // this.$emit("äº‹ä»¶å",æºå¸¦çš„æ•°æ®...)
 */


//å‘çˆ¶ç»„ä»¶å‘é€äº‹ä»¶ï¼›å‚æ•°å«ä¹‰ï¼ˆäº‹ä»¶åæ¨è-çš„å†™æ³•ï¼Œä»»æ„å¤šçš„æ•°æ®éƒ½ä¼šå¸¦å‡ºå»ï¼‰
this.$emit("tree-node-click", data, node, component);

//çˆ¶ç»„ä»¶ç»‘å®šè¿™ä¸ªäº‹ä»¶ï¼ˆ@tree-node-clickï¼‰ï¼Œè§¦å‘ä¸€ä¸ªè‡ªå·±çš„æ–¹æ³•treenodeclick
<category @tree-node-click="treenodeclick"></category>
```







## 2. åç«¯

å¯¼å…¥[äººäººå¼€æº](https://gitee.com/renrenio)çš„é¡¹ç›®åˆ°ideaæ—¶ï¼ŒæŠ¥é”™ã€‚é€šè¿‡æ”¹parentçš„bootç‰ˆæœ¬è§£å†³ï¼



> åœ¨æµ‹è¯•ç±»æµ‹è¯• product æ¨¡å—çš„åŠŸèƒ½ï¼Œç»“æœä¸€ç›´æŠ¥é”™ï¼Œæ€ä¹ˆè§£å†³éƒ½æä¸å¥½
>
> ç»“æœè®¤çœŸçœ‹æœ‰ä¸ª seata çš„æŠ¥é”™ï¼Œæˆ‘å°±å» pom æŠŠ seata ä¾èµ–æ³¨é”€å°±å¥½äº†ï¼ï¼ï¼



> ==[org.junit.jupiter.api.Testå’Œorg.junit.TeståŒºåˆ«](https://blog.csdn.net/qq_36050981/article/details/119565383)==
>
> ç°åœ¨éœ€è¦çŸ¥é“ï¼ä¸»è¦æ˜¯ spring boot 2.2ä¹‹å‰ä½¿ç”¨çš„æ˜¯ Junit4 ä¹‹åæ˜¯ Junit5ï¼Œè¿˜éœ€çŸ¥é“ä»–ä»¬ä¸¤ä¸ªæœ‰ä»€ä¹ˆåŒºåˆ«çœ‹ç½‘ç«™ï¼
>
> 
>
> [å…³äº@RunWith(SpringRunner.class)çš„ä½œç”¨](https://blog.csdn.net/qq_21108099/article/details/111496005)
>
> SpringBoot æµ‹è¯•ç±» éœ€è¦ä»å®¹å™¨ä¸­è·å–å®ä¾‹æ˜¯éœ€è¦åŠ ä¸Šè¯¥æ³¨è§£ï¼Œå¦åˆ™ç©ºæŒ‡é’ˆï¼Œç®¡ä½ æ˜¯å•¥IDEã€‚è²Œä¼¼æ˜¯Junit4ç”¨çš„æ³¨è§£



>@Value å– user.name å–çš„æ˜¯ç³»ç»Ÿå˜é‡
>
>æ‰€ä»¥æœ€å¥½åŠ å‰ç¼€ coupon.user.name



## 3. æŠ€æœ¯é€‰å‹

ç»“åˆ SpringCloud Alibaba æˆ‘ä»¬æœ€ç»ˆçš„æŠ€æœ¯æ­é…æ–¹æ¡ˆï¼š 

* **SpringCloud Alibaba - Nacosï¼šæ³¨å†Œä¸­å¿ƒï¼ˆæœåŠ¡å‘ç°/æ³¨å†Œï¼‰**
* **SpringCloud Alibaba - Nacosï¼šé…ç½®ä¸­å¿ƒï¼ˆåŠ¨æ€é…ç½®ç®¡ç†ï¼‰** 
* **SpringCloud - Ribbonï¼šè´Ÿè½½å‡è¡¡** 
* **SpringCloud - Feignï¼šå£°æ˜å¼ HTTP å®¢æˆ·ç«¯ï¼ˆè°ƒç”¨è¿œç¨‹æœåŠ¡ï¼‰** 
* **SpringCloud Alibaba - Sentinelï¼šæœåŠ¡å®¹é”™ï¼ˆé™æµã€é™çº§ã€ç†”æ–­ï¼‰** 
* **SpringCloud - Gatewayï¼šAPI ç½‘å…³ï¼ˆwebflux ç¼–ç¨‹æ¨¡å¼ï¼‰** 
* **SpringCloud - Sleuthï¼šè°ƒç”¨é“¾ç›‘æ§** 
* **SpringCloud Alibaba - Seataï¼šåŸ Fescarï¼Œå³åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆ**



# å››ã€é¡¹ç›®å¼€å§‹

## 1. æ³¨æ„å°ç‚¹

> ä½¿ç”¨ MyBatis-Plus æ—¶å€™ï¼Œ==ServiceImpl å¯ä»¥ä¸ç”¨ æ³¨å…¥ Daoï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ baseMapper==

```java
public class CategoryServiceImpl extends ServiceImpl<CategoryDao, CategoryEntity> implements CategoryService
    
    /**
     * ä»¥å‰æ­£å¸¸å†™æ³•
     */
    @Autowired
    private CategoryDao categoryDao;

		/**
         * ç°åœ¨ç”¨äº† MyBatis-Plus å
         * baseMapper ä»£æ›¿äº† categoryDao(ä¸ç”¨æ³¨å…¥)
         */
        baseMapper.selectList(null);

//å…·ä½“çœ‹ extends ServiceImpl è¿™ä¸ªç±»çš„æºç ï¼Œpublic class ServiceImpl<M extends BaseMapper<T>, T> implements IService<T> 
//å› ä¸ºç»§æ‰¿æ³›å‹æ˜¯ categoryDao åˆ°è¿™ä¸ªç±»æŠ•å°„æˆäº† protected M baseMapper;
```



> @Mapper æ¥å£æ—¶å€™æ–¹æ³•ç­¾åä¸­çš„å½¢å‚çš„ @Param å¯ä»¥ç”¨ MybatisX æ’ä»¶ç”Ÿæˆ
>
> ![image-20221019140152140](http://image.zzq8.cn/img/202210191401611.png)



> æ„Ÿè§‰å¾ˆæ´‹æ°” ï¼å–„ç”¨ lambda è¡¨è¾¾å¼ ï¼å¤šçœ‹çœ‹å­¦å­¦ï¼Œé‚£ä¸ªåšå®¢ç•™è¨€ä¸‰çº§åº”è¯¥ä¹Ÿå¯ä»¥ç®€åŒ–æˆè¿™æ ·
>
> å®ç°æ ‘å½¢ç»“æ„çš„ ä¸‰çº§åˆ†ç±»ï¼Œå…ˆç»™ entity åŠ ä¸€ä¸ª
>
> ```
> @TableField(exist=false)
> private List<CategoryEntity> children;
> ```

```java
@Override
    public List<CategoryEntity> listWithTree() {
        // æŸ¥å‡ºæ‰€æœ‰åˆ†ç±»
        List<CategoryEntity> entities = baseMapper.selectList(null);

        //ä»ä¸€çº§åˆ†ç±»å¼€å§‹ç»™æ¯ä¸ªé€’å½’ç»™ä¸€ä¸ªå­list
        List<CategoryEntity> AllLevelMenus = entities.stream()
                .filter(entity -> entity.getParentCid() == 0)
                .map((entity) -> {
                    entity.setChildren(getChildrens(entity, entities));
                    //å› ä¸º map çš„Lambdaè¡¨è¾¾å¼å¿…é¡»æ˜¯ Function æ¥å£çš„ä¸€ä¸ªå®ä¾‹ï¼Œä¹Ÿå°±æ˜¯éœ€è¦å‚æ•°éœ€è¦è¿”å›å€¼ï¼Œä¸Šé¢è¿™è¡Œæ²¡æœ‰è¿”å›å€¼
                    return entity;
                })
                .sorted((menu1, menu2) -> menu1.getSort() - menu2.getSort())
                .collect(Collectors.toList());
        return AllLevelMenus;
    }

######################################################


    private List<CategoryEntity> getChildrens(CategoryEntity entity, List<CategoryEntity> all) {
        List<CategoryEntity> childrenList = all.stream()
                .filter(menu -> menu.getParentCid() == entity.getCatId())
                .map((menu) -> {
                    menu.setChildren(getChildrens(menu, all));
                    return menu;
                })
                .sorted((menu1, menu2) -> menu1.getSort() == null ? 0 : menu1.getSort() - (menu2.getSort() == null ? 0 : menu2.getSort()))
                .collect(Collectors.toList());
        return childrenList;
    }
```





> 1. vscode æ³¨é‡ŠæŠ¥é”™ï¼Œå…³é—­ESlintçš„è¯­æ³•æ£€æŸ¥
>
>    * build -> webpack.base.conf.js é‡Œé¢çš„ createLintingRule æ³¨é”€æ‰
>
>    * ```js
>      const createLintingRule = () => ({
>        // test: /\.(js|vue)$/,
>        // loader: 'eslint-loader',
>        // enforce: 'pre',
>        // include: [resolve('src'), resolve('test')],
>        // options: {
>        //   formatter: require('eslint-friendly-formatter'),
>        //   emitWarning: !config.dev.showEslintErrorsInOverlay
>        // }
>      })
>      ```
>
> 2. console.log     ä¸è¦å† String æ‹¼æ¥ï¼Œç›´æ¥å¤šä¸ªå˜é‡  
>
>    * console.log('data'+data); // data:[object Object]   
>
>    * console.log('1', '2', data); // 1 dataå…·ä½“æ•°æ®
>
> 3. getMenus åˆ·æ–°çš„åŸå› ï¼šå¦‚æœå¤šä¸ªäººæ“ä½œäº†è¿™ä¸ªé¡µé¢å‘¢ï¼Œä¸å†è¯·æ±‚ä¸€æ¬¡é¡µé¢æ•°æ®æ€ä¹ˆæ˜¯æœ€æ–°çš„ï¼Ÿ
>
>    â€‹       this.getMenus();
>
>    â€‹       this.expandedKey = [node.parent.data.catId];



> yaml é…ç½®å°ç‚¹

```yaml
#å¯ä»¥åŠ ä¸Šä¸‹æ–‡è·¯å¾„  http://localhost:8080/renren-fast
server.servlet.context-path:/renren-fast
```



> **ç‰¹æ®Šæ³¨é‡Šè¯´æ˜ï¼Œ==å­¦åˆ°äº†ï¼ï¼ï¼==**

`//TODO: + è¯´æ˜ï¼š`   åœ¨ idea ä¸­è¿™ä¸ªæ³¨é‡Šä¼šå˜æˆé‡‘è‰²ï¼Œä¸”ä¼šåœ¨ä¸‹é¢å·¥å…·æ æ˜¾ç¤ºï¼ç±»ä¼¼å¿«é€Ÿå¤‡å¿˜å½•åŠŸèƒ½
å¦‚æœä»£ç ä¸­æœ‰è¯¥æ ‡è¯†ï¼Œè¯´æ˜åœ¨æ ‡è¯†å¤„æœ‰åŠŸèƒ½ä»£ç å¾…ç¼–å†™ï¼Œå¾…å®ç°çš„åŠŸèƒ½åœ¨è¯´æ˜ä¸­ä¼šç®€ç•¥è¯´æ˜ã€‚æå®Œäº†å°±åˆ æ‰TODO

![image-20220814161700939](http://image.zzq8.cn/img/202208141617036.png)

// XXX å‹‰å¼ºå¯ä»¥å·¥ä½œï¼Œä½†æ˜¯æ€§èƒ½å·®ç­‰åŸå› .

// FIXME ä»£ç æ˜¯é”™è¯¯çš„ï¼Œä¸èƒ½å·¥ä½œï¼Œéœ€è¦ä¿®å¤.



> å› ä¸ºæ•°æ®åº“ç”¨çš„ **è‡ªå¢** ä¸»é”®ï¼Œæ‰€ä»¥è¦é…ç½®ä¸€ä¸‹ï¼Œä¸ç„¶ 
>
> ```java
> @TableId
> private Long catId;
> å…¶ä¸­ 
> IdType type() default IdType.NONE;
> ```

```yaml
mybatis-plus:
  global-config:
    db-config:
      id-type: auto
```



> åŒæ—¶é…ç½® **æ³¨è§£** ä¸ **é…ç½®æ–‡ä»¶** æ³¨è§£ä¼šç”Ÿæ•ˆï¼Œé…ç½®æ–‡ä»¶å¤±æ•ˆ

1. æµ‹è¯•ç‚¹ï¼š

   - åœ¨bootstrap.ymlä¸­é…ç½®ï¼š`id-type: auto`ï¼Œ

     æ³¨è§£ä¸º`@TableId(value = "id", type = IdType.ASSIGN_ID)`

     ç»è¿‡æµ‹è¯•ï¼šæ³¨è§£ç”Ÿæ•ˆã€‚

   - å°†é…ç½®ç§»åŠ¨åˆ°application.ymlä¸­æµ‹è¯•ç»“æœä¸ä¸Šé¢ç›¸åŒã€‚

2. ç»“è®ºï¼š==æ³¨è§£ä¼˜å…ˆé…ç½®ç”Ÿæ•ˆ==ã€‚



**MyBatis-Plus é€»è¾‘åˆ é™¤æœ‰ä¸¤ç§æ–¹æ³•**

> ç‰©ç†åˆ é™¤ ï¼šä»æ•°æ®åº“ä¸­ç›´æ¥ç§»é™¤
>
> é€»è¾‘åˆ é™¤ ï¼šå†æ•°æ®åº“ä¸­æ²¡æœ‰è¢«ç§»é™¤ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ªå˜é‡æ¥è®©ä»–å¤±æ•ˆï¼Œç±»ä¼¼äºå›æ”¶ç«™ï¼

* yaml é…ç½®æ ‡å¿—ä½ã€åˆ é™¤ä¸æœªåˆ é™¤æ˜¯ 0/1
* ç”¨ @TableLogic æ³¨è§£é…ç½®



> yaml é…ç½®æ—¥å¿—ï¼Œçœ‹ SQL è¯­å¥
>
> çœ‹åˆ° renren-fast é…ç½®çš„æ˜¯ logback-spring.xml

```yaml
logging:
  level:
    com.zzq.gulimall: debug  #å°±ä»£è¡¨è¿™ä¸ªåŒ…ä¸‹é¢æ‰€æœ‰çš„
```





## 2. [è·¨æºèµ„æºå…±äº«ï¼ˆCORSï¼‰](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS)

**è·¨åŸŸï¼šæŒ‡çš„æ˜¯æµè§ˆå™¨ä¸èƒ½æ‰§è¡Œå…¶ä»–ç½‘ç«™çš„è„šæœ¬ã€‚å®ƒæ˜¯ç”±æµè§ˆå™¨çš„åŒæºç­–ç•¥é€ æˆçš„ï¼Œæ˜¯==æµè§ˆå™¨å¯¹javascriptæ–½åŠ çš„å®‰å…¨é™åˆ¶==ã€‚**

**åŒæºç­–ç•¥ï¼šæ˜¯æŒ‡==åè®®ï¼ŒåŸŸåï¼Œç«¯å£==éƒ½è¦ç›¸åŒï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªä¸åŒéƒ½ä¼šäº§ç”Ÿè·¨åŸŸï¼›**

![image-20220813175848410](http://image.zzq8.cn/img/202208131758590.png)



> ç†è§£ [ç®€å•è¯·æ±‚](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS#ç®€å•è¯·æ±‚) å’Œ[é¢„æ£€è¯·æ±‚](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS#é¢„æ£€è¯·æ±‚)

ä¸æ˜¯ç®€å•è¯·æ±‚çš„éƒ½éœ€è¦å‘é€ä¸€ä¸ªé¢„æ£€è¯·æ±‚ æ¯”å¦‚çœ‹æ ‡é¢˜é“¾æ¥ï¼Œè¿™é‡Œå‘çš„æ˜¯ Application/json æµè§ˆå™¨å“åº”

`Request Method: OPTIONS`

![image-20220813180934578](http://image.zzq8.cn/img/202208131809687.png)

**æ‰€ä»¥æœåŠ¡å™¨ä¸å…è®¸ï¼Œå°±ä¸€ä¸ªOPTIONSè¯·æ±‚è¿‡å»åã€‚çœŸå®è¯·æ±‚å°±æ²¡æœ‰å‘äº†ï¼**



### è§£å†³è·¨åŸŸ

ï¼ˆä¸€ï¼‰ä½¿ç”¨nginxéƒ¨ç½²ä¸ºåŒä¸€åŸŸ          æ„Ÿè§‰ï¼šå¥—äº†ä¸€å±‚åˆä¸€å±‚

![image-20220813182436081](http://image.zzq8.cn/img/202208131824168.png)

ï¼ˆäºŒï¼‰é…ç½®å½“æ¬¡è¯·æ±‚å…è®¸è·¨åŸŸ

![image-20220813185445762](http://image.zzq8.cn/img/202208131854872.png)

ä¸€ä¸ªä¸ª Model é…å¤ªç¹çï¼Œå› ä¸ºæ‰€æœ‰ Model çš„æ–¹æ³•éƒ½ä¼šç»è¿‡ Gateway æ‰€ä»¥ç½‘å…³æä¸€ä¸ªé…ç½®ç±»

ä¸»è¦å°±æ˜¯æä¸€ä¸ª CorsWebFilter çš„ Bean



ä¸€ç‚¹ä¸€ç‚¹çš„newï¼Œéœ€è¦ä»€ä¹ˆé…ç½®ä»€ä¹ˆï¼ï¼ï¼çœ‹æºç å‚æ•°ç¼ºä»€ä¹ˆã€‚å­¦ä¹ ä¸€ä¸‹é›·ç¥çš„æ€æƒ³ï¼Œåˆ«çš„è€å¸ˆéƒ½æ˜¯ç›´æ¥å»ç½‘ä¸Šå¤åˆ¶

æ³¨æ„ï¼š

```java
	//é…ç½®è·¨åŸŸ
        corsConfiguration.addAllowedHeader("*");
        corsConfiguration.addAllowedMethod("*");
        corsConfiguration.addAllowedOrigin("*");
        //è®¾ç½®å…è®¸æºå¸¦cookiesï¼Œä¸ç„¶è·¨åŸŸè¯·æ±‚ä¼šä¸¢å¤±æºå¸¦çš„cookies
        corsConfiguration.setAllowCredentials(true);
```

![image-20220813191254660](http://image.zzq8.cn/img/202208131912755.png)

ä¸ºäº†è§£å†³æµè§ˆå™¨è·¨åŸŸé—®é¢˜ï¼ŒW3C æå‡ºäº†è·¨æºèµ„æºå…±äº«æ–¹æ¡ˆï¼Œå³ `CORS`(Cross-Origin Resource Sharing)ã€‚å®ƒå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨ï¼Œå‘å‡ºXMLHttpRequestè¯·æ±‚ã€‚spring mvc 4.2ç‰ˆæœ¬å¢åŠ äº†å¯¹corsçš„æ”¯æŒï¼Œé€šè¿‡spring bootå¯ä»¥éå¸¸ç®€å•çš„å®ç°è·¨åŸŸè®¿é—®ã€‚

å€¼å¾—ä¸€çœ‹CorsConfigï¼š[ã€è·¨åŸŸã€‘ä½¿ç”¨CorsConfigå’Œæ³¨è§£ï¼Œè§£å†³è·¨åŸŸ](https://juejin.cn/post/6947966470798180359)  å’Œ [gatewayè·¨åŸŸè§£å†³æ–¹æ¡ˆ](https://juejin.cn/post/6941260113197924389)



==SSYX Project è¡¥å……ï¼š

1ï¼‰åœ¨åç«¯æ¥å£controlleræ·»åŠ @CorsConfigè·¨åŸŸæ³¨è§£æœ€ç®€å•è§£å†³è·¨åŸŸ  ï¼ˆè·¨åŸŸæœ‰å¤šç§è§£å†³æ–¹æ¡ˆï¼Œç°åœ¨æš‚æ—¶è¿™ä¹ˆåšï¼‰

2ï¼‰å¯èƒ½åæœŸè¿˜æ˜¯ä»¥ç½‘å…³å±‚é¢è§£å†³æ˜¯æœ€å¥½==



#### è¡¥å……ï¼š

CORSä¸JSONPçš„ä½¿ç”¨ç›®çš„ç›¸åŒï¼Œä½†æ˜¯æ¯”JSONPæ›´å¼ºå¤§ã€‚

==JSONPåªæ”¯æŒ`GET`è¯·æ±‚ï¼ŒCORSæ”¯æŒæ‰€æœ‰ç±»å‹çš„HTTPè¯·æ±‚ã€‚==JSONPçš„ä¼˜åŠ¿åœ¨äºæ”¯æŒè€å¼æµè§ˆå™¨ï¼Œä»¥åŠå¯ä»¥å‘ä¸æ”¯æŒCORSçš„ç½‘ç«™è¯·æ±‚æ•°æ®ã€‚





## 3. [==axioså’Œvue-axiosçš„å…³ç³»åŠä½¿ç”¨åŒºåˆ«==](https://www.panziye.com/java/web/4033.html)

æ‰€ä»¥è¯´ axios ä½¿ç”¨æ–¹å¼å°±æ˜¯ç”¨this.$httpï¼š**Vue.prototype.$http = axios**  

```js
# ç¬¬ä¸€æ­¥ï¼šå®‰è£…
npm install --save axios
# ç¬¬äºŒæ­¥ï¼šåœ¨å…¥å£æ–‡ä»¶main.jsä¸­é…ç½®
import Vue from 'vue'
import axios from 'axios'
Vue.prototype.$http = axios
# ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨æ¡ˆä¾‹
this.$http.get('/user?id=666').then((response) => {
  console.log(response.data)
}).catch( (error) => {
    console.log(error);
});
```



## 4. ä¸‰çº§èœå•ï¼šæ‹–æ‹½å‰ç«¯ä¸šåŠ¡å®ç°

* èƒ½å¦æ‹–æ‹½çš„å®ç°æ€è·¯æ˜¯è‡ªå·±ç®€å•ä¸€ä¸ª if åˆ¤æ–­æ²¡æœ‰ç”¨é›·ç¥çš„
* æ‹–æ‹½çš„ **handleDrop** æ–¹æ³•å®ç°é‚£ä¸‰ç‚¹cvçš„æ²¡æœ‰å»çœ‹ (æŠ½ç©ºå¯ä»¥å†çœ‹çœ‹)



ref ç»™ç»„ä»¶å”¯ä¸€æ ‡è¯†ï¼ˆèµ·ä¸ªåå­—ï¼‰ this.$refs æ‹¿åˆ°

```js
ref="menuTree"
//ä¸‹é¢è¿™æ ·å°±å¯ä»¥å”¯ä¸€å®šä½åˆ°ä¸Šé¢å±æ€§æŒ‡å®šçš„ç»„ä»¶
this.$refs.menuTree.filter(val);
```



åå°è„šæ‰‹æ¶å¹³å°ä¸€èˆ¬æ˜¯åç«¯é¡ºæ‰‹å†™å‡ºæ¥çš„



## 5. è¸©å‘

### é€»è¾‘åˆ é™¤

/product/brand/update    ä¼ çš„dataï¼š{brandId,showStatus}

SQLæŠ¥é”™æ˜¯å› ä¸ºmybatis-plusä¸æ”¯æŒæ›´æ–°é€»è¾‘åˆ é™¤çš„å­—æ®µ



æ³¨æ„wrapperè¦ç”¨æ•°æ®åº“é‡Œçš„å­—æ®µ_ï¼Œè€Œä¸æ˜¯entityé‡Œé¢çš„å°é©¼å³°

```wrapper.eq("brand_id",brand.getBrandId())
wrapper.eq("brand_id",brand.getBrandId())
        .set("show_status",brand.getShowStatus());
```



==MyBatisPlusä¸­å¼€å¯äº†é€»è¾‘åˆ é™¤åˆ™æ›´æ–°é€»è¾‘å­—æ®µä¸å†ç®¡ç”¨ï¼Œæ€»æ˜¯è‡ªåŠ¨å¸¦ä¸Šshow_status=1==

Preparing: UPDATE pms_brand SET show_status=? WHERE ==show_status=1== AND (brand_id = ?) 

åŠ äº†é…ç½®æ–‡ä»¶å…¨å±€çš„é€»è¾‘åˆ é™¤ï¼Œç”¨updateWrapperä¹Ÿæ˜¯ä¸è¡Œçš„ï¼Œè¿˜æ˜¯ä¼šåœ¨whereåé¢æ‹¼æ¥



è§£å†³ï¼šä¸ç”¨å…¨å±€çš„é€»è¾‘åˆ é™¤ï¼Œcategory é‚£ä¸ªå®ä½“ç±»ç”¨ä¸€ä¸‹æ³¨è§£å°±è¡Œï¼



### å‰ç«¯æ ¡éªŒ

> æ’åºå¿…é¡»æ˜¯ä¸€ä¸ªå¤§äºç­‰äº0çš„æ•´æ•°
>
> `v-model.number="dataForm.sort"`  å’Œ  `if (!Number.isInteger(value) || value<0)`



## 6. OSSï¼ˆObject Storage Serviceï¼‰

æœåŠ¡ç«¯SDKåœ¨ä¸Šä¼ æ–¹é¢ä¸»è¦æä¾›ä¸¤ç§åŠŸèƒ½ï¼š

* ä¸€ç§æ˜¯ç›´æ¥ä¸Šä¼ æ–‡ä»¶åˆ°äº‘ç«¯ã€‚
* æœ€å¥½çš„æ˜¯ç”Ÿæˆå®¢æˆ·ç«¯ä¸Šä¼ æ‰€éœ€è¦çš„ä¸Šä¼ å‡­è¯

é¡¹ç›®é‡‡å–ï¼šç¬¬äºŒç§æœåŠ¡ç«¯ç­¾ååç›´ä¼ ã€‚ä¿è¯äº†ä¸€å®šçš„å®‰å…¨æ€§

ä¸Šä¼ å°±ä¸ç”¨ç»è¿‡è‡ªå·±çš„æœåŠ¡å™¨äº†ï¼ˆä¸ç”¨å å¸¦å®½ï¼‰ï¼Œä¸Šä¼ åœ¨å®¢æˆ·ç«¯å®Œæˆ

æ€»ç»“ï¼šæœåŠ¡å™¨æ‹¿ Token å‰ç«¯é¡µé¢å¸¦ä¸Šåˆ° OSS

![image-20220818222235756](http://image.zzq8.cn/img/202208182222062.png)

æˆ‘è¿™é‡Œç”¨çš„æ˜¯ä¸ƒç‰›äº‘æ‰€ä»¥æ²¡ç”¨åˆ°ä¸‹é¢ï¼Œè‡ªå·±æ£é¼“äº†å¾ˆä¹…ã€‚éš¾çš„å°±æ˜¯å‰ç«¯çš„ vue æ–‡ä»¶æ˜¯ç›´æ¥ copy çš„ï¼Œå¤§éƒ¨åˆ†ä¸œè¥¿ä¸çŸ¥é“ä½œç”¨ï¼

è§£å†³aliyun-oss-spring-boot-starterå¯¼å…¥æŠ¥é”™çš„é—®é¢˜

https://blog.csdn.net/gao_jun1/article/details/111414976

æ³¨æ„åŒºåˆ†ï¼š

```xml
<dependencyManagement>
        <dependencies>
            <dependency>
                <groupId>com.alibaba.cloud</groupId>
                <artifactId>aliyun-spring-boot-dependencies</artifactId>
                <version>1.0.0</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>

            <dependency>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-dependencies</artifactId>
                <version>2.1.8.RELEASE</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
</dependencyManagement>
```



## ==7. JSR 303==

> å‰ç«¯æ ¡éªŒä¸»è¦æ˜¯ç»™ä¸€èˆ¬ç”¨æˆ·çœ‹çš„ï¼Œæé«˜ç”¨æˆ·ä½“éªŒã€‚å› ä¸ºå¯ç”¨ PostMan ç»•è¿‡ç›´æ¥ç»™åç«¯å‘è¯·æ±‚ï¼

  "status": 400,

  "error": "Bad Request"

çœ‹åˆ°ä¸Šé¢è¿™ä¸ªå°±è¯æ˜æ ¡éªŒä¸é€šè¿‡ï¼

æ³¨æ„ï¼šspring-boot-starter-web é‡Œé¢æœ‰ validation

### ä½¿ç”¨è¿‡ç¨‹

1. **ä»¥å‰æ€»è§‰å¾— Controller ç±»è¿˜è¦åœ¨ç±»å¤´åŠ æ³¨è§£ï¼Œè®°å¿†æ··ä¹±äº†ã€‚å®æµ‹ä¸ç”¨ï¼**  åè¯ï¼šä¸æ‡‚

   1. Entity å­—æ®µåŠ  @NotNull etc.
   1. Controller æ–¹æ³•å½¢å‚åŠ æ³¨è§£ @Valid 

   

2. èƒ½ä½¿ç”¨ï¼Œä½†æŠ¥é”™ä¸ç¬¦åˆä¸šåŠ¡è§„å®šï¼Œ**ä¼˜åŒ–**ï¼š

```java
å®ä½“ç±»ï¼š+message
@NotBlank(message = "å“ç‰Œåå¿…é¡»æäº¤")  //æŠ¥é”™jsonå˜æˆ -> "defaultMessage": "å“ç‰Œåå¿…é¡»æäº¤",
Contrllerï¼š+BindingResult
public R save(@Valid @RequestBody BrandEntity brand, BindingResult result){
```

@Pattern å¯ä»¥ç”¨æ­£åˆ™è¡¨è¾¾å¼æ ¡éªŒ

æ³¨æ„ï¼š**java æ­£åˆ™ç¡®å®ä¸éœ€è¦ / / æ³¨æ„åŒºåˆ† js (var re = /ab+c/;)**



3. ==ç»Ÿä¸€å¼‚å¸¸å¤„ç†== 
   * ç±»+ **@RestControllerAdvice("com.zzq.gulimall.product.controller")**
   * æ–¹æ³•+ **@ExceptionHandler(éœ€è¦å¤„ç†çš„å¼‚å¸¸ç±».class)**

> ä¸Šé¢ä¼˜åŒ–ï¼Œæ¯ä¸ªæ–¹æ³•éƒ½è¦åˆ°ä¸šåŠ¡é‡Œå¤„ç†å¼‚å¸¸å¤ªç¹çäº†ï¼ŒæŠ½å–è§£è€¦å°è£…

**ä¸ç”¨ BindingResultï¼Œå»ºä¸€ä¸ª==å¼‚å¸¸ç±»==é›†ä¸­å¤„ç†æ‰€æœ‰å¼‚å¸¸**

è¿™é‡Œé›·ç¥NBï¼Œå‚æ•°å…ˆ Exception eï¼Œè·å–å®ƒçš„å¼‚å¸¸é”™è¯¯ç±» `e.getClass()` æ›¿æ¢å¤§çš„ Exceptionå¼‚å¸¸ï¼Œç»†åŒ–åå°±èƒ½åˆè·å–BindingResultå¯¹è±¡ã€‚

Exception æ˜¯æ²¡æœ‰è¿™ä¸ªæ–¹æ³•çš„ï¼

![image-20220820145558332](http://image.zzq8.cn/img/202208201455426.png)

```java
@ExceptionHandler(MethodArgumentNotValidException.class) //å¤„ç†å¯¹åº”å¼‚å¸¸
    public R handlerValidException(MethodArgumentNotValidException e /*æ„ŸçŸ¥å¼‚å¸¸*/)
```



æœ€å å¦‚æœä¸èƒ½ç²¾ç¡®åŒ¹é…å¼‚å¸¸ï¼Œå°±æ¥åˆ°æœ€å¤§çš„ç±» Exception ï¼Œå†å†™ä¸€ä¸ªæ–¹æ³•æ¥å›Šæ‹¬



é”™è¯¯ç Enum

return çš„ R é”™è¯¯ç å¯ä»¥çœ‹å°šç¡…è°·çš„æ–‡æ¡£ï¼Œä¸€èˆ¬å¯ä»¥æ˜¯5ä½ï¼Œä¸šåŠ¡åœºæ™¯2+é”™è¯¯ç 3ã€‚ç”¨ä¸ªæšä¸¾ç±»å›Šæ‹¬



### åˆ†ç»„æ ¡éªŒ

> åœºæ™¯ï¼šæ–°å¢ / ä¿®æ”¹æ—¶æˆ‘ä»¬æƒ³è¦æ ¡éªŒçš„å­—æ®µå’Œè§„åˆ™å¯èƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼æ¯”å¦‚è¯´ï¼ŒID å­—æ®µ æ–°å¢æ—¶ä¸éœ€è¦æºå¸¦ã€‚è€Œä¿®æ”¹æ—¶å¿…é¡»è¦æºå¸¦

==æ²¡æœ‰æ ‡æ³¨åˆ†ç»„çš„æ ¡éªŒæ³¨è§£å°±ä¸ä¼šè¢«æ ¡éªŒ==

çœ‹å…¬å¸  åæ­£ä½ ä¸ç”¨ä½ ä¹Ÿè¦å†™if else æˆ‘è§‰å¾—è¿˜æ˜¯ç”¨çš„å¥½  ä¸å¸¦ç›´æ¥å¼¹å›è¿˜çœçš„æµªè´¹æ•°æ®åº“èµ„æº

ä¸Šæ‰‹ï¼šæ¯”è¾ƒéº»çƒ¦ï¼Œæ–°å»ºAddGroupã€UpdateGroupè¿™äº›ç©ºæ¥å£ï¼ˆåªå……å½“ä¸€ä¸ªæ ‡è¯†ï¼Œé—®å°±æ˜¯çº¦å®šï¼Œè§„èŒƒï¼‰ï¼Œç„¶ååˆ†ç»„çš„æ—¶å€™å¡«è¿™äº›æ¥å£ï¼Œ**controlleræ–¹æ³•æŒ‡å®šç”¨å“ªä¸ªåˆ†ç»„**  public R save(@Validated(AddGroup.class)

æ–°å»ºåˆ†ç»„æ¥å£ -> æ³¨è§£å¡«åˆ†ç»„ -> controlleræ”¹æˆ**@Validated({AddGroup.class})**



> ==é—®é¢˜ï¼š==
>
> ```java
> //ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™ä¸¤æ ·éƒ½è¡Œ,ä½†æ˜æ˜å±æ€§æ˜¯æ•°ç»„
> @Validated({AddGroup.class})
> @Validated(AddGroup.class)
> 
> public @interface Validated {
>     Class<?>[] value() default {};
> }
> ```
>
> ==æœ Annotation æ‰¾å‡ºç­”æ¡ˆï¼š==
>
> ##### æ•°ç»„ç±»å‹çš„å±æ€§
>
> æ³¨è§£ç±»æ·»åŠ æ•°ç»„ç±»å‹çš„å±æ€§ï¼šint[] id() default {1,2,3};
> ä½¿ç”¨ç±»ä½¿ç”¨æ•°ç»„ç±»å‹çš„å±æ€§ï¼š@Annotation(id={2,3,4})
> **å¦‚æœæ•°ç»„å±æ€§åªæœ‰ä¸€ä¸ªå€¼ï¼Œè¿™æ—¶å€™å±æ€§å€¼éƒ¨åˆ†å¯ä»¥çœç•¥å¤§æ‹¬å·**ï¼Œå¦‚ï¼š@Annotation(id=2)ï¼Œè¡¨ç¤ºæ•°ç»„å±æ€§åªæœ‰ä¸€ä¸ªå€¼ï¼Œå€¼ä¸º2**(å¦‚åŒButterknifeä¸­onClickæ³¨è§£)**
>
> é“¾æ¥ï¼šhttps://www.jianshu.com/p/2867f0558687





æ­£åˆ™å¤„ç†ä¸äº†æ ¡éªŒï¼ˆæ¯”å¦‚ Integer ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰æ ¡éªŒæ³¨è§£

éœ€è¦å¯¼å…¥ï¼Œ**ç›´æ¥ä¿®å¤çš„æ—¶å€™æœ‰é€‰æ‹©å¯¼å…¥ä¾èµ–çš„,ä¸ç”¨æ‰‹åŠ¨**

![image-20220821105014376](http://image.zzq8.cn/img/202208211050573.png)

```
<dependency>
    <groupId>jakarta.validation</groupId>
    <artifactId>jakarta.validation-api</artifactId>
    <version>2.0.2</version>
</dependency>
```



### è‡ªå®šä¹‰æ ¡éªŒï¼ˆä»¿ç…§åˆ«çš„æ ¡éªŒå†™ï¼‰

å¯ä»¥å¤šçœ‹ä¸‹ä»£ç ï¼Œå­¦å­¦é›·ç¥çš„æ€æƒ³å¢ƒç•Œï¼

> ```java
> //è§„å®šï¼Œå»ºè®®çœ‹ä»£ç    ä»¥åŠP69 5ï¼š00
> String message() default "{com.zzq.common.valid.ListValue.message}";
> ```
>
> é»˜è®¤çš„Messageä¿¡æ¯æ˜¯åœ¨è¿™ä¸ªæ–‡ä»¶ï¼š**ValidationMessages_zh_CN.properties**



```
// æŒ‡å®šç”¨ä»€ä¹ˆæ ¡éªŒï¼Œè¿™é‡Œéœ€è¦ç¼–å†™ä¸€ä¸ªè‡ªå·±çš„è‡ªå®šä¹‰æ ¡éªŒå™¨ã€‚å‚ç…§åˆ«çš„æ³¨è§£è‡ªå·±å†™ä¸€ä¸ª
@Constraint(
    validatedBy = {}
)
```



## 8. SPU ä¸ SKU

>SPUï¼ˆStandard Product Unitï¼‰ï¼šå°±æ˜¯iphone xs çš„ä¸€äº›æ ‡å‡†ä¿¡æ¯ï¼ˆåƒç´ ï¼Œå°ºå¯¸ç­‰ï¼‰-- > **åŸºæœ¬å±æ€§** / è§„æ ¼ä¸åŒ…è£…
>
>SKUï¼ˆstock keeping unitï¼‰ï¼šå°±æ˜¯ xs ç»†åŒ–åˆ†ä¸åŒé¢œè‰²ä¸åŒç‰ˆæœ¬ï¼ˆå¤šå¤§å†…å­˜ï¼‰å¯èƒ½ä»·æ ¼ä¹Ÿä¸åŒï¼ˆè¿™æ˜¯çœŸæ­£ä¹°çš„ç‰ˆæœ¬ï¼‰-- > **é”€å”®å±æ€§**
>
>ä»å¹¿ä¹‰ä¸Šè®²ï¼Œç±»ç›®>SPU>SKU



**åˆ†ç±»ï¼ˆCategoryï¼‰ -> åˆ†ç»„ï¼ˆAttrGroupï¼‰ -> å±æ€§ï¼ˆAttrï¼‰**



<img src="http://image.zzq8.cn/img/202208221109447.png" alt="image-20220822110956653" style="zoom: 67%;" />

<img src="http://image.zzq8.cn/img/202208221112300.png" alt="image-20220822111210105" style="zoom:67%;" />

<img src="http://image.zzq8.cn/img/202208221114306.png" alt="image-20220822111429154" style="zoom:67%;" />

å‹¾ä¸­å¿«é€Ÿå±•ç¤ºï¼šå°±æ˜¯æŠŠå®ƒå±•ç¤ºåˆ°å•†å“ä»‹ç»ä¸Š



## 9. å…¶ä»–é‡è¦çš„ç‚¹

### å…³äº MyBatis-Plus

```
Query   PageUtils   éƒ½æ˜¯gulimall-commonçš„è‡ªå®šä¹‰ç±»å°è£…ï¼ˆæ¥æºäº renrenfast å°è£…ï¼‰
å»å…¬å¸ä¹Ÿæ˜¯ç›´æ¥å°è£…å¥½çš„
```



### ==Jackson== ä»‹ç»

Jackson [/ËˆdÊ’Ã¦ksÉ™n/] æ˜¯å½“å‰ç”¨çš„æ¯”è¾ƒå¹¿æ³›çš„ï¼Œç”¨æ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–jsonçš„Javaå¼€æºæ¡†æ¶ã€‚Jacksonç¤¾åŒºç›¸å¯¹æ¯”è¾ƒæ´»è·ƒï¼Œæ›´æ–°é€Ÿåº¦ä¹Ÿæ¯”è¾ƒå¿«ï¼Œ ä»Githubä¸­çš„ç»Ÿè®¡æ¥çœ‹ï¼ŒJacksonæ˜¯æœ€æµè¡Œçš„jsonè§£æå™¨ä¹‹ä¸€ï¼Œ**Spring MVCçš„é»˜è®¤jsonè§£æå™¨ä¾¿æ˜¯Jacksonã€‚**

åœºæ™¯ï¼šä¸‰çº§èœå•æœ€åæ²¡æœ‰ chidren å°±ä¸ç”¨æ˜¾ç¤ºï¼Œä¸ç„¶å‰ç«¯åˆ—è¡¨æ˜¾ç¤ºä¸€ç‰‡ç©ºç™½

```java
@JsonInclude(JsonInclude.Include.NON_EMPTY)
@TableField(exist = false)
private List<CategoryEntity> children;
```

è¿›è¡Œ Json è½¬æ¢ä¼šæŒ‰ç…§è¿™ä¸ªè§„åˆ™

```yaml
spring:
  jackson:
    date-format: yyyy-mm-dd HH:mm:ss
```



### Element UI Cascader çº§è”é€‰æ‹©å™¨

<img src="http://image.zzq8.cn/img/202208232052487.png" alt="image-20220823205206340" style="zoom:67%;" />





### Issue

å‡è®¾xæ˜¯ä¸€ä¸ªå·²çŸ¥ä»…åŒ…å«å­—ç¬¦ä¸²çš„åˆ—è¡¨ï¼ˆListï¼‰ã€‚ä»¥ä¸‹ä»£ç å¯ç”¨äºå°†åˆ—è¡¨è½¬å‚¨åˆ°æ–°åˆ†é…çš„Stringæ•°ç»„ä¸­ï¼š

```java
 String[] y = x.toArray(new String[0]);
```



æµ‹äº†ä¸€ä¸‹è¾“å‡ºéƒ½æ˜¯ abc

```java
List<String> list = Arrays.asList("a", "b", "c");
String[] strings = list.toArray(new String[0]);
String[] strings1 = list.toArray(new String[list.size()]);
```



### Other

åˆç†çš„å†—ä½™å­—æ®µæ˜¯ä¸ºäº†å¿«é€ŸæŸ¥è¯¢ï¼Œå‡å°‘IOæ¬¡æ•°

saveåŠŸèƒ½ï¼Œå‰ç«¯æ²¡æœ‰ä¼ è¿™ä¸¤ä¸ªå­—æ®µï¼Œæƒ³åŠæ³•åŠ è¿™ä¸¤ä¸ªå°±ä¸ç”¨å†å›åˆ°ä»–ä»¬è¡¨å†æŸ¥äº†

è®°ä½è¿˜éœ€ä¿è¯å†—ä½™å­—æ®µçš„æ•°æ®ä¸€è‡´ï¼Œcascade çº§è”å€¼å¾—å­¦ä¹ 

![image-20220824161553329](http://image.zzq8.cn/img/202208241615461.png)



> åœºæ™¯ï¼šæ·»åŠ ä¸€äº›ä¸å±äºè¡¨é‡Œçš„å­—æ®µï¼ˆextends + é¢å¤–å­—æ®µï¼‰ / åªéœ€è¡¨é‡Œå‡ ä¸ªå­—æ®µï¼Œæœ€å¥½è¿˜æ˜¯å•ç‹¬æ–°å»ºä¸€äº› VO... æŠŠæ¯ç§ä¸åŒå¯¹è±¡æŒ‰ç…§åŠŸèƒ½è¿›è¡Œäº†ä¸åŒçš„åˆ’åˆ†



### Object åˆ’åˆ†

POï¼šå„ç§ Entity

TOï¼šå¾®æœåŠ¡ä¹‹é—´äº’ç›¸è°ƒç”¨ä¼ è¾“æ•°ï¼Œå°è£…å’Œå‘é€å‡ºå»çš„å¯¹è±¡å°±æ˜¯ TO

* è·¨æœåŠ¡ OpenFeign æ—¶ï¼ŒtoåŒ…æ”¾common

VOï¼šView Object è§†å›¾å¯¹è±¡

* æ¥å—é¡µé¢ä¼ é€’æ¥çš„æ•°æ®ï¼Œå°è£…å¯¹è±¡ 
* å°†ä¸šåŠ¡å¤„ç†å®Œæˆçš„å¯¹è±¡ï¼Œå°è£…æˆé¡µé¢è¦ç”¨çš„æ•°æ®





### å¸¸ç”¨çš„å°è£…ç±»

>==è¦æŠŠ VO çš„å±æ€§å¤åˆ¶åˆ° POï¼Œä¸€ä¸ªä¸ª set å¾ˆéº»çƒ¦ï¼š BeanUtils==
>
>```java
>    public void saveAttr(AttrVo attr) {
>        AttrEntity attrEntity = new AttrEntity();
>//        attrEntity.setAttrName(attr.getAttrName());
>        BeanUtils.copyProperties(attr,attrEntity);
>    }
>```
>
>
>
>> spring æœ‰ä¸€ä¸ªå·¥å…·ç±» StringUtils 
>>
>> åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯ä¸æ˜¯ä¸ºç©º...å¾ˆæ–¹ä¾¿
>
>
>
>> åˆ¤æ–­é›†åˆæ˜¯ä¸æ˜¯ç©º
>>
>> ```
>> if(!CollectionUtils.isEmpty(attrIds))
>> ```
>
>
>
>> å°è£…çš„ R è¿”å›æ•°æ®
>>
>> ```
>> public class R extends HashMap<String, Object>
>> ```







> ç”¨mapæ¥å‚çš„ï¼Œä¼šæŒ¨é”¤çš„   map å¼€å‘ä¸€æ—¶çˆ½ï¼Œç»´æŠ¤ç«è‘¬åœº
>
> @RequestParam Map<String, Object> params







å­—æ®µï¼šå±æ€§ç±»å‹[0-é”€å”®å±æ€§ï¼Œ1-åŸºæœ¬å±æ€§ï¼Œ2-æ—¢æ˜¯é”€å”®å±æ€§åˆæ˜¯åŸºæœ¬å±æ€§]

åƒè¿™ç§å­—æ®µï¼Œæœ€å¥½æä¸€ä¸ªæšä¸¾å¸¸é‡ã€‚è¿™æ ·æ•°æ®åº“æ›´æ”¹è§„åˆ™äº†ï¼Œæˆ‘ä»¬åªéœ€è¦æ›´æ”¹ä¸€ä¸‹æšä¸¾ç±»ï¼

æ„Ÿè§‰å’Œ æ¥å£ç±» = å®ç°ç±» çš„è®¾è®¡æ„Ÿè§‰ä¸€æ ·ï¼Œåé¢è¦æ¢å®ç°ç±»äº†åªç”¨æ¢å®ç°ç±»ä¸€ä¸ªåœ°æ–¹







Controller ä¸ Service å…³ç³»ï¼šControlleråº”è¯¥åªéœ€ä¸‰å¥è¯           1ï¼ˆå‚æ•°ï¼‰ã€3ï¼ˆè°ƒç”¨Serviceï¼‰ å’Œ return

> 1ã€Controllerï¼šå¤„ç†è¯·æ±‚ï¼Œæ¥æ”¶å’Œæ•ˆéªŒæ•°æ®
>
> 2ã€Serviceæ¥æ”¶Controllerä¼ æ¥çš„æ•°æ®ï¼Œè¿›è¡Œä¸šåŠ¡å¤„ç†
>
> 3ã€Controlleræ¥æ”¶Serviceå¤„ç†å®Œçš„æ•°æ®ï¼Œå°è£…é¡µé¢æŒ‡å®šçš„vo



### æŠ€å·§

==åœ¨çº¿è§£æ Json  çš„ç½‘ç«™ï¼Œæœ‰å¯ä»¥æŠŠ Json è½¬æˆ Java å¯¹è±¡ï¼ï¼ï¼==





### ideaå ç”¨å†…å­˜è¿‡å¤§ï¼ŒæœåŠ¡è¿‡å¤š

[JavaGuide æœ€é‡è¦çš„ JVM å‚æ•°æ€»ç»“](https://javaguide.cn/java/jvm/jvm-parameters-intro.html#_2-1-%E6%98%BE%E5%BC%8F%E6%8C%87%E5%AE%9A%E5%A0%86%E5%86%85%E5%AD%98%E2%80%93xms%E5%92%8C-xmx) 

ç»™æ¯ä¸€ä¸ªå¾®æœåŠ¡è®¾ç½®ï¼š`-Xmx100m`  æ³¨æ„ï¼š**å†…å­˜è°ƒå¤§ JMeter å‹æµ‹ååé‡ä¹Ÿä¼šä¸Šæ¥**

![image-20220828170939115](http://image.zzq8.cn/img/202208281709300.png)





### ä¸ºäº†æ–¹ä¾¿é‡å¯ä¸€éƒ¨åˆ†æœåŠ¡å¯ä»¥ç”¨ï¼ŒCompound åŒ…èµ·æ¥

![image-20220828171101974](http://image.zzq8.cn/img/202208281711096.png)





### é›†ç¾¤è´Ÿè½½å‡è¡¡ï¼Œå–å·§

ä¸ºäº†ä¸‹ä¸€ç« èŠ‚æ¼”ç¤ºnacosçš„è´Ÿè½½å‡è¡¡ï¼Œå‚ç…§9001æ–°å»º9002

è¿™é‡Œ**å–å·§**ä¸æƒ³æ–°å»ºé‡å¤ä½“åŠ›åŠ³åŠ¨ï¼Œå¯ä»¥åˆ©ç”¨IDEAåŠŸèƒ½ï¼Œç›´æ¥æ‹·è´**è™šæ‹Ÿç«¯å£æ˜ å°„**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](http://image.zzq8.cn/img/202208281717252.png)

![image-20220828171758542](http://image.zzq8.cn/img/202208281717694.png)

æˆ– Environment variables: --server.port=9002



#### åç«¯åŠ äº†äº‹åŠ¡ @Transactional è¿˜æ²¡æäº¤å‰çš„è¯­å¥çœ‹ä¸åˆ°æ•°æ®åº“çš„å˜æ¢

ä¸ºäº†æµ‹è¯•æ–¹ä¾¿ï¼Œå°†å½“å‰ä¼šè¯çš„éš”ç¦»çº§åˆ«é™ä½ã€‚æœ‰äº†å®ƒå°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„çœ‹æ•°æ®åº“çš„å˜åŒ–äº†ï¼Œå¯è¯»åˆ°æ²¡æœ‰æäº¤çš„æ•°æ®ã€‚

SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;

Navicatè¦åœ¨åŠ ä¸€è¡ŒSELECT * FROM `pms_spu_info`; åœ¨å½“å‰çª—å£ï¼ˆä¸€ä¸ªä¼šè¯ï¼‰æœç´¢æ•°æ®æ‰èƒ½è¯»åˆ°

```mysql
SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;
SELECT * FROM `pms_spu_info`;
```



### è¸©å‘

å¥½ä½¿

stream() -> map() -> filter() -> collect()





### é‡‡è´­

<img src="http://image.zzq8.cn/img/202208282303184.png" alt="image-20220828224528971" style="zoom: 67%;" />







### ç”¨å¥½æ•°æ®åº“è¿æ¥æ± ï¼š

[åœºæ™¯ï¼šspringbooté¡¹ç›®å¯åŠ¨å¼€å§‹å¯ä»¥è®¿é—®æ•°æ®åº“ï¼Œä½†æ˜¯å‡ åˆ†é’Ÿä¹‹åå°±ä¼šæŠ¥é”™](https://blog.csdn.net/cobracanary/article/details/105257594)

ideaæŠ¥é”™ä¿¡æ¯ï¼š

```bash
HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@18e7d21c (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
```

é‚£ä¹ˆé—®é¢˜å°±å¾ˆæ˜äº†ï¼Œä½ çš„è¿æ¥åœ¨ä¸‰åˆ†é’Ÿçš„æ—¶å€™å°±å·²ç»å’Œæ•°æ®åº“æ–­å¼€äº†è¿æ¥ï¼Œä½†æ˜¯ä½ é»˜è®¤è¿æ¥çš„å­˜æ´»æ—¶é—´æ˜¯äº”åˆ†é’Ÿï¼Œæ‰€ä»¥å¯¼è‡´ä½ çš„springbooté¡¹ç›®å¼€å§‹èƒ½è®¿é—®æ•°æ®åº“ï¼Œä¸€ä¼šä¹‹åå°±ä¸èƒ½è®¿é—®æ•°æ®åº“äº†

Data source rejected establishment of connection,  message from server: "Too many connections"



```
MAX_LIFETIME = TimeUnit.MINUTES.toMillis(30L);
```



# äº”ã€åŸºç¡€ç¯‡æ€»ç»“

#### ä»å•†å“ä¿å­˜å¼€å§‹å°±å¯¹ä¸šåŠ¡èµ°é©¬è§‚èŠ±ï¼Œéƒ½æ˜¯CVæ²¡å»è‡ªå·±å†™



SpringBoot 2.0 åŸºäº Spring 5 æœ€å¤§çš„å˜åŒ–å°±æ˜¯å¼•å…¥äº† Reactï¼ˆå“åº”å¼ç¼–ç¨‹ï¼‰->   Web Fluxï¼ˆå¯ä»¥éå¸¸å®¹æ˜“çš„åˆ›å»ºå‡ºé«˜æ€§èƒ½ã€é«˜å¹¶å‘çš„ Web åº”ç”¨ï¼‰

ä¾‹å¦‚ï¼šGateway çš„è·¨åŸŸ Filter ç½‘å…³ï¼ŒCorsWebFilter å®ƒæ˜¯å±äº Webflux





# æ‘˜è‡ªè¯„è®º

è€—æ—¶ä¸‰ä¸ªæœˆæ–­æ–­ç»­ç»­æ•²å®Œï¼Œé«˜çº§ç¯‡åŠŸèƒ½æ‰“é€šï¼Œå‡†å¤‡é¢è¯•ï¼
æ–‡æ¡£åœ°å€ï¼šhttps://www.cnblogs.com/JuneQS/p/projectdemo.html
é¡¹ç›®åœ°å€ï¼šhttps://gitee.com/JuneQ/mall-project
æ¼”ç¤ºåœ°å€ï¼šhttp://projectdemo.top



è¾¹å·¥è¾¹æ•²å†ç»52å¤©ï¼Œç»ˆäºç»“æŸäº†ï¼Œé›†ç¾¤ç¯‡å› ä¸ºç”µè„‘æ‹‰èƒ¯åªèƒ½çœ‹




æ­å–œå°šç¡…è°·ç ´ç™¾ä¸‡å…³æ³¨ï¼Œå†æ—¶åŠå¹´è‰°éš¾å­¦å®Œä¸€æŠŠè¾›é…¸æ³ªï¼ˆå› ä¸ºå¹³æ—¶æœ‰å·¥ä½œï¼‰ï¼Œç»™ç‚¹å»ºè®®ç»™æƒ³å­¦å’Œæ­£åœ¨å­¦çš„å°ä¼™ä¼´
1ã€å¦‚æœ‰æ¡ä»¶ç”µè„‘å†…å­˜è‡³å°‘16Gèµ·æ­¥ï¼Œæ¡ä»¶è¿›ä¸€æ­¥åŠ ä¸ªå±å¹•ï¼Œæ¡ä»¶æ›´è¿›ä¸€æ­¥ç§Ÿä¸€å°è‡³å°‘4Gå†…å­˜çš„X86æ¶æ„äº‘æœåŠ¡å™¨ï¼Œæ‰€æœ‰éƒ¨ç½²çš„ä¸œè¥¿å…¨æ‰”äº‘æœåŠ¡å™¨ä¸Š
2ã€P16ï¼ŒP17æ²¡æ³•æ­èµ·æ¥çš„å»ºè®®ç…§ç€rerenfastçš„githubä¸Šçš„æ•™ç¨‹æ­
3ã€é¡¹ç›®æ­èµ·æ¥åï¼Œæ¯å­¦å®Œä¸€ç« ä¸€å®šè¦ç”¨gitæäº¤ä¸€æ¬¡ï¼Œä¸ç„¶åç»­æ’é”™ä¼šä»¤äººå´©æºƒ
4ã€å¤šè®°ç¬”è®°ï¼Œå°¤å…¶æ˜¯åˆ†å¸ƒå¼ï¼Œæ¶æ„ï¼Œé”ç›¸å…³çš„çŸ¥è¯†ï¼Œæœ‰åˆ©äºé¢è¯•
5ã€IDEAçš„jrebelæ’ä»¶å’ŒResetfulToolæ’ä»¶è‡³å°‘èƒ½æé«˜ä¸€åŠçš„å­¦ä¹ æ•ˆç‡ï¼Œå¿…ç”¨
6ã€è¿™ç« å®åœ¨æ‰¾ä¸åˆ°è§£å†³åŠæ³•çœ‹ä¸‹å¼¹å¹•ï¼Œå…¶ä½™æƒ…å†µä¸€å¾‹å…³é—­
7ã€Mavenä¾èµ–ç‰ˆæœ¬å·ä¸€å®šè¦ä¸€æ¨¡ä¸€æ ·ï¼ˆé™¤éä½ çŸ¥é“é«˜ç‰ˆæœ¬æ€ä¹ˆé…ç½®ï¼‰
8ã€å½“å‰ç« èŠ‚æ²¡è¾¾åˆ°è€å¸ˆçš„æ•ˆæœä¸è¦ç»§ç»­å¾€ä¸‹åšï¼Œè¿™ä¸ªé¡¹ç›®æ˜¯çº¿æ€§çš„ï¼Œä½ å¡åœ¨è¿™ä¸ªç¯èŠ‚åé¢åŸºæœ¬ä¹Ÿå¾ˆéš¾åšä¸‹å»ï¼Œç›´åˆ°P325
9ã€å•çº¯æƒ³å­¦åç«¯ä¸œè¥¿çš„ï¼Œå‰ç«¯ä»£ç ç…§æŠ„ï¼ŒP28-P44è·³è¿‡
10ã€ESçš„å†…å­˜åˆ†é…ä¸è¦128MBï¼Œè¦256MBèµ·æ­¥ï¼Œå•†å“ä¸Šæ¶çš„æµ‹è¯•æ•°æ®å»ºè®®å’Œè€å¸ˆçš„ä¸€æ¨¡ä¸€æ ·ï¼ˆé™¤äº†å›¾ç‰‡ï¼‰ï¼Œä¸ç„¶ä¸å¥½å¯¹ç…§
11ã€nginxå¯ä»¥ä¸ç”¨éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šï¼Œæœ‰windowsç‰ˆå¯ä»¥æœ¬åœ°è¿è¡Œï¼Œè·³è¿‡ç©¿é€
12ã€å•ç‚¹ç™»å½•æœ‰æ¡ä»¶ç›´æ¥ç”¨githubçš„ï¼Œä¸è¦ç”¨å¾®åšçš„ï¼Œæé«˜æ•ˆç‡ï¼Œå¯ä»¥ç”¨api.github.com/userè¿™ä¸ªæ¥å£
13ã€æ”¯ä»˜å®æ²™ç®±æ¯å‘¨æ—¥12:00è‡³æ¯å‘¨ä¸€12:00ç»´æŠ¤ä¸å¯ç”¨
14ã€ä¸ªäººè®¤ä¸ºæ–°å¢å•†å“ï¼Œå•†å“ä¸Šæ¶ï¼Œä¿å­˜è®¢å•æ•°æ®ï¼Œæ”¯ä»˜è¿™å››ä¸ªåŠŸèƒ½ä¸ºè¯¥é¡¹ç›®æœ€æŠ˜ç£¨äººåŠŸèƒ½ï¼Œä¸€Pèƒ½å¡ä¸€ä¸¤å¤©
15ã€P100ä¹‹å‰çš„å†…å®¹å±äºå½“å‰JAVAåç«¯èƒ½æ‰¾åˆ°å·¥ä½œçš„æœ€åŸºæœ¬æ°´å¹³
16ã€è°ƒè¯•ç¯èŠ‚æ˜¯å¿…è¦çš„ï¼Œä¸€å®šè¦è·Ÿç€å­¦ï¼Œä¸ä¼šè°ƒè¯•é€šè¿‡è¯•ç”¨æœŸå ªå¿§
17ã€å®é™…å¤§å¤šæ•°å…¬å¸çš„é¡¹ç›®æŠ€æœ¯éš¾ç‚¹å’Œæ¶µç›–èŒƒå›´ä¸å¦‚è¿™ä¸ªé¡¹ç›®ï¼ˆæ‰€ä»¥å¥½å¤šäººè¾¹ä¸Šç­è¾¹å­¦å•Šï¼‰

4ã€12



å¤§ä½¬ï¼Œè¿™ä¸ªé¡¹ç›®åˆ°åº•èƒ½ä¸èƒ½å†™åœ¨ç®€å†ä¸­ï¼Œå¾ˆå¤šäººè¯´ï¼Œç¬¬ä¸€ï¼šå•†åŸé¡¹ç›®çƒ‚å¤§è¡—ã€‚ç¬¬äºŒï¼šè¿™ä¸ªé¡¹ç›®æ¶µç›–çš„å¤ªå¤šï¼Œå¦‚æœé¢è¯•å®˜é—®çš„å¤ªå¤šï¼Œå¯èƒ½æœ‰éš¾åº¦

ä¸å¯ä»¥ç›´æ¥å†™ï¼ŒæŠŠçŸ¥è¯†ç‚¹ç©¿æ’å†™åˆ°ä½ çš„å…¶ä»–é¡¹ç›®é‡Œå°±è¡Œäº†ï¼Œæ¯”å¦‚ä½ å†™ä¸€ä¸ªåå°ç³»ç»Ÿï¼Œé˜²æ­¢è¡¨å•é‡å¤æäº¤ä½ ç”¨åˆ°äº†é¼“ç²’å•†åŸæäº¤è®¢å•çš„å¹‚ç­‰æ€§è®¾è®¡ï¼Œæ³¨å†Œç™»å½•ç”¨åˆ°äº†QQæˆ–è€…å¾®ä¿¡çš„å•ç‚¹ç™»å½•ï¼Œå¦‚æœæœ‰å®šæ—¶ä»»åŠ¡å°±å‚è€ƒç§’æ€ç³»ç»Ÿçš„å®šæ—¶ä»»åŠ¡è®¾è®¡
