# JaråŒ…çš„éƒ¨ç½²/ç»´æŠ¤

# ä¸€ã€éƒ¨ç½²

æˆ‘éƒ¨ç½²çš„æ˜¯jaråŒ…ï¼Œç›´æ¥æ”¹çš„ç«¯å£å·80ç”¨çš„æ˜¯ä»¥ä¸‹å‘½ä»¤ï¼š

`nohup java -jar myblog-1.jar --server.port=80 &`

> 2023/01/06 è¡¥å……ï¼šæ‰§è¡Œå®Œä¸Šé¢å‘½ä»¤åå¯ä»¥è¿½åŠ  `tail -f nohup.out`
> å°±å¯ä»¥å®æ—¶çœ‹åˆ°è¿™ä¸ª jar çš„è¾“å‡ºè¿è¡Œæ—¥å¿—ï¼ï¼ï¼
>
> åœ¨ Linux ä¸­ï¼Œ`tail -f` æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„å‘½ä»¤ï¼Œç”¨äºå®æ—¶è·Ÿè¸ªï¼ˆè¿½è¸ªï¼‰æ–‡ä»¶çš„å˜åŒ–å¹¶è¾“å‡ºæ–°æ·»åŠ çš„å†…å®¹ã€‚
>
> - "f"ä»£è¡¨"follow"ï¼Œæ˜¯è‹±è¯­å•è¯çš„ç¼©å†™ã€‚å®ƒå‘Šè¯‰`tail`å‘½ä»¤ä»¥"follow"æ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œå³éšç€æ–‡ä»¶çš„å¢é•¿æŒç»­æ˜¾ç¤ºæœ€æ–°çš„å†…å®¹

> **æ³¨æ„ï¼š--server.port éœ€è¦æ”¾ xx.jar çš„åé¢ï¼ï¼ï¼**
>
> nohup java -jar myblog.jar --server.port=80 &
>
>
> java -jar xxx.jar --spring.profiles.active=prod  --person.name=haha æ‰©å®½æ€è·¯ï¼Œéƒ½å¯ä»¥æ”¹
>
> &ä»£è¡¨åœ¨åå°è¿è¡Œã€‚
>
> nohup æ„æ€æ˜¯ä¸æŒ‚æ–­è¿è¡Œå‘½ä»¤,å½“è´¦æˆ·é€€å‡ºæˆ–ç»ˆç«¯å…³é—­æ—¶,ç¨‹åºä»ç„¶è¿è¡Œ
>
> å½“ç”¨ nohup å‘½ä»¤æ‰§è¡Œä½œä¸šæ—¶ï¼Œç¼ºçœæƒ…å†µä¸‹è¯¥ä½œä¸šçš„æ‰€æœ‰è¾“å‡ºè¢«é‡å®šå‘åˆ°nohup.outçš„æ–‡ä»¶ä¸­ï¼Œé™¤éå¦å¤–æŒ‡å®šäº†è¾“å‡ºæ–‡ä»¶ã€‚

> df -h  å¯ä»¥æŸ¥linuxå†…å­˜å ç”¨ï¼Œä¸€èˆ¬çœ‹ç±»ä¼¼ /dev/vda1     â€˜/â€™å¼€å¤´çš„è·¯å¾„çš„å®¹é‡å°±è¡Œï¼ï¼ï¼
>
> å†…å­˜ä¸è¶³ä¼šå¯¼è‡´çš„åœºæ™¯-XDå‡å·²å®è·µä»¥ä¸‹ä¸¤ç‚¹ï¼š
>
> 1. **xftpè½¯ä»¶ä¸Šä¼ æ–‡ä»¶ä¸åˆ°äº‘æœåŠ¡å™¨**  	
> 2. **mysql æ— æ³•åˆ›å»ºæ•°æ®åº“**
>
>
> ***
>
> `whereis` å‘½ä»¤æ˜¯ç”¨äºæŸ¥æ‰¾å‘½ä»¤ç›¸å…³æ–‡ä»¶çš„å¿«æ·å·¥å…·ï¼Œæ–¹ä¾¿ç”¨æˆ·å¿«é€Ÿå®šä½å‘½ä»¤æ‰€åœ¨çš„ä½ç½®å’Œç›¸å…³èµ„æºã€‚
>
> `find / -type d -name "*redis*"`   æ‰¾æ–‡ä»¶å¤¹è¿˜æ˜¯ç”¨è¿™ä¸ª
>
> ***
>
> åŒ¹é…æ–¹å¼ï¼š`pkill`ä½¿ç”¨è¿›ç¨‹åæ¥åŒ¹é…è¦ç»ˆæ­¢çš„è¿›ç¨‹ï¼Œè€Œ`kill -9`ä½¿ç”¨è¿›ç¨‹IDï¼ˆPIDï¼‰æ¥æ ‡è¯†è¦ç»ˆæ­¢çš„è¿›ç¨‹ã€‚
>
> pkill nginx  #æ€æ­»æ‰€æœ‰çš„nginx

æŸ¥çœ‹æŸç«¯å£å ç”¨çš„çº¿ç¨‹çš„pid

```java
#æŸ¥çœ‹8080ç«¯å£å ç”¨
lsof -i:8080           ###########################################è¿™ä¸ªç®€å•
netstat -nlp |grep :80  # çœ‹æŒ‡å®šç«¯å£ pidï¼Œæ–¹ä¾¿åé¢ kill

ps -e|grep java
-ef
-e æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ã€‚
-f å…¨æ ¼å¼ã€‚å¯èƒ½æ˜¯full
```

æ€æ­»ç«¯å£

`kill -9 pid`

ä¸è¿‡çœŸæ­£éƒ¨ç½²è¿˜æ˜¯æ¨èä½¿ç”¨NGINX

```shell
linuxç³»ç»Ÿé‡Œçš„VIæ˜¯ç¼–è¾‘æ–‡æœ¬çš„å‘½ä»¤ï¼Œåœ¨vié‡ŒæŸ¥æ‰¾ç›¸åº”å…³é”®å­—çš„æ–¹æ³•ä¸ºï¼š
1./å…³é”®å­—ï¼Œå›è½¦å³å¯ã€‚æ­¤ä¸ºä»æ–‡æ¡£å½“å‰ä½ç½®å‘ä¸‹æŸ¥æ‰¾å…³é”®å­—ï¼ŒæŒ‰né”®æŸ¥æ‰¾å…³é”®å­—ä¸‹ä¸€ä¸ªä½ç½®ï¼›
2.ï¼Ÿå…³é”®å­—ï¼Œå›è½¦å³å¯ã€‚æ­¤ä¸ºä»æ–‡æ¡£æŒ¡åœˆä½ç½®å‘ä¸ŠæŸ¥æ‰¾å…³é”®å­—ï¼ŒæŒ‰né”®å‘ä¸ŠæŸ¥æ‰¾å…³é”®å­—ï¼›
```



> crond æ˜¯linuxä¸‹ç”¨æ¥å‘¨æœŸæ€§çš„æ‰§è¡ŒæŸç§ä»»åŠ¡æˆ–ç­‰å¾…å¤„ç†æŸäº›äº‹ä»¶çš„ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼Œä¸windowsä¸‹çš„è®¡åˆ’ä»»åŠ¡ç±»ä¼¼











å¯é€šè¿‡jobså‘½ä»¤æŸ¥çœ‹åå°è¿è¡Œä»»åŠ¡

```
jobs
```

é‚£ä¹ˆå°±ä¼šåˆ—å‡ºæ‰€æœ‰åå°æ‰§è¡Œçš„ä½œä¸šï¼Œå¹¶ä¸”æ¯ä¸ªä½œä¸šå‰é¢éƒ½æœ‰ä¸ªç¼–å·ã€‚
å¦‚æœæƒ³å°†æŸä¸ªä½œä¸šè°ƒå›å‰å°æ§åˆ¶ï¼Œåªéœ€è¦ fg + ç¼–å·å³å¯ã€‚

```
fg 23
```



# äºŒã€ç»´æŠ¤

> ä»Šå¤©åœ¨ç½‘ä¸Šæ‰¾äº†æ–¹æ³•å¯ä»¥ç”¨ï¼Œæ–¹æ³•æ€»ç»“å¦‚ä¸‹ï¼š

â€‹	å‰è¨€ï¼šç›¸ä¿¡ä¸å°‘å°ä¼™ä¼´åœ¨é¡¹ç›®éœ€è¦æ‰“åŒ…ä¸Šçº¿æ—¶éƒ½é‡åˆ°è¿‡ä¸€ç§æƒ…å†µï¼Œå¦‚æœåŠ¡å™¨çš„åœ°å€æˆ–æ˜¯ç«¯å£å˜äº†ï¼Œéœ€è¦ä¿®æ”¹é¡¹ç›®é‡Œçš„é…ç½®æ–‡ä»¶æˆ–é™æ€èµ„æºï¼Œäºæ˜¯ä¸å¾—ä¸å°†jaråŒ…æ‹¿ä¸‹æ¥ä¿®æ”¹å†ä¸Šä¼ ï¼Œæˆ–æ˜¯é‡æ–°æ‰“åŒ…ä¸Šä¼ ï¼Œå¯è°“æ˜¯ä¸èƒœçƒ¦çï¼Œä»Šå¤©æ•™å¤§å®¶ä¸€ä¸ªå°æŠ€å·§ï¼Œæ—¢å¦‚ä½•ç›´æ¥åœ¨Linuxé‡Œé¢ä¿®æ”¹é…ç½®æ–‡ä»¶å’Œé™æ€èµ„æºï¼

â€‹	è¿‡ç¨‹å¦‚ä¸‹ï¼š

	1. å®‰è£…unzip    å‘½ä»¤ï¼š`yum install -y unzip zip`   #å¿½ç•¥  å¥½åƒé»˜è®¤æœ‰
	2. ç›´æ¥vim jaråŒ…å
	3. /è¦æ‰¾çš„æ–‡ä»¶åå®šä½ä¿®æ”¹çš„æ–‡ä»¶
	4. åœ¨å®šä½åˆ°åï¼Œè¯¥é…ç½®æ–‡ä»¶ä¼šæ ‡é»„ï¼Œç›´æ¥å›è½¦è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œå³å¯ç¼–è¾‘äº†
	5. åœ¨ç¼–è¾‘åwqä¿å­˜æˆæœï¼Œè‡³æ­¤å°±ä¿®æ”¹å®Œäº†ã€‚

[å‚è€ƒç½‘ç«™](https://www.cnblogs.com/linnuo/p/9084125.html)



## 10ã€å‡å¦‚ç”Ÿäº§ç¯å¢ƒå‡ºç°CPUå ç”¨è¿‡é«˜ï¼Œè¯·è°ˆè°ˆä½ çš„åˆ†ææ€è·¯å’Œå®šä½

çœ‹é˜³å“¥çš„å¤§å‚é¢è¯•é¢˜ç¬¬2å­£

[çœ‹æœ¬åœ°è„‘å›¾](../JUC/2019äº’è”ç½‘é¢è¯•é¢˜ç¬¬2å­£.mmap) æœ‰è®²è¿™é“é¢˜ç›®

å®šä½åˆ°è¿›ç¨‹ä¸­æƒ¹äº‹çš„çº¿ç¨‹ï¼Œé€šè¿‡ jstack å¤„ç†å®šä½åˆ°é—®é¢˜å‘ç”Ÿçš„è¡Œæ•°





## win å¢é‡å‘ç‰ˆ

> ğŸ¤º [æ‰“åŒ…ä¸Šçº¿](https://blog.csdn.net/qq_36591505/article/details/109805312)ï¼šæ›¿æ¢jaråŒ…ä¸­çš„classæ–‡ä»¶

æ›¿æ¢æˆ–è€…å¯¼å…¥jaråŒ…æ—¶ï¼ŒjaråŒ…è¢«è‡ªåŠ¨å‹ç¼©ï¼Œspringbootè§„å®šåµŒå¥—çš„jaråŒ…ä¸èƒ½åœ¨è¢«å‹ç¼©çš„æƒ…å†µä¸‹å­˜å‚¨ã€‚



åœ¨æˆ‘ä»¬éƒ¨ç½²é¡¹ç›®çš„æ—¶å€™ç»å¸¸ä¼šå¢é‡å‘ç‰ˆï¼Œå°¤å…¶åœ¨é¡¹ç›®ä¸Šç”Ÿäº§åï¼Œæˆ‘ä»¬æƒ³å¢é‡æ”¹ä¸€ä¸ªç±»æ–‡ä»¶ï¼›ä¸æƒ³æ•´ä¸ªæœåŠ¡é‡æ–°æ‰“jaråŒ…ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å°†jaråŒ…ä¸­çš„classæ–‡ä»¶æ›¿æ¢æˆæ–°çš„classæ–‡ä»¶å³å¯ã€‚



**å®æµ‹å°†jar lib é‡Œé¢çš„ jar æå‡ºæ¥æ›¿æ¢å†æ”¾è¿›å»å¯ä»¥**ï¼Œåˆ‡è®°è¦æ”¹ jar åŒ…é‡Œé¢çš„ jar åŒ…æ—¶å€™è¦å…ˆæ‹¿å‡ºæ¥ï¼ä¸€æ¬¡åªèƒ½æ“ä½œä¸€å±‚ jar åŒ…ï¼Œå¦åˆ™æˆ‘ä¼°è®¡ä¼šå‹ç¼©ã€‚

==è€Œåœ¨ jar åŒ…é‡Œå†æ‰“å¼€ jar åŒ…å†æ”¾ç„¶åä¿å­˜ï¼Œç¬¬äºŒä¸ª jar å¥½åƒå°±ä¼šå‹ç¼©ï¼è¿™æ—¶ä¸ç®¡ç”¨ï¼å®æµ‹==



å‘ç‰ˆæ„Ÿè§‰å¯ä»¥æä¸ª IO æµï¼Œé…åˆ SVN log è·¯å¾„ï¼Œé›†ä¸­æ”¾åˆ°ä¸€ä¸ªåŒ…é‡Œã€‚è¿™æ ·å¯ä»¥å¢é‡æ›¿æ¢ï¼







# ä¸‰ã€å¸¸ç”¨ Linux å‘½ä»¤

> https://wangchujiang.com/linux-command/

åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œ`/sbin` å’Œ `/bin` ç›®å½•åˆ†åˆ«æ˜¯ç³»ç»Ÿç®¡ç†å‘˜å¯æ‰§è¡Œæ–‡ä»¶å’Œæ™®é€šç”¨æˆ·å¯æ‰§è¡Œæ–‡ä»¶çš„å­˜å‚¨ç›®å½•ã€‚è¿™ä¸¤ä¸ªç›®å½•çš„ä¸»è¦åŒºåˆ«åœ¨äºå®ƒä»¬åŒ…å«çš„ç¨‹åºå¯¹ç³»ç»Ÿè¿è¡Œçš„å…³é”®ç¨‹åº¦ä¸åŒã€‚

```bash
#å¦‚æœæ‚¨ä¸ç¡®å®š Nginx çš„å¯æ‰§è¡Œæ–‡ä»¶åœ¨å“ªä¸ªç›®å½•ä¸‹ï¼Œå¯ä»¥é€šè¿‡åœ¨ç»ˆç«¯ä¸­è¾“å…¥ which nginx å‘½ä»¤æ¥æŸ¥æ‰¾ã€‚è¯¥å‘½ä»¤ä¼šè¿”å› Nginx å¯æ‰§è¡Œæ–‡ä»¶çš„å®Œæ•´è·¯å¾„ã€‚
#Nginx çš„å¯æ‰§è¡Œæ–‡ä»¶é€šå¸¸ä½äº /usr/sbin/nginx ç›®å½•ä¸‹   æ³¨æ„ä¸æ˜¯/usr/bin/nginx
which nginx

#æŸ¥çœ‹8080ç«¯å£å ç”¨
lsof -i:8080
netstat -nlp |grep :80  # çœ‹æŒ‡å®šç«¯å£ pidï¼Œæ–¹ä¾¿åé¢ kill

# cat find
cat access.log |grep 'payed'


free -m  #æŸ¥çœ‹è¿˜æœ‰å¤šå°‘ MB å†…å­˜å¯ç”¨
free -h  #æŸ¥ä¸åˆ°èµ„æ–™ä½†æ˜¯è¿™ä¸ªæ›´å¥½ç”¨

#æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„æŸä¸ªè¿›ç¨‹
ps aux|grep nginx
ps -ef|grep java


# é‡å‘½å
mv file1.txt file2.txt
# åˆ›å»ºå¤šçº§ç›®å½•
mkdir -p /mydata/redis/conf
# åˆ›å»ºæ–°çš„ç©ºæ–‡ä»¶
touch /mydata/redis/conf/redis.conf

su root #åˆ‡æ¢åˆ°rootç”¨æˆ·
sudo systemctl start docker #ä»¥ç®¡ç†å‘˜èº«ä»½
```





# å››ã€Linux åŸºç¡€çŸ¥è¯†

[Linux æ–‡ä»¶åŸºæœ¬å±æ€§](https://www.runoob.com/linux/linux-file-attr-permission.html)ï¼šçœ‹å®Œå°±çŸ¥é“æ–‡ä»¶å±æ€§äº†ï¼Œé‡ç‚¹çœ‹é‡Œé¢çš„ä¸¤å¹…å›¾ï¼

![img](https://images.zzq8.cn/img/202209082225377.jpeg)

æ–‡ä»¶çš„æƒé™å­—ç¬¦ä¸ºï¼š **-rwxrwxrwx** ï¼Œ è¿™ä¹ä¸ªæƒé™æ˜¯ä¸‰ä¸ªä¸‰ä¸ªä¸€ç»„çš„ï¼

å…¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•°å­—æ¥ä»£è¡¨å„ä¸ªæƒé™ï¼Œå„æƒé™çš„åˆ†æ•°å¯¹ç…§è¡¨å¦‚ä¸‹ï¼š

- r:4
- w:2
- x:1

æ¯ç§èº«ä»½(owner/group/others)å„è‡ªçš„ä¸‰ä¸ªæƒé™(r/w/x)åˆ†æ•°æ˜¯éœ€è¦ç´¯åŠ çš„ï¼Œä¾‹å¦‚å½“æƒé™ä¸ºï¼š **-rwxrwx---** åˆ†æ•°åˆ™æ˜¯ï¼š

- owner = rwx = 4+2+1 = 7
- group = rwx = 4+2+1 = 7
- others= --- = 0+0+0 = 0

æ‰€ä»¥ç­‰ä¸€ä¸‹æˆ‘ä»¬è®¾å®šæƒé™çš„å˜æ›´æ—¶ï¼Œè¯¥æ–‡ä»¶çš„æƒé™æ•°å­—å°±æ˜¯ **770**ã€‚å˜æ›´æƒé™çš„æŒ‡ä»¤ chmod çš„è¯­æ³•æ˜¯è¿™æ ·çš„ï¼š

```
chmod [-R] xyz æ–‡ä»¶æˆ–ç›®å½•
chmod -R 770 /mydata/elasticsearch/
```

å¸¸ç”¨ï¼š

```yaml
# æ‰¹é‡æ”¹æ–‡ä»¶å¤¹æƒé™
chmod -R 777 /mydata/elasticsearch/
```





# äº”ã€Shell

* #### linux è‡ªå¸¦ä»»åŠ¡è½®è¯¢  `crontab -e`



* #### ä¸€èˆ¬å†™æ—¥å¿—è¾“å‡º sh test.sh > log.txt å…¶å® > å°±ç­‰åŒäº 1> 

é¦–å…ˆäº†è§£ä¸‹1å’Œ2åœ¨Linuxä¸­ä»£è¡¨ä»€ä¹ˆ
åœ¨Linuxç³»ç»Ÿä¸­0 1 2æ˜¯ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦

åç§° ä»£ç  æ“ä½œç¬¦ Javaä¸­è¡¨ç¤º Linux ä¸‹æ–‡ä»¶æè¿°ç¬¦ï¼ˆDebian ä¸ºä¾‹)

| åç§°                 | ä»£ç  | æ“ä½œç¬¦           | Javaä¸­è¡¨ç¤º                     | Linux ä¸‹æ–‡ä»¶æè¿°ç¬¦ï¼ˆDebian ä¸ºä¾‹)             |
| -------------------- | ---- | ---------------- | ------------------------------ | -------------------------------------------- |
| æ ‡å‡†è¾“å…¥(stdin)      | 0    | < æˆ– <<          | [System.in](http://system.in/) | /dev/stdin -> /proc/self/fd/0 -> /dev/pts/0  |
| æ ‡å‡†è¾“å‡º(stdout)     | 1    | >, >>, 1> æˆ– 1>> | System.out                     | /dev/stdout -> /proc/self/fd/1 -> /dev/pts/0 |
| æ ‡å‡†é”™è¯¯è¾“å‡º(stderr) | 2    | 2> æˆ– 2>>        | System.err                     | /dev/stderr -> /proc/self/fd/2 -> /dev/pts/0 |



![image-20230531110912384](https://images.zzq8.cn/img/202305311109374.png)





> ä¸ºä»€ä¹ˆå•ç‹¬è¿è¡Œjava -cp ./*:../app/* com.bokesoft.yes.dev.DevSuiteä¼šæŠ¥ä»¥ä¸‹é”™è¯¯zsh: no matches found: ./*:../app/*
> ä½†æ˜¯æŠŠè¿™è¡Œå•ç‹¬æ”¾åˆ°ä¸€ä¸ª.shæ–‡ä»¶è¿è¡Œå°±åˆå¯ä»¥

è¿™ä¸ªé”™è¯¯æ˜¯ç”±äºåœ¨å•ç‹¬è¿è¡Œ`java -cp ./*:../app/* com.bokesoft.yes.dev.DevSuite`å‘½ä»¤æ—¶ï¼Œæ‰€ä½¿ç”¨çš„shellï¼ˆæ¯”å¦‚zshï¼‰ä¼šå¯¹é€šé…ç¬¦ï¼ˆ`*`ï¼‰è¿›è¡Œæ‰©å±•ï¼Œä½†æ˜¯åœ¨å½“å‰ç›®å½•ä¸‹æ²¡æœ‰åŒ¹é…çš„æ–‡ä»¶æ—¶ï¼Œä¼šæŠ¥é”™ã€‚

åœ¨å•ç‹¬æ‰§è¡Œå‘½ä»¤æ—¶ï¼Œå¦‚æœå½“å‰ç›®å½•ä¸‹æ²¡æœ‰ç¬¦åˆ`./*`å’Œ`../app/*`é€šé…ç¬¦æ¨¡å¼çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œshellä¼šæŠ¥é”™å¹¶æ˜¾ç¤º"zsh: no matches found"ã€‚

ç„¶è€Œï¼Œå½“ä½ å°†è¿™è¡Œå‘½ä»¤æ”¾å…¥ä¸€ä¸ª.shæ–‡ä»¶ä¸­å¹¶æ‰§è¡Œè¯¥æ–‡ä»¶æ—¶ï¼Œshellä¼šå°†æ•´ä¸ªå‘½ä»¤ä½œä¸ºå­—ç¬¦ä¸²ä¼ é€’ç»™è§£é‡Šå™¨ï¼Œå¹¶ä¸”ä¸ä¼šå¯¹é€šé…ç¬¦è¿›è¡Œæ‰©å±•ã€‚å› æ­¤ï¼Œåœ¨è„šæœ¬æ–‡ä»¶ä¸­æ‰§è¡Œæ—¶ï¼Œé€šé…ç¬¦ä¸ä¼šå¼•å‘é”™è¯¯ã€‚

å¦‚æœä½ æƒ³åœ¨å‘½ä»¤è¡Œä¸­å•ç‹¬è¿è¡Œè¿™ä¸ªå‘½ä»¤è€Œä¸æŠ¥é”™ï¼Œä½ å¯ä»¥ä½¿ç”¨å¼•å·å°†é€šé…ç¬¦æ¨¡å¼æ‹¬èµ·æ¥ï¼Œä»¥é˜»æ­¢shellæ‰©å±•é€šé…ç¬¦ã€‚ä¾‹å¦‚ï¼š

```
java -cp './*:../app/*' com.bokesoft.yes.dev.DevSuite //:å·åº”è¯¥æ˜¯åˆ†éš”ç¬¦ï¼Œç³»ç»Ÿå¯èƒ½éƒ½ä¸ä¸€æ ·   è¿™é‡Œåçš„appå¥½åƒæ²¡ç”¨å°±ç”¨batæ–‡ä»¶é‡Œçš„å°±è¡Œ
```

è¿™æ ·ï¼Œé€šé…ç¬¦å°†è¢«è§†ä¸ºå­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸ä¼šè¢«shellè¿›è¡Œæ‰©å±•ã€‚







# é—®é¢˜

å¤‡ä»½æ•°æ®åº“ï¼š#ä»‹ç»äº†æœ‰é—®é¢˜çš„åŸå› 

```bash
d=`date +%Y%m%d%H%M`
docker exec mysql mysqldump -uroot -pa59964360 --single-transaction --databases upupor > /home/minio/data/blog/SQLBackup/upupor${d}.sql
#æ­¤å¤„å†æ¥å‘½ä»¤ä¼šå¯¼è‡´ä¸Šé¢å‘½ä»¤upupor${d}.sqlæ–‡ä»¶åå¤šæ¢è¡Œ
echo hh
gzip -c /home/minio/data/blog/SQLBackup/upupor${d}.sql > /home/minio/data/blog/SQLBackup/upupor${d}.sql.gz
rm -rf "/home/minio/data/blog/SQLBackup/upupor${d}.sql"
```

