"use strict";(self.webpackChunklearn_data=self.webpackChunklearn_data||[]).push([[7764],{9874:(l,e)=>{e.A=(l,e)=>{const o=l.__vccOpts||l;for(const[l,t]of e)o[l]=t;return o}},5499:(l,e,o)=>{o.r(e),o.d(e,{comp:()=>a,data:()=>r});var t=o(2360);const i=[(0,t.Fv)('<h1 id="mysql" tabindex="-1"><a class="header-anchor" href="#mysql"><span>mysql</span></a></h1><p>全部搞到 mysql 45 那里 去!!!!!!</p><blockquote><p>面试后未掌握的知识点</p></blockquote><ul><li>mysql的索引选择模模糊糊(a=b&gt;c=)</li><li>三个日志只答了binlog/redolog</li><li>二阶段提交用的哪个日志(我答redolog))</li></ul><blockquote><p>笔记地址</p><p>https://www.xiaogenban1993.com/blog/23.04/mysql_%E4%BB%8E%E5%A4%B4%E5%88%B0%E5%B0%BE%E7%9A%84mysql#5-bin-log</p></blockquote><h2 id="通用知识" tabindex="-1"><a class="header-anchor" href="#通用知识"><span>通用知识</span></a></h2><blockquote><p>联合索引那部分 mysql45讲</p></blockquote><p>块-&gt;页-&gt;行</p><p>b+ 树是多叉搜索树 (好处: 扁平 同一层好检索, 跨层不好检索效率低)</p><ul><li>树的每个节点是一个页，其中叶子节点是真正存储数据的，又叫<code>数据页</code></li><li>而其他节点只存储索引值+页号，叫做<code>目录页</code></li></ul><blockquote><p>聚簇索引(主键索引) / 非聚簇索引(二级索引)</p></blockquote><p>聚簇索引叶子节点存的是这一行完整的数据</p><p>非聚簇索引的叶子索引存的的聚簇索引的id (需要回表)</p><h2 id="日志" tabindex="-1"><a class="header-anchor" href="#日志"><span>日志</span></a></h2><p>binlog 在事务提交时写入，redo log 在事务提交时刷盘，</p><p>undo log 在事务开始时生成。【脑袋看】</p><p>常问</p><ul><li><p>二阶段提交</p></li><li><p>redolog 作用</p></li></ul><h2 id="binlog" tabindex="-1"><a class="header-anchor" href="#binlog"><span>binlog</span></a></h2><p>binlog (逻辑日志 文件:mysql-bin.0000001): 记录的是一句句 sql</p><ul><li>需要在 my.ini 手动开启 log-bin <ul><li>配置文件名字示例 mysql.bin.00001 (check), 文件不可读需要通过命令转成 sql 文件</li></ul></li><li><code>show binlgo events;</code> 可以看到</li></ul><h2 id="redolog" tabindex="-1"><a class="header-anchor" href="#redolog"><span>redolog</span></a></h2><p>一页是16kb</p><p>redolog (二进制日志 文件:ib_logfile0, 磁盘空间 第多少页第几个字节从a-&gt;b); 故障恢复</p><ul><li>作为数据页的一部分存在</li><li>事务 commit 会刷盘</li><li>故障恢复: 顺序写redolog还没刷盘到 IBD 文件 【有个flag证明哪些是脏页脏数据， binlog不能做是因为它是全量且没有一个flag证明是脏数据】 <ul><li><mark>redolog 和 内存中脏页 (还没刷盘的数据) 是保持一致的一个情况</mark>, 故障恢复就是恢复这一部分</li><li>因为事务提交的时候 redolog 是一定要刷盘的 【看两阶段提交的图就懂了】</li></ul></li></ul><h2 id="undolog" tabindex="-1"><a class="header-anchor" href="#undolog"><span>undolog</span></a></h2><p>undo log (没有额外文件, 可以看做特殊页类型)</p><ul><li>row_id, trx_id, roll_pointer (想象单链表)</li><li>https://www.bilibili.com/video/BV1U14y1d79M?t=1545.0</li></ul>',28)],n={},a=(0,o(9874).A)(n,[["render",function(l,e){return(0,t.uX)(),(0,t.CE)("div",null,i)}]]),r=JSON.parse('{"path":"/code/SQL/sql%E5%AD%A6%E4%B9%A0_%E6%9C%AA%E6%B1%87%E6%80%BB.html","title":"mysql","lang":"zh-CN","frontmatter":{"created":"2025-09-20T17:03:35.000Z","updated":"2025-09-20T20:37:48.000Z","description":"mysql 全部搞到 mysql 45 那里 去!!!!!! 面试后未掌握的知识点 mysql的索引选择模模糊糊(a=b>c=) 三个日志只答了binlog/redolog 二阶段提交用的哪个日志(我答redolog)) 笔记地址 https://www.xiaogenban1993.com/blog/23.04/mysql_%E4%BB%8E%E5%...","head":[["meta",{"property":"og:url","content":"https://zzq8.cn/code/SQL/sql%E5%AD%A6%E4%B9%A0_%E6%9C%AA%E6%B1%87%E6%80%BB.html"}],["meta",{"property":"og:site_name","content":"Piglet"}],["meta",{"property":"og:title","content":"mysql"}],["meta",{"property":"og:description","content":"mysql 全部搞到 mysql 45 那里 去!!!!!! 面试后未掌握的知识点 mysql的索引选择模模糊糊(a=b>c=) 三个日志只答了binlog/redolog 二阶段提交用的哪个日志(我答redolog)) 笔记地址 https://www.xiaogenban1993.com/blog/23.04/mysql_%E4%BB%8E%E5%..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"Piglet"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"mysql\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Piglet\\",\\"url\\":\\"https://zzq8.cn\\"}]}"]]},"headers":[{"level":2,"title":"通用知识","slug":"通用知识","link":"#通用知识","children":[]},{"level":2,"title":"日志","slug":"日志","link":"#日志","children":[]},{"level":2,"title":"binlog","slug":"binlog","link":"#binlog","children":[]},{"level":2,"title":"redolog","slug":"redolog","link":"#redolog","children":[]},{"level":2,"title":"undolog","slug":"undolog","link":"#undolog","children":[]}],"git":{"createdTime":1758372655000,"contributors":[{"name":"MacAir","email":"1024zzq@gmail.com","commits":1}]},"readingTime":{"minutes":1.83,"words":548},"filePathRelative":"code/SQL/sql学习_未汇总.md","localizedDate":"2025年9月20日","excerpt":"\\n<p>全部搞到  mysql 45 那里 去!!!!!!</p>\\n<blockquote>\\n<p>面试后未掌握的知识点</p>\\n</blockquote>","autoDesc":true}')}}]);