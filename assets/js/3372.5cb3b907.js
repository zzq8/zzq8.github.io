"use strict";(self.webpackChunk_1024zzq=self.webpackChunk_1024zzq||[]).push([[3372],{3372(e,n,t){t.d(n,{a:()=>un});var r=t(9285),o=t(6337),i=t(746),a=t(1467);function s(e,n,t,r){var i;do{i=(0,o.T)(r)}while(e.hasNode(i));return t.dummy=n,e.setNode(i,t),i}function d(e){var n=(new r.a).setGraph(e.graph());return(0,o.n)(e.nodes(),function(t){n.setNode(t,e.node(t))}),(0,o.n)(e.edges(),function(t){var r=n.edge(t.v,t.w)||{weight:0,minlen:1},o=e.edge(t);n.setEdge(t.v,t.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})}),n}function u(e){var n=new r.a({multigraph:e.isMultigraph()}).setGraph(e.graph());return(0,o.n)(e.nodes(),function(t){e.children(t).length||n.setNode(t,e.node(t))}),(0,o.n)(e.edges(),function(t){n.setEdge(t,e.edge(t))}),n}function c(e,n){var t,r,o=e.x,i=e.y,a=n.x-o,s=n.y-i,d=e.width/2,u=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*d>Math.abs(a)*u?(s<0&&(u=-u),t=u*a/s,r=u):(a<0&&(d=-d),t=d,r=d*s/a),{x:o+t,y:i+r}}function h(e){var n=(0,o.s)((0,o.K)(p(e)+1),function(){return[]});return(0,o.n)(e.nodes(),function(t){var r=e.node(t),i=r.rank;(0,o.D)(i)||(n[i][r.order]=t)}),n}function f(e){var n=(0,o.G)((0,o.s)(e.nodes(),function(n){return e.node(n).rank}));(0,o.n)(e.nodes(),function(t){var r=e.node(t);(0,o.x)(r,"rank")&&(r.rank-=n)})}function g(e){var n=(0,o.G)((0,o.s)(e.nodes(),function(n){return e.node(n).rank})),t=[];(0,o.n)(e.nodes(),function(r){var o=e.node(r).rank-n;t[o]||(t[o]=[]),t[o].push(r)});var r=0,i=e.graph().nodeRankFactor;(0,o.n)(t,function(n,t){(0,o.D)(n)&&t%i!==0?--r:r&&(0,o.n)(n,function(n){e.node(n).rank+=r})})}function l(e,n,t,r){var o={width:0,height:0};return arguments.length>=4&&(o.rank=t,o.order=r),s(e,"border",o,n)}function p(e){return(0,o.F)((0,o.s)(e.nodes(),function(n){var t=e.node(n).rank;if(!(0,o.D)(t))return t}))}function v(e,n){var t={lhs:[],rhs:[]};return(0,o.n)(e,function(e){n(e)?t.lhs.push(e):t.rhs.push(e)}),t}function b(e,n){var t=(0,o.h)();try{return n()}finally{console.log(e+" time: "+((0,o.h)()-t)+"ms")}}function w(e,n){return n()}function m(e){function n(t){var r=e.children(t),i=e.node(t);if(r.length&&(0,o.n)(r,n),Object.prototype.hasOwnProperty.call(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,s=i.maxRank+1;a<s;++a)y(e,"borderLeft","_bl",t,i,a),y(e,"borderRight","_br",t,i,a)}}(0,a.a)(n,"dfs"),(0,o.n)(e.children(),n)}function y(e,n,t,r,o,i){var a={width:0,height:0,rank:i,borderType:n},d=o[n][i-1],u=s(e,"border",a,t);o[n][i]=u,e.setParent(u,r),d&&e.setEdge(d,u,{weight:1})}function _(e){var n=e.graph().rankdir.toLowerCase();("lr"===n||"rl"===n)&&k(e)}function E(e){var n=e.graph().rankdir.toLowerCase();("bt"===n||"rl"===n)&&x(e),("lr"===n||"rl"===n)&&(C(e),k(e))}function k(e){(0,o.n)(e.nodes(),function(n){O(e.node(n))}),(0,o.n)(e.edges(),function(n){O(e.edge(n))})}function O(e){var n=e.width;e.width=e.height,e.height=n}function x(e){(0,o.n)(e.nodes(),function(n){N(e.node(n))}),(0,o.n)(e.edges(),function(n){var t=e.edge(n);(0,o.n)(t.points,N),Object.prototype.hasOwnProperty.call(t,"y")&&N(t)})}function N(e){e.y=-e.y}function C(e){(0,o.n)(e.nodes(),function(n){L(e.node(n))}),(0,o.n)(e.edges(),function(n){var t=e.edge(n);(0,o.n)(t.points,L),Object.prototype.hasOwnProperty.call(t,"x")&&L(t)})}function L(e){var n=e.x;e.x=e.y,e.y=n}(0,a.a)(s,"addDummyNode"),(0,a.a)(d,"simplify"),(0,a.a)(u,"asNonCompoundGraph"),(0,a.a)(c,"intersectRect"),(0,a.a)(h,"buildLayerMatrix"),(0,a.a)(f,"normalizeRanks"),(0,a.a)(g,"removeEmptyRanks"),(0,a.a)(l,"addBorderNode"),(0,a.a)(p,"maxRank"),(0,a.a)(v,"partition"),(0,a.a)(b,"time"),(0,a.a)(w,"notime"),(0,a.a)(m,"addBorderSegments"),(0,a.a)(y,"addBorderNode"),(0,a.a)(_,"adjust"),(0,a.a)(E,"undo"),(0,a.a)(k,"swapWidthHeight"),(0,a.a)(O,"swapWidthHeightOne"),(0,a.a)(x,"reverseY"),(0,a.a)(N,"reverseYOne"),(0,a.a)(C,"swapXY"),(0,a.a)(L,"swapXYOne");var P=class{static{(0,a.a)(this,"List")}constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,n=e._prev;if(n!==e)return j(n),n}enqueue(e){var n=this._sentinel;e._prev&&e._next&&j(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){for(var e=[],n=this._sentinel,t=n._prev;t!==n;)e.push(JSON.stringify(t,I)),t=t._prev;return"["+e.join(", ")+"]"}};function j(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function I(e,n){if("_next"!==e&&"_prev"!==e)return n}(0,a.a)(j,"unlink"),(0,a.a)(I,"filterOutLinks");var T=(0,i.O)(1);function R(e,n){if(e.nodeCount()<=1)return[];var t=S(e,n||T),r=D(t.graph,t.buckets,t.zeroIdx);return(0,o.d)((0,o.s)(r,function(n){return e.outEdges(n.v,n.w)}))}function D(e,n,t){for(var r,o=[],i=n[n.length-1],a=n[0];e.nodeCount();){for(;r=a.dequeue();)M(e,n,t,r);for(;r=i.dequeue();)M(e,n,t,r);if(e.nodeCount())for(var s=n.length-2;s>0;--s)if(r=n[s].dequeue()){o=o.concat(M(e,n,t,r,!0));break}}return o}function M(e,n,t,r,i){var a=i?[]:void 0;return(0,o.n)(e.inEdges(r.v),function(r){var o=e.edge(r),s=e.node(r.v);i&&a.push({v:r.v,w:r.w}),s.out-=o,F(n,t,s)}),(0,o.n)(e.outEdges(r.v),function(r){var o=e.edge(r),i=r.w,a=e.node(i);a.in-=o,F(n,t,a)}),e.removeNode(r.v),a}function S(e,n){var t=new r.a,i=0,a=0;(0,o.n)(e.nodes(),function(e){t.setNode(e,{v:e,in:0,out:0})}),(0,o.n)(e.edges(),function(e){var r=t.edge(e.v,e.w)||0,o=n(e),s=r+o;t.setEdge(e.v,e.w,s),a=Math.max(a,t.node(e.v).out+=o),i=Math.max(i,t.node(e.w).in+=o)});var s=(0,o.K)(a+i+3).map(function(){return new P}),d=i+1;return(0,o.n)(t.nodes(),function(e){F(s,d,t.node(e))}),{graph:t,buckets:s,zeroIdx:d}}function F(e,n,t){t.out?t.in?e[t.out-t.in+n].enqueue(t):e[e.length-1].enqueue(t):e[0].enqueue(t)}function G(e){var n="greedy"===e.graph().acyclicer?R(e,t(e)):z(e);function t(e){return function(n){return e.edge(n).weight}}(0,o.n)(n,function(n){var t=e.edge(n);e.removeEdge(n),t.forwardName=n.name,t.reversed=!0,e.setEdge(n.w,n.v,t,(0,o.T)("rev"))}),(0,a.a)(t,"weightFn")}function z(e){var n=[],t={},r={};function i(a){Object.prototype.hasOwnProperty.call(r,a)||(r[a]=!0,t[a]=!0,(0,o.n)(e.outEdges(a),function(e){Object.prototype.hasOwnProperty.call(t,e.w)?n.push(e):i(e.w)}),delete t[a])}return(0,a.a)(i,"dfs"),(0,o.n)(e.nodes(),i),n}function B(e){(0,o.n)(e.edges(),function(n){var t=e.edge(n);if(t.reversed){e.removeEdge(n);var r=t.forwardName;delete t.reversed,delete t.forwardName,e.setEdge(n.w,n.v,t,r)}})}function V(e){e.graph().dummyChains=[],(0,o.n)(e.edges(),function(n){q(e,n)})}function q(e,n){var t=n.v,r=e.node(t).rank,o=n.w,i=e.node(o).rank,a=n.name,d=e.edge(n),u=d.labelRank;if(i!==r+1){e.removeEdge(n);var c,h,f=void 0;for(h=0,++r;r<i;++h,++r)d.points=[],c=s(e,"edge",f={width:0,height:0,edgeLabel:d,edgeObj:n,rank:r},"_d"),r===u&&(f.width=d.width,f.height=d.height,f.dummy="edge-label",f.labelpos=d.labelpos),e.setEdge(t,c,{weight:d.weight},a),0===h&&e.graph().dummyChains.push(c),t=c;e.setEdge(t,o,{weight:d.weight},a)}}function Y(e){(0,o.n)(e.graph().dummyChains,function(n){var t,r=e.node(n),o=r.edgeLabel;for(e.setEdge(r.edgeObj,o);r.dummy;)t=e.successors(n)[0],e.removeNode(n),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),n=t,r=e.node(n)})}function A(e){var n={};function t(r){var i=e.node(r);if(Object.prototype.hasOwnProperty.call(n,r))return i.rank;n[r]=!0;var a=(0,o.G)((0,o.s)(e.outEdges(r),function(n){return t(n.w)-e.edge(n).minlen}));return(a===Number.POSITIVE_INFINITY||null==a)&&(a=0),i.rank=a}(0,a.a)(t,"dfs"),(0,o.n)(e.sources(),t)}function K(e,n){return e.node(n.w).rank-e.node(n.v).rank-e.edge(n).minlen}function H(e){var n,t,o=new r.a({directed:!1}),i=e.nodes()[0],a=e.nodeCount();for(o.setNode(i,{});J(o,e)<a;)n=W(o,e),t=o.hasNode(n.v)?K(e,n):-K(e,n),X(o,e,t);return o}function J(e,n){function t(r){(0,o.n)(n.nodeEdges(r),function(o){var i=o.v,a=r===i?o.w:i;!e.hasNode(a)&&!K(n,o)&&(e.setNode(a,{}),e.setEdge(r,a,{}),t(a))})}return(0,a.a)(t,"dfs"),(0,o.n)(e.nodes(),t),e.nodeCount()}function W(e,n){return(0,o.H)(n.edges(),function(t){if(e.hasNode(t.v)!==e.hasNode(t.w))return K(n,t)})}function X(e,n,t){(0,o.n)(e.nodes(),function(e){n.node(e).rank+=t})}function U(e){var n={},t={},r=[];function i(a){if(Object.prototype.hasOwnProperty.call(t,a))throw new Q;Object.prototype.hasOwnProperty.call(n,a)||(t[a]=!0,n[a]=!0,(0,o.n)(e.predecessors(a),i),delete t[a],r.push(a))}if((0,a.a)(i,"visit"),(0,o.n)(e.sinks(),i),(0,o.N)(n)!==e.nodeCount())throw new Q;return r}function Q(){}function Z(e,n,t){(0,i.z)(n)||(n=[n]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],s={};return(0,o.n)(n,function(n){if(!e.hasNode(n))throw new Error("Graph does not have node: "+n);$(e,n,"post"===t,s,r,a)}),a}function $(e,n,t,r,i,a){Object.prototype.hasOwnProperty.call(r,n)||(r[n]=!0,t||a.push(n),(0,o.n)(i(n),function(n){$(e,n,t,r,i,a)}),t&&a.push(n))}function ee(e,n){return Z(e,n,"post")}function ne(e,n){return Z(e,n,"pre")}function te(e){A(e=d(e));var n,t=H(e);for(ae(t),re(t,e);n=de(t);)ce(t,e,n,ue(t,e,n))}function re(e,n){var t=ee(e,e.nodes());t=t.slice(0,t.length-1),(0,o.n)(t,function(t){oe(e,n,t)})}function oe(e,n,t){var r=e.node(t).parent;e.edge(t,r).cutvalue=ie(e,n,t)}function ie(e,n,t){var r=e.node(t).parent,i=!0,a=n.edge(t,r),s=0;return a||(i=!1,a=n.edge(r,t)),s=a.weight,(0,o.n)(n.nodeEdges(t),function(o){var a=o.v===t,d=a?o.w:o.v;if(d!==r){var u=a===i,c=n.edge(o).weight;if(s+=u?c:-c,fe(e,t,d)){var h=e.edge(t,d).cutvalue;s+=u?-h:h}}}),s}function ae(e,n){arguments.length<2&&(n=e.nodes()[0]),se(e,{},1,n)}function se(e,n,t,r,i){var a=t,s=e.node(r);return n[r]=!0,(0,o.n)(e.neighbors(r),function(o){Object.prototype.hasOwnProperty.call(n,o)||(t=se(e,n,t,o,r))}),s.low=a,s.lim=t++,i?s.parent=i:delete s.parent,t}function de(e){return(0,o.q)(e.edges(),function(n){return e.edge(n).cutvalue<0})}function ue(e,n,t){var r=t.v,i=t.w;n.hasEdge(r,i)||(r=t.w,i=t.v);var a=e.node(r),s=e.node(i),d=a,u=!1;a.lim>s.lim&&(d=s,u=!0);var c=(0,o.p)(n.edges(),function(n){return u===ge(0,e.node(n.v),d)&&u!==ge(0,e.node(n.w),d)});return(0,o.H)(c,function(e){return K(n,e)})}function ce(e,n,t,r){var o=t.v,i=t.w;e.removeEdge(o,i),e.setEdge(r.v,r.w,{}),ae(e),re(e,n),he(e,n)}function he(e,n){var t=(0,o.q)(e.nodes(),function(e){return!n.node(e).parent}),r=ne(e,t);r=r.slice(1),(0,o.n)(r,function(t){var r=e.node(t).parent,o=n.edge(t,r),i=!1;o||(o=n.edge(r,t),i=!0),n.node(t).rank=n.node(r).rank+(i?o.minlen:-o.minlen)})}function fe(e,n,t){return e.hasEdge(n,t)}function ge(e,n,t){return t.low<=n.lim&&n.lim<=t.lim}function le(e){switch(e.graph().ranker){case"network-simplex":default:be(e);break;case"tight-tree":ve(e);break;case"longest-path":pe(e)}}(0,a.a)(R,"greedyFAS"),(0,a.a)(D,"doGreedyFAS"),(0,a.a)(M,"removeNode"),(0,a.a)(S,"buildState"),(0,a.a)(F,"assignBucket"),(0,a.a)(G,"run"),(0,a.a)(z,"dfsFAS"),(0,a.a)(B,"undo"),(0,a.a)(V,"run"),(0,a.a)(q,"normalizeEdge"),(0,a.a)(Y,"undo"),(0,a.a)(A,"longestPath"),(0,a.a)(K,"slack"),(0,a.a)(H,"feasibleTree"),(0,a.a)(J,"tightTree"),(0,a.a)(W,"findMinSlackEdge"),(0,a.a)(X,"shiftRanks"),(0,i.O)(1),(0,i.O)(1),U.CycleException=Q,(0,a.a)(U,"topsort"),(0,a.a)(Q,"CycleException"),Q.prototype=new Error,(0,a.a)(Z,"dfs"),(0,a.a)($,"doDfs"),(0,a.a)(ee,"postorder"),(0,a.a)(ne,"preorder"),te.initLowLimValues=ae,te.initCutValues=re,te.calcCutValue=ie,te.leaveEdge=de,te.enterEdge=ue,te.exchangeEdges=ce,(0,a.a)(te,"networkSimplex"),(0,a.a)(re,"initCutValues"),(0,a.a)(oe,"assignCutValue"),(0,a.a)(ie,"calcCutValue"),(0,a.a)(ae,"initLowLimValues"),(0,a.a)(se,"dfsAssignLowLim"),(0,a.a)(de,"leaveEdge"),(0,a.a)(ue,"enterEdge"),(0,a.a)(ce,"exchangeEdges"),(0,a.a)(he,"updateRanks"),(0,a.a)(fe,"isTreeEdge"),(0,a.a)(ge,"isDescendant"),(0,a.a)(le,"rank");var pe=A;function ve(e){A(e),H(e)}function be(e){te(e)}function we(e){var n=s(e,"root",{},"_root"),t=ye(e),r=(0,o.F)((0,o.z)(t))-1,i=2*r+1;e.graph().nestingRoot=n,(0,o.n)(e.edges(),function(n){e.edge(n).minlen*=i});var a=_e(e)+1;(0,o.n)(e.children(),function(o){me(e,n,i,a,r,t,o)}),e.graph().nodeRankFactor=i}function me(e,n,t,r,i,a,s){var d=e.children(s);if(d.length){var u=l(e,"_bt"),c=l(e,"_bb"),h=e.node(s);e.setParent(u,s),h.borderTop=u,e.setParent(c,s),h.borderBottom=c,(0,o.n)(d,function(o){me(e,n,t,r,i,a,o);var d=e.node(o),h=d.borderTop?d.borderTop:o,f=d.borderBottom?d.borderBottom:o,g=d.borderTop?r:2*r,l=h!==f?1:i-a[s]+1;e.setEdge(u,h,{weight:g,minlen:l,nestingEdge:!0}),e.setEdge(f,c,{weight:g,minlen:l,nestingEdge:!0})}),e.parent(s)||e.setEdge(n,u,{weight:0,minlen:i+a[s]})}else s!==n&&e.setEdge(n,s,{weight:0,minlen:t})}function ye(e){var n={};function t(r,i){var a=e.children(r);a&&a.length&&(0,o.n)(a,function(e){t(e,i+1)}),n[r]=i}return(0,a.a)(t,"dfs"),(0,o.n)(e.children(),function(e){t(e,1)}),n}function _e(e){return(0,o.L)(e.edges(),function(n,t){return n+e.edge(t).weight},0)}function Ee(e){var n=e.graph();e.removeNode(n.nestingRoot),delete n.nestingRoot,(0,o.n)(e.edges(),function(n){e.edge(n).nestingEdge&&e.removeEdge(n)})}function ke(e,n,t){var r,i={};(0,o.n)(t,function(t){for(var o,a,s=e.parent(t);s;){if((o=e.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void n.setEdge(a,s);s=o}})}function Oe(e,n,t){var i=xe(e),a=new r.a({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(n){return e.node(n)});return(0,o.n)(e.nodes(),function(r){var s=e.node(r),d=e.parent(r);(s.rank===n||s.minRank<=n&&n<=s.maxRank)&&(a.setNode(r),a.setParent(r,d||i),(0,o.n)(e[t](r),function(n){var t=n.v===r?n.w:n.v,i=a.edge(t,r),s=(0,o.D)(i)?0:i.weight;a.setEdge(t,r,{weight:e.edge(n).weight+s})}),Object.prototype.hasOwnProperty.call(s,"minRank")&&a.setNode(r,{borderLeft:s.borderLeft[n],borderRight:s.borderRight[n]}))}),a}function xe(e){for(var n;e.hasNode(n=(0,o.T)("_root")););return n}function Ne(e,n){for(var t=0,r=1;r<n.length;++r)t+=Ce(e,n[r-1],n[r]);return t}function Ce(e,n,t){for(var r=(0,o.U)(t,(0,o.s)(t,function(e,n){return n})),i=(0,o.d)((0,o.s)(n,function(n){return(0,o.P)((0,o.s)(e.outEdges(n),function(n){return{pos:r[n.w],weight:e.edge(n).weight}}),"pos")})),a=1;a<t.length;)a<<=1;var s=2*a-1;a-=1;var d=(0,o.s)(new Array(s),function(){return 0}),u=0;return(0,o.n)(i.forEach(function(e){var n=e.pos+a;d[n]+=e.weight;for(var t=0;n>0;)n%2&&(t+=d[n+1]),d[n=n-1>>1]+=e.weight;u+=e.weight*t})),u}function Le(e){var n={},t=(0,o.p)(e.nodes(),function(n){return!e.children(n).length}),r=(0,o.F)((0,o.s)(t,function(n){return e.node(n).rank})),i=(0,o.s)((0,o.K)(r+1),function(){return[]});function s(t){if(!(0,o.x)(n,t)){n[t]=!0;var r=e.node(t);i[r.rank].push(t),(0,o.n)(e.successors(t),s)}}(0,a.a)(s,"dfs");var d=(0,o.P)(t,function(n){return e.node(n).rank});return(0,o.n)(d,s),i}function Pe(e,n){return(0,o.s)(n,function(n){var t=e.inEdges(n);if(t.length){var r=(0,o.L)(t,function(n,t){var r=e.edge(t),o=e.node(t.v);return{sum:n.sum+r.weight*o.order,weight:n.weight+r.weight}},{sum:0,weight:0});return{v:n,barycenter:r.sum/r.weight,weight:r.weight}}return{v:n}})}function je(e,n){var t={};return(0,o.n)(e,function(e,n){var r=t[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:n};(0,o.D)(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)}),(0,o.n)(n.edges(),function(e){var n=t[e.v],r=t[e.w];!(0,o.D)(n)&&!(0,o.D)(r)&&(r.indegree++,n.out.push(t[e.w]))}),Ie((0,o.p)(t,function(e){return!e.indegree}))}function Ie(e){var n=[];function t(e){return function(n){n.merged||((0,o.D)(n.barycenter)||(0,o.D)(e.barycenter)||n.barycenter>=e.barycenter)&&Te(e,n)}}function r(n){return function(t){t.in.push(n),0===--t.indegree&&e.push(t)}}for((0,a.a)(t,"handleIn"),(0,a.a)(r,"handleOut");e.length;){var i=e.pop();n.push(i),(0,o.n)(i.in.reverse(),t(i)),(0,o.n)(i.out,r(i))}return(0,o.s)((0,o.p)(n,function(e){return!e.merged}),function(e){return(0,o.J)(e,["vs","i","barycenter","weight"])})}function Te(e,n){var t=0,r=0;e.weight&&(t+=e.barycenter*e.weight,r+=e.weight),n.weight&&(t+=n.barycenter*n.weight,r+=n.weight),e.vs=n.vs.concat(e.vs),e.barycenter=t/r,e.weight=r,e.i=Math.min(n.i,e.i),n.merged=!0}function Re(e,n){var t=v(e,function(e){return Object.prototype.hasOwnProperty.call(e,"barycenter")}),r=t.lhs,i=(0,o.P)(t.rhs,function(e){return-e.i}),a=[],s=0,d=0,u=0;r.sort(Me(!!n)),u=De(a,i,u),(0,o.n)(r,function(e){u+=e.vs.length,a.push(e.vs),s+=e.barycenter*e.weight,d+=e.weight,u=De(a,i,u)});var c={vs:(0,o.d)(a)};return d&&(c.barycenter=s/d,c.weight=d),c}function De(e,n,t){for(var r;n.length&&(r=(0,o.k)(n)).i<=t;)n.pop(),e.push(r.vs),t++;return t}function Me(e){return function(n,t){return n.barycenter<t.barycenter?-1:n.barycenter>t.barycenter?1:e?t.i-n.i:n.i-t.i}}function Se(e,n,t,r){var i=e.children(n),a=e.node(n),s=a?a.borderLeft:void 0,d=a?a.borderRight:void 0,u={};s&&(i=(0,o.p)(i,function(e){return e!==s&&e!==d}));var c=Pe(e,i);(0,o.n)(c,function(n){if(e.children(n.v).length){var o=Se(e,n.v,t,r);u[n.v]=o,Object.prototype.hasOwnProperty.call(o,"barycenter")&&Ge(n,o)}});var h=je(c,t);Fe(h,u);var f=Re(h,r);if(s&&(f.vs=(0,o.d)([s,f.vs,d]),e.predecessors(s).length)){var g=e.node(e.predecessors(s)[0]),l=e.node(e.predecessors(d)[0]);Object.prototype.hasOwnProperty.call(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+g.order+l.order)/(f.weight+2),f.weight+=2}return f}function Fe(e,n){(0,o.n)(e,function(e){e.vs=(0,o.d)(e.vs.map(function(e){return n[e]?n[e].vs:e}))})}function Ge(e,n){(0,o.D)(e.barycenter)?(e.barycenter=n.barycenter,e.weight=n.weight):(e.barycenter=(e.barycenter*e.weight+n.barycenter*n.weight)/(e.weight+n.weight),e.weight+=n.weight)}function ze(e){var n=p(e),t=Be(e,(0,o.K)(1,n+1),"inEdges"),r=Be(e,(0,o.K)(n-1,-1,-1),"outEdges"),i=Le(e);qe(e,i);for(var a,s=Number.POSITIVE_INFINITY,d=0,u=0;u<4;++d,++u){Ve(d%2?t:r,d%4>=2);var c=Ne(e,i=h(e));c<s&&(u=0,a=(0,o.f)(i),s=c)}qe(e,a)}function Be(e,n,t){return(0,o.s)(n,function(n){return Oe(e,n,t)})}function Ve(e,n){var t=new r.a;(0,o.n)(e,function(e){var r=e.graph().root,i=Se(e,r,t,n);(0,o.n)(i.vs,function(n,t){e.node(n).order=t}),ke(e,t,i.vs)})}function qe(e,n){(0,o.n)(n,function(n){(0,o.n)(n,function(n,t){e.node(n).order=t})})}function Ye(e){var n=Ke(e);(0,o.n)(e.graph().dummyChains,function(t){for(var r=e.node(t),o=r.edgeObj,i=Ae(e,n,o.v,o.w),a=i.path,s=i.lca,d=0,u=a[d],c=!0;t!==o.w;){if(r=e.node(t),c){for(;(u=a[d])!==s&&e.node(u).maxRank<r.rank;)d++;u===s&&(c=!1)}if(!c){for(;d<a.length-1&&e.node(u=a[d+1]).minRank<=r.rank;)d++;u=a[d]}e.setParent(t,u),t=e.successors(t)[0]}})}function Ae(e,n,t,r){var o,i,a=[],s=[],d=Math.min(n[t].low,n[r].low),u=Math.max(n[t].lim,n[r].lim);o=t;do{o=e.parent(o),a.push(o)}while(o&&(n[o].low>d||u>n[o].lim));for(i=o,o=r;(o=e.parent(o))!==i;)s.push(o);return{path:a.concat(s.reverse()),lca:i}}function Ke(e){var n={},t=0;function r(i){var a=t;(0,o.n)(e.children(i),r),n[i]={low:a,lim:t++}}return(0,a.a)(r,"dfs"),(0,o.n)(e.children(),r),n}function He(e,n){var t={};function r(n,r){var i=0,a=0,s=n.length,d=(0,o.k)(r);return(0,o.n)(r,function(n,u){var c=We(e,n),h=c?e.node(c).order:s;(c||n===d)&&((0,o.n)(r.slice(a,u+1),function(n){(0,o.n)(e.predecessors(n),function(r){var o=e.node(r),a=o.order;(a<i||h<a)&&(!o.dummy||!e.node(n).dummy)&&Xe(t,r,n)})}),a=u+1,i=h)}),r}return(0,a.a)(r,"visitLayer"),(0,o.L)(n,r),t}function Je(e,n){var t={};function r(n,r,i,a,s){var d;(0,o.n)((0,o.K)(r,i),function(r){d=n[r],e.node(d).dummy&&(0,o.n)(e.predecessors(d),function(n){var r=e.node(n);r.dummy&&(r.order<a||r.order>s)&&Xe(t,n,d)})})}function i(n,t){var i,a=-1,s=0;return(0,o.n)(t,function(o,d){if("border"===e.node(o).dummy){var u=e.predecessors(o);u.length&&(i=e.node(u[0]).order,r(t,s,d,a,i),s=d,a=i)}r(t,s,t.length,i,n.length)}),t}return(0,a.a)(r,"scan"),(0,a.a)(i,"visitLayer"),(0,o.L)(n,i),t}function We(e,n){if(e.node(n).dummy)return(0,o.q)(e.predecessors(n),function(n){return e.node(n).dummy})}function Xe(e,n,t){if(n>t){var r=n;n=t,t=r}Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,configurable:!0,value:{},writable:!0});var o=e[n];Object.defineProperty(o,t,{enumerable:!0,configurable:!0,value:!0,writable:!0})}function Ue(e,n,t){if(n>t){var r=n;n=t,t=r}return!!e[n]&&Object.prototype.hasOwnProperty.call(e[n],t)}function Qe(e,n,t,r){var i={},a={},s={};return(0,o.n)(n,function(e){(0,o.n)(e,function(e,n){i[e]=e,a[e]=e,s[e]=n})}),(0,o.n)(n,function(e){var n=-1;(0,o.n)(e,function(e){var d=r(e);if(d.length)for(var u=((d=(0,o.P)(d,function(e){return s[e]})).length-1)/2,c=Math.floor(u),h=Math.ceil(u);c<=h;++c){var f=d[c];a[e]===e&&n<s[f]&&!Ue(t,e,f)&&(a[f]=e,a[e]=i[e]=i[f],n=s[f])}})}),{root:i,align:a}}function Ze(e,n,t,r,i){var s={},d=$e(e,n,t,i),u=i?"borderLeft":"borderRight";function c(e,n){for(var t=d.nodes(),r=t.pop(),o={};r;)o[r]?e(r):(o[r]=!0,t.push(r),t=t.concat(n(r))),r=t.pop()}function h(e){s[e]=d.inEdges(e).reduce(function(e,n){return Math.max(e,s[n.v]+d.edge(n))},0)}function f(n){var t=d.outEdges(n).reduce(function(e,n){return Math.min(e,s[n.w]-d.edge(n))},Number.POSITIVE_INFINITY),r=e.node(n);t!==Number.POSITIVE_INFINITY&&r.borderType!==u&&(s[n]=Math.max(s[n],t))}return(0,a.a)(c,"iterate"),(0,a.a)(h,"pass1"),(0,a.a)(f,"pass2"),c(h,d.predecessors.bind(d)),c(f,d.successors.bind(d)),(0,o.n)(r,function(e){s[e]=s[t[e]]}),s}function $e(e,n,t,i){var a=new r.a,s=e.graph(),d=on(s.nodesep,s.edgesep,i);return(0,o.n)(n,function(n){var r;(0,o.n)(n,function(n){var o=t[n];if(a.setNode(o),r){var i=t[r],s=a.edge(i,o);a.setEdge(i,o,Math.max(d(e,n,r),s||0))}r=n})}),a}function en(e,n){return(0,o.H)((0,o.z)(n),function(n){var t=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return(0,o.u)(n,function(n,o){var i=an(e,o)/2;t=Math.max(n+i,t),r=Math.min(n-i,r)}),t-r})}function nn(e,n){var t=(0,o.z)(n),r=(0,o.G)(t),i=(0,o.F)(t);(0,o.n)(["u","d"],function(t){(0,o.n)(["l","r"],function(a){var s,d=t+a,u=e[d];if(u!==n){var c=(0,o.z)(u);(s="l"===a?r-(0,o.G)(c):i-(0,o.F)(c))&&(e[d]=(0,o.E)(u,function(e){return e+s}))}})})}function tn(e,n){return(0,o.E)(e.ul,function(t,r){if(n)return e[n.toLowerCase()][r];var i=(0,o.P)((0,o.s)(e,r));return(i[1]+i[2])/2})}function rn(e){var n,t=h(e),r=(0,i.T)(He(e,t),Je(e,t)),a={};(0,o.n)(["u","d"],function(i){n="u"===i?t:(0,o.z)(t).reverse(),(0,o.n)(["l","r"],function(t){"r"===t&&(n=(0,o.s)(n,function(e){return(0,o.z)(e).reverse()}));var s=("u"===i?e.predecessors:e.successors).bind(e),d=Qe(0,n,r,s),u=Ze(e,n,d.root,d.align,"r"===t);"r"===t&&(u=(0,o.E)(u,function(e){return-e})),a[i+t]=u})});var s=en(e,a);return nn(a,s),tn(a,e.graph().align)}function on(e,n,t){return function(r,o,i){var a,s=r.node(o),d=r.node(i),u=0;if(u+=s.width/2,Object.prototype.hasOwnProperty.call(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(u+=t?a:-a),a=0,u+=(s.dummy?n:e)/2,u+=(d.dummy?n:e)/2,u+=d.width/2,Object.prototype.hasOwnProperty.call(d,"labelpos"))switch(d.labelpos.toLowerCase()){case"l":a=d.width/2;break;case"r":a=-d.width/2}return a&&(u+=t?a:-a),a=0,u}}function an(e,n){return e.node(n).width}function sn(e){dn(e=u(e)),(0,o.v)(rn(e),function(n,t){e.node(t).x=n})}function dn(e){var n=h(e),t=e.graph().ranksep,r=0;(0,o.n)(n,function(n){var i=(0,o.F)((0,o.s)(n,function(n){return e.node(n).height}));(0,o.n)(n,function(n){e.node(n).y=r+i/2}),r+=i+t})}function un(e,n){var t=n&&n.debugTiming?b:w;t("layout",()=>{var n=t("  buildLayoutGraph",()=>yn(e));t("  runLayout",()=>cn(n,t)),t("  updateInputGraph",()=>hn(e,n))})}function cn(e,n){n("    makeSpaceForEdgeLabels",()=>_n(e)),n("    removeSelfEdges",()=>jn(e)),n("    acyclic",()=>G(e)),n("    nestingGraph.run",()=>we(e)),n("    rank",()=>le(u(e))),n("    injectEdgeLabelProxies",()=>En(e)),n("    removeEmptyRanks",()=>g(e)),n("    nestingGraph.cleanup",()=>Ee(e)),n("    normalizeRanks",()=>f(e)),n("    assignRankMinMax",()=>kn(e)),n("    removeEdgeLabelProxies",()=>On(e)),n("    normalize.run",()=>V(e)),n("    parentDummyChains",()=>Ye(e)),n("    addBorderSegments",()=>m(e)),n("    order",()=>ze(e)),n("    insertSelfEdges",()=>In(e)),n("    adjustCoordinateSystem",()=>_(e)),n("    position",()=>sn(e)),n("    positionSelfEdges",()=>Tn(e)),n("    removeBorderNodes",()=>Pn(e)),n("    normalize.undo",()=>Y(e)),n("    fixupEdgeLabelCoords",()=>Cn(e)),n("    undoCoordinateSystem",()=>E(e)),n("    translateGraph",()=>xn(e)),n("    assignNodeIntersects",()=>Nn(e)),n("    reversePoints",()=>Ln(e)),n("    acyclic.undo",()=>B(e))}function hn(e,n){(0,o.n)(e.nodes(),function(t){var r=e.node(t),o=n.node(t);r&&(r.x=o.x,r.y=o.y,n.children(t).length&&(r.width=o.width,r.height=o.height))}),(0,o.n)(e.edges(),function(t){var r=e.edge(t),o=n.edge(t);r.points=o.points,Object.prototype.hasOwnProperty.call(o,"x")&&(r.x=o.x,r.y=o.y)}),e.graph().width=n.graph().width,e.graph().height=n.graph().height}(0,a.a)(ve,"tightTreeRanker"),(0,a.a)(be,"networkSimplexRanker"),(0,a.a)(we,"run"),(0,a.a)(me,"dfs"),(0,a.a)(ye,"treeDepths"),(0,a.a)(_e,"sumWeights"),(0,a.a)(Ee,"cleanup"),(0,a.a)(ke,"addSubgraphConstraints"),(0,a.a)(Oe,"buildLayerGraph"),(0,a.a)(xe,"createRootNode"),(0,a.a)(Ne,"crossCount"),(0,a.a)(Ce,"twoLayerCrossCount"),(0,a.a)(Le,"initOrder"),(0,a.a)(Pe,"barycenter"),(0,a.a)(je,"resolveConflicts"),(0,a.a)(Ie,"doResolveConflicts"),(0,a.a)(Te,"mergeEntries"),(0,a.a)(Re,"sort"),(0,a.a)(De,"consumeUnsortable"),(0,a.a)(Me,"compareWithBias"),(0,a.a)(Se,"sortSubgraph"),(0,a.a)(Fe,"expandSubgraphs"),(0,a.a)(Ge,"mergeBarycenters"),(0,a.a)(ze,"order"),(0,a.a)(Be,"buildLayerGraphs"),(0,a.a)(Ve,"sweepLayerGraphs"),(0,a.a)(qe,"assignOrder"),(0,a.a)(Ye,"parentDummyChains"),(0,a.a)(Ae,"findPath"),(0,a.a)(Ke,"postorder"),(0,a.a)(He,"findType1Conflicts"),(0,a.a)(Je,"findType2Conflicts"),(0,a.a)(We,"findOtherInnerSegmentNode"),(0,a.a)(Xe,"addConflict"),(0,a.a)(Ue,"hasConflict"),(0,a.a)(Qe,"verticalAlignment"),(0,a.a)(Ze,"horizontalCompaction"),(0,a.a)($e,"buildBlockGraph"),(0,a.a)(en,"findSmallestWidthAlignment"),(0,a.a)(nn,"alignCoordinates"),(0,a.a)(tn,"balance"),(0,a.a)(rn,"positionX"),(0,a.a)(on,"sep"),(0,a.a)(an,"width"),(0,a.a)(sn,"position"),(0,a.a)(dn,"positionY"),(0,a.a)(un,"layout"),(0,a.a)(cn,"runLayout"),(0,a.a)(hn,"updateInputGraph");var fn=["nodesep","edgesep","ranksep","marginx","marginy"],gn={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ln=["acyclicer","ranker","rankdir","align"],pn=["width","height"],vn={width:0,height:0},bn=["minlen","weight","width","height","labeloffset"],wn={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},mn=["labelpos"];function yn(e){var n=new r.a({multigraph:!0,compound:!0}),t=Dn(e.graph());return n.setGraph((0,i.T)({},gn,Rn(t,fn),(0,o.J)(t,ln))),(0,o.n)(e.nodes(),function(t){var r=Dn(e.node(t));n.setNode(t,(0,o.i)(Rn(r,pn),vn)),n.setParent(t,e.parent(t))}),(0,o.n)(e.edges(),function(t){var r=Dn(e.edge(t));n.setEdge(t,(0,i.T)({},wn,Rn(r,bn),(0,o.J)(r,mn)))}),n}function _n(e){var n=e.graph();n.ranksep/=2,(0,o.n)(e.edges(),function(t){var r=e.edge(t);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function En(e){(0,o.n)(e.edges(),function(n){var t=e.edge(n);if(t.width&&t.height){var r=e.node(n.v),o={rank:(e.node(n.w).rank-r.rank)/2+r.rank,e:n};s(e,"edge-proxy",o,"_ep")}})}function kn(e){var n=0;(0,o.n)(e.nodes(),function(t){var r=e.node(t);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,n=(0,o.F)(n,r.maxRank))}),e.graph().maxRank=n}function On(e){(0,o.n)(e.nodes(),function(n){var t=e.node(n);"edge-proxy"===t.dummy&&(e.edge(t.e).labelRank=t.rank,e.removeNode(n))})}function xn(e){var n=Number.POSITIVE_INFINITY,t=0,r=Number.POSITIVE_INFINITY,i=0,s=e.graph(),d=s.marginx||0,u=s.marginy||0;function c(e){var o=e.x,a=e.y,s=e.width,d=e.height;n=Math.min(n,o-s/2),t=Math.max(t,o+s/2),r=Math.min(r,a-d/2),i=Math.max(i,a+d/2)}(0,a.a)(c,"getExtremes"),(0,o.n)(e.nodes(),function(n){c(e.node(n))}),(0,o.n)(e.edges(),function(n){var t=e.edge(n);Object.prototype.hasOwnProperty.call(t,"x")&&c(t)}),n-=d,r-=u,(0,o.n)(e.nodes(),function(t){var o=e.node(t);o.x-=n,o.y-=r}),(0,o.n)(e.edges(),function(t){var i=e.edge(t);(0,o.n)(i.points,function(e){e.x-=n,e.y-=r}),Object.prototype.hasOwnProperty.call(i,"x")&&(i.x-=n),Object.prototype.hasOwnProperty.call(i,"y")&&(i.y-=r)}),s.width=t-n+d,s.height=i-r+u}function Nn(e){(0,o.n)(e.edges(),function(n){var t,r,o=e.edge(n),i=e.node(n.v),a=e.node(n.w);o.points?(t=o.points[0],r=o.points[o.points.length-1]):(o.points=[],t=a,r=i),o.points.unshift(c(i,t)),o.points.push(c(a,r))})}function Cn(e){(0,o.n)(e.edges(),function(n){var t=e.edge(n);if(Object.prototype.hasOwnProperty.call(t,"x"))switch(("l"===t.labelpos||"r"===t.labelpos)&&(t.width-=t.labeloffset),t.labelpos){case"l":t.x-=t.width/2+t.labeloffset;break;case"r":t.x+=t.width/2+t.labeloffset}})}function Ln(e){(0,o.n)(e.edges(),function(n){var t=e.edge(n);t.reversed&&t.points.reverse()})}function Pn(e){(0,o.n)(e.nodes(),function(n){if(e.children(n).length){var t=e.node(n),r=e.node(t.borderTop),i=e.node(t.borderBottom),a=e.node((0,o.k)(t.borderLeft)),s=e.node((0,o.k)(t.borderRight));t.width=Math.abs(s.x-a.x),t.height=Math.abs(i.y-r.y),t.x=a.x+t.width/2,t.y=r.y+t.height/2}}),(0,o.n)(e.nodes(),function(n){"border"===e.node(n).dummy&&e.removeNode(n)})}function jn(e){(0,o.n)(e.edges(),function(n){if(n.v===n.w){var t=e.node(n.v);t.selfEdges||(t.selfEdges=[]),t.selfEdges.push({e:n,label:e.edge(n)}),e.removeEdge(n)}})}function In(e){var n=h(e);(0,o.n)(n,function(n){var t=0;(0,o.n)(n,function(n,r){var i=e.node(n);i.order=r+t,(0,o.n)(i.selfEdges,function(n){s(e,"selfedge",{width:n.label.width,height:n.label.height,rank:i.rank,order:r+ ++t,e:n.e,label:n.label},"_se")}),delete i.selfEdges})})}function Tn(e){(0,o.n)(e.nodes(),function(n){var t=e.node(n);if("selfedge"===t.dummy){var r=e.node(t.e.v),o=r.x+r.width/2,i=r.y,a=t.x-o,s=r.height/2;e.setEdge(t.e,t.label),e.removeNode(n),t.label.points=[{x:o+2*a/3,y:i-s},{x:o+5*a/6,y:i-s},{x:o+a,y:i},{x:o+5*a/6,y:i+s},{x:o+2*a/3,y:i+s}],t.label.x=t.x,t.label.y=t.y}})}function Rn(e,n){return(0,o.E)((0,o.J)(e,n),Number)}function Dn(e){var n={};return(0,o.n)(e,function(e,t){n[t.toLowerCase()]=e}),n}(0,a.a)(yn,"buildLayoutGraph"),(0,a.a)(_n,"makeSpaceForEdgeLabels"),(0,a.a)(En,"injectEdgeLabelProxies"),(0,a.a)(kn,"assignRankMinMax"),(0,a.a)(On,"removeEdgeLabelProxies"),(0,a.a)(xn,"translateGraph"),(0,a.a)(Nn,"assignNodeIntersects"),(0,a.a)(Cn,"fixupEdgeLabelCoords"),(0,a.a)(Ln,"reversePointsForReversedEdges"),(0,a.a)(Pn,"removeBorderNodes"),(0,a.a)(jn,"removeSelfEdges"),(0,a.a)(In,"insertSelfEdges"),(0,a.a)(Tn,"positionSelfEdges"),(0,a.a)(Rn,"selectNumberAttrs"),(0,a.a)(Dn,"canonicalize")},9285(e,n,t){t.d(n,{a:()=>d});var r=t(6337),o=t(950),i=t(746),a=t(1467),s="\0",d=class{static{(0,a.a)(this,"Graph")}constructor(e={}){this._isDirected=!Object.prototype.hasOwnProperty.call(e,"directed")||e.directed,this._isMultigraph=!!Object.prototype.hasOwnProperty.call(e,"multigraph")&&e.multigraph,this._isCompound=!!Object.prototype.hasOwnProperty.call(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=(0,i.O)(void 0),this._defaultEdgeLabelFn=(0,i.O)(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[s]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return(0,i.e)(e)||(e=(0,i.O)(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return(0,r.b)(this._nodes)}sources(){var e=this;return(0,r.p)(this.nodes(),function(n){return(0,o.d)(e._in[n])})}sinks(){var e=this;return(0,r.p)(this.nodes(),function(n){return(0,o.d)(e._out[n])})}setNodes(e,n){var t=arguments,o=this;return(0,r.n)(e,function(e){t.length>1?o.setNode(e,n):o.setNode(e)}),this}setNode(e,n){return Object.prototype.hasOwnProperty.call(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=n),this):(this._nodes[e]=arguments.length>1?n:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=s,this._children[e]={},this._children[s][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.prototype.hasOwnProperty.call(this._nodes,e)}removeNode(e){if(Object.prototype.hasOwnProperty.call(this._nodes,e)){var n=(0,a.a)(e=>this.removeEdge(this._edgeObjs[e]),"removeEdge");delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],(0,r.n)(this.children(e),e=>{this.setParent(e)}),delete this._children[e]),(0,r.n)((0,r.b)(this._in[e]),n),delete this._in[e],delete this._preds[e],(0,r.n)((0,r.b)(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if((0,r.D)(n))n=s;else{for(var t=n+="";!(0,r.D)(t);t=this.parent(t))if(t===e)throw new Error("Setting "+n+" as parent of "+e+" would create a cycle");this.setNode(n)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=n,this._children[n][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var n=this._parent[e];if(n!==s)return n}}children(e){if((0,r.D)(e)&&(e=s),this._isCompound){var n=this._children[e];if(n)return(0,r.b)(n)}else{if(e===s)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var n=this._preds[e];if(n)return(0,r.b)(n)}successors(e){var n=this._sucs[e];if(n)return(0,r.b)(n)}neighbors(e){var n=this.predecessors(e);if(n)return(0,r.Q)(n,this.successors(e))}isLeaf(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length}filterNodes(e){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var t=this;(0,r.n)(this._nodes,function(t,r){e(r)&&n.setNode(r,t)}),(0,r.n)(this._edgeObjs,function(e){n.hasNode(e.v)&&n.hasNode(e.w)&&n.setEdge(e,t.edge(e))});var o={};function i(e){var r=t.parent(e);return void 0===r||n.hasNode(r)?(o[e]=r,r):r in o?o[r]:i(r)}return(0,a.a)(i,"findParent"),this._isCompound&&(0,r.n)(n.nodes(),function(e){n.setParent(e,i(e))}),n}setDefaultEdgeLabel(e){return(0,i.e)(e)||(e=(0,i.O)(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return(0,r.z)(this._edgeObjs)}setPath(e,n){var t=this,o=arguments;return(0,r.L)(e,function(e,r){return o.length>1?t.setEdge(e,r,n):t.setEdge(e,r),r}),this}setEdge(){var e,n,t,o,i=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(e=a.v,n=a.w,t=a.name,2===arguments.length&&(o=arguments[1],i=!0)):(e=a,n=arguments[1],t=arguments[3],arguments.length>2&&(o=arguments[2],i=!0)),e=""+e,n=""+n,(0,r.D)(t)||(t=""+t);var s=h(this._isDirected,e,n,t);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,s))return i&&(this._edgeLabels[s]=o),this;if(!(0,r.D)(t)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(n),this._edgeLabels[s]=i?o:this._defaultEdgeLabelFn(e,n,t);var d=f(this._isDirected,e,n,t);return e=d.v,n=d.w,Object.freeze(d),this._edgeObjs[s]=d,u(this._preds[n],e),u(this._sucs[e],n),this._in[n][s]=d,this._out[e][s]=d,this._edgeCount++,this}edge(e,n,t){var r=1===arguments.length?g(this._isDirected,arguments[0]):h(this._isDirected,e,n,t);return this._edgeLabels[r]}hasEdge(e,n,t){var r=1===arguments.length?g(this._isDirected,arguments[0]):h(this._isDirected,e,n,t);return Object.prototype.hasOwnProperty.call(this._edgeLabels,r)}removeEdge(e,n,t){var r=1===arguments.length?g(this._isDirected,arguments[0]):h(this._isDirected,e,n,t),o=this._edgeObjs[r];return o&&(e=o.v,n=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],c(this._preds[n],e),c(this._sucs[e],n),delete this._in[n][r],delete this._out[e][r],this._edgeCount--),this}inEdges(e,n){var t=this._in[e];if(t){var o=(0,r.z)(t);return n?(0,r.p)(o,function(e){return e.v===n}):o}}outEdges(e,n){var t=this._out[e];if(t){var o=(0,r.z)(t);return n?(0,r.p)(o,function(e){return e.w===n}):o}}nodeEdges(e,n){var t=this.inEdges(e,n);if(t)return t.concat(this.outEdges(e,n))}};function u(e,n){e[n]?e[n]++:e[n]=1}function c(e,n){--e[n]||delete e[n]}function h(e,n,t,o){var i=""+n,a=""+t;if(!e&&i>a){var s=i;i=a,a=s}return i+""+a+""+((0,r.D)(o)?"\0":o)}function f(e,n,t,r){var o=""+n,i=""+t;if(!e&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};return r&&(s.name=r),s}function g(e,n){return h(e,n.v,n.w,n.name)}d.prototype._nodeCount=0,d.prototype._edgeCount=0,(0,a.a)(u,"incrementOrInitEntry"),(0,a.a)(c,"decrementOrRemoveEntry"),(0,a.a)(h,"edgeArgsToId"),(0,a.a)(f,"edgeArgsToObj"),(0,a.a)(g,"edgeObjToId")}}]);